{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///(webpack)/buildin/global.js","webpack:///src/app/_modal/index.ts","webpack:///src/app/_modal/modal.component.ts","webpack:///src/app/_modal/modal.component.html","webpack:///src/app/_modal/modal.module.ts","webpack:///src/app/_modal/modal.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.globals.ts","webpack:///src/app/app.module.ts","webpack:///src/app/classroom/classroom.component.ts","webpack:///src/app/classroom/classroom.component.html","webpack:///src/app/classroom/classroomInfo.component.html","webpack:///src/app/classroom/classroomInfo.component.ts","webpack:///src/app/footer/footer.component.ts","webpack:///src/app/footer/footer.component.html","webpack:///src/app/fund/fund.component.html","webpack:///src/app/fund/fund.component.ts","webpack:///src/app/landing/landing.component.ts","webpack:///src/app/landing/landing.component.html","webpack:///src/app/navbar/navbar.component.ts","webpack:///src/app/navbar/navbar.component.html","webpack:///src/app/services/baseClient.service.ts","webpack:///src/app/services/ens.service.ts","webpack:///src/app/services/infura.service.ts","webpack:///src/app/services/metamask.service.ts","webpack:///src/app/services/portis.service.ts","webpack:///src/app/student/student.component.html","webpack:///src/app/student/student.component.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///src/models/classroom.model.ts","webpack:///src/models/genericUser.model.ts","webpack:///src/models/mock-classroom.ts","webpack:///src/models/student.model.ts","webpack:///src/models/studentApplication.model.ts","webpack:///buffer (ignored)?6421","webpack:///buffer (ignored)?5daf","webpack:///buffer (ignored)?de59","webpack:///buffer (ignored)?f9f8","webpack:///buffer (ignored)?1bda","webpack:///util (ignored)","webpack:///util (ignored)?2688","webpack:///buffer (ignored)","webpack:///util (ignored)?a79f","webpack:///util (ignored)?1a60","webpack:///crypto (ignored)","webpack:///util (ignored)?9f2e","webpack:///util (ignored)?d4c0"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","g","Function","window","ModalComponent","modalService","el","element","nativeElement","console","error","document","body","appendChild","addEventListener","target","className","close","add","remove","style","display","classList","selector","templateUrl","styleUrls","encapsulation","None","ModalModule","imports","declarations","ModalService","modals","modal","push","filter","x","find","open","providedIn","routes","path","component","AppRoutingModule","forRoot","lastScrollTop","delta","navbarHeight","AppComponent","renderer","router","location","title","st","pageYOffset","Math","abs","navbar","getElementsByTagName","contains","innerHeight","scrollHeight","children","_router","events","event","subscribe","outerWidth","scrollTop","activeElement","listen","number","scrollY","hasScrolled","Globals","ADDR0","defaultClassroomImg","overlayLoader","useGSN","ensService","mode","userIsStudent","userIsUniversityAdmin","userIsClassroomAdmin","classrooms","Array","universityInfoNeedsRefresh","universityENSNameRecord","universityENSHasNotice","universityDisplayNotice","pageParalelRefreshLock","classlistLoaded","universityENSDescription","AppModule","providers","bootstrap","ClassroomComponent","globals","portisService","ngxLoader","displayNotice","txMode","phase","searchClassroomModalErrorMsg","searchClassroomModalProgressMsg","warned","allowanceMode","service","configureProvider","provider","log","selectedClassroom","connectClassroom","smartcontract","refreshClassroomInfo","checkApplication","selectedStudent","connectStudent","viewMyStudentApplication","address","viewMyApplicationState","state","initApplication","warn","myStudentApplication","connectService","updateState","classroomAddress","studentContractInstance","viewChallengeMaterial","material","studentApplicationContractInstance","verifyAnswer","correct","correctAnswer","updatePhase","stateBN","toNumber","getDAIBalance","val","ngOnInit","resetSearchClassroomModalErrorMsg","searchForClassroom","found","updateClassrooms","forEach","classroom","node","includes","getNode","getSubNode","toLowerCase","replace","lookupNodeAddress","ensAddress","getClassroomCount","classroomCount","length","index","getClassroomInfo","startDate","finishDate","duration","price","minScore","cutPrincipal","cutPool","isOpen","isEmpty","isActive","isFinished","addressChallenge","owner","newClassroom","refreshClassroomMetadata","setupInfo","getClassroomOwner","adminAddress","refreshClassroomConfigs","refreshClassroomParams","refreshClassroomData","stop","refreshClassroomFunds","initPortis","answer","getAddress","isStudentRegistred","isRegistered","getStudentSmartContract","studentSmartContract","onConnect","student","normalName","hasRecord","teacherClaimSubnode","nodeAddress","setAddr","label","claimSubnodeClassroom","type","text","setTxRecord","tx","start","wait","record","metadata","ENSName","name","domain","getTxEmail","email","getTxURL","url","getTxAvatar","avatar","getTxDescription","description","getTxNotice","notice","ENSHasNotice","getTxKeywordsArray","keywords","getTxRecord","skylink","files","filename","funds","DAI","Number","utils","formatEther","getLINKBalance","LINK","classroomContractInstance","oracleRandom","configs","requestIdRandom","oraclePaymentRandom","oracleTimestamp","requestIdTimestamp","oraclePaymentTimestamp","linkToken","uniswapDAI","uniswapLINK","uniswapRouter","aaveProvider","aaveLendingPool","aaveLendingPoolCore","aTokenDAI","compoundApplyPercentage","params","aaveApplyPercentage","countNewApplications","classdata","students","countReadyApplications","validStudents","courseBalance","courseFunds","aDAI","cDAI","aDAI_u","cDAI_u","ADAIContract","balanceOf","balance","principalBalanceOf","CDAIContract","balanceOfUnderlying","fundsInvested","investmentReturns","openApplications","closeApplications","applyDAI","gasLimit","beginCourse","finishCourse","processResults","startAnswerVerification","accountValues","resolveStudentAllowances","resolveUniversityCut","updateStudentScores","endProcessResults","withdrawAllResults","DAIAddress","LINKAddress","UniswapRouter","configureUniswap","changeName","percentage","changePrincipalCut","changePoolCut","changeMinScore","changeEntryPrice","parseEther","changeDuration","changeCompoundApplyPercentage","addr","changeChallenge","ChainlinkOracleRandom","ChainlinkRequestIdRandom","ChainlinkOraclePaymentRandom","ChainlinkOracleTimestamp","ChainlinkRequestIdTimestamp","ChainlinkOraclePaymentTimestamp","configureOracles","lendingPoolAddressesProvider","AaveLendingPoolAddressesProvider","configureAave","_name","txOn","studentSelfRegister","selfRegister","hashTx","hash","applyToClassroom","application","value","approveDAI","approve","DAIContract","allowance","payEntryPrice","pay","secret","setAnswerSecret","sendTx","studentAddress","withdrawAllResultsFromClassroom","collectTx","closeModal","searchForClassroomModal","txOff","ClassroomInfoComponent","FooterComponent","test","Date","FundComponent","userIsFundManager","assetsData","ETH","USDC","TUSD","USDT","BUSD","LEND","BAT","KNC","MANA","MKR","REP","WBTC","ZRX","addressERC20","investmentData","investmentResultsData","compoundColateral","compoundBorrowData","aaveColateral","aaveBorrowData","uniswapData","delay","refreshInfo","setInterval","ms","setTimeout","getRoleMembers","result","key","erc20Address","UniversityFundAddress","role","listRoles","universityFundContractInstance","operationSize","getBalance","balanceOfERC20","identifier","transferERC20","applyFundsAave","applyFundsCompound","recoverFundsAave","recoverFundsCompound","compound","swapA_B","web3","givenProvider","LandingComponent","page","page1","universityEtherscan","network","UniversityAddress","modeUniversityAdmin","connectMetamskForTests","connectMetamaskForTests","refreshUniversityInfo","initSigner","form","reset","roleMembersAdmin","refreshUniversityMetadata","loadUniversityAdmin","lookupAddress","universityENSName","checkENSRecord","getTTL","universityENSTTL","universityENSNotice","getUniversityName","universityName","getUniversityCut","universityCut","getUniversityDonations","universityDonations","getUniversityFunds","universityFunds","getUniversityBudget","universityBudget","getUniversityRevenue","universityRevenue","getUniversityReturns","universityReturns","getUniversityParams","universityParams","getUniversityFund","universityFundAddress","registerInRegistrar","setResolver","setReverse","ENSDomain","data","localStorage","getItem","JSON","parse","revokeRole","grantRole","universityContractInstance","attachFund","grantFundAdmin","applyFunds","recoverFunds","Map","param","paramArray","split","updateAddresses","_Owner","_Name","_Price","_Cutfromprincipal","_Cutfromsuccesspool","_Minimumscore","_Duration","_Challengeaddress","createClassroom","claimSubnodeStudent","tx1","donateDAI","tx2","openModal","connectGSN","donateDAi","NavbarComponent","isCollapsed","yScrollStack","lastPoppedUrl","undefined","scrollTo","pop","ev","baseClientService","useSigner","_provider","setupPublicTokens","connectUniversity","connectUniversityFund","providerOrSigner","getSigner","CompoundDAIAddress","AaveDAIAddress","LINKContract","account","listAccounts","addresses","checkContractInfo","smartContractAddress","file","JsonRpcProvider","studentAdress","studentIsRegistered","check","myStudentAddress","toString","parseBytes32String","score","viewMyApplications","applications","viewMyApplication","addressClassroom","cut","endowmentLocked","operationalBudget","donationsReceived","revenueReceived","returnsReceived","universityFund","daiToken","relayHub","classroomFactory","studentFactory","studentApplicationFactory","ensContract","ensTestRegistrar","ensPublicResolver","ensReverseRegistrar","contract","list","roleBytes","formatBytes32String","solidityKeccak256","getRoleMemberCount","size","getRoleMember","member","entryPrice","priceWei","principalCut","poolCut","openForApplication","isClassroomEmpty","classroomActive","courseFinished","challengeAddress","paramsArray","transaction","gsn","studentSelfRegisterGSN","register","newName","newClassRoom","round","input","grantRoleFund","ENSPulbicResolverAddress","setAddressInResolver","registerInReverseRegistrar","_node","setTextInResolver","secret32","withdraw","units","addressReceiver","timestampsToWait","route_buyDai","WETHAddress","balanceEther","etherVal","div","swapETHForExactTokens","route_sellDai","swapExactTokensForETH","erc20","transfer","ENSService","ENSUniversityName","namehash","setupAccount","ens","ENSRegistryAddress","registrarContract","ENSRegistrarAddress","reverseRegistrarContract","ENSReverseRegistrarAddress","deployed","defaultResolver","reverseResolverAddress","reverseResolverContract","resolverContract","expiryTimes","ttl","resolver","setSubnodeRecord","recordExists","sign","getResolverContract","setText","getTxKeywordsString","InfuraService","setupProvider","MetamaskService","Web3Provider","ethereum","enable","PortisService","portis","scope","getNetwork","networkName","onLogout","reload","onActiveWalletChanged","walletAddress","showPortis","StudentComponent","refreshAccountInfo","err","refreshStudentData","getStudentName","refreshStudentMetadata","getScore","updateApplications","hasApplications","studentENSNameRecord","studentUpdateName","updateName","studentClaimSubnode","uniswapETHForDAI","uniswapDAIForETH","environment","production","InfuraKey","DefaultGasRelayHub","DefaultTestPaymaster","DefaultStakeManager","bootstrapModule","Classroom","startDateTimestamp","finishDateTimestamp","courseEmpty","dateStringOptions","year","month","day","isClassroomNotOpen","isClassroomOpen","isClassroomClosed","isClassroomActive","isCourseFinished","id_","title_","smartcontract_","startDateTimestamp_","finishDateTimestamp_","duration_","price_","minScore_","cutPrincipal_","cutPool_","openForApplication_","courseEmpty_","classroomActive_","courseFinished_","addressChallenge_","owner_","startDate_StringDate","toLocaleDateString","finishDate_StringDate","startDate_String","toUTCString","finishDate_String","getState","GenericUser","date1","now","date2","CLASSROOMS","Student","getApplications","apps","thisApp","connectStudentApplication","viewApplicationClassroomAddress","StudentApplication","prize","principal","isConnected","viewPrincipalReturned","viewPrizeReturned"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export * from './modal.module';\r\nexport * from './modal.service';","import { Component, ViewEncapsulation, ElementRef, Input, OnInit, OnDestroy } from '@angular/core';\r\n\r\nimport { ModalService } from './modal.service';\r\n\r\n@Component({ \r\n    selector: 'jw-modal', \r\n    templateUrl: 'modal.component.html', \r\n    styleUrls: ['modal.component.less'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ModalComponent implements OnInit, OnDestroy {\r\n    @Input() id: string;\r\n    private element: any;\r\n\r\n    constructor(private modalService: ModalService, private el: ElementRef) {\r\n        this.element = el.nativeElement;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        // ensure id attribute exists\r\n        if (!this.id) {\r\n            console.error('modal must have an id');\r\n            return;\r\n        }\r\n\r\n        // move element to bottom of page (just before </body>) so it can be displayed above everything else\r\n        document.body.appendChild(this.element);\r\n\r\n        // close modal on background click\r\n        this.element.addEventListener('click', el => {\r\n            if (el.target.className === 'jw-modal') {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        // add self (this modal instance) to the modal service so it's accessible from controllers\r\n        this.modalService.add(this);\r\n    }\r\n\r\n    // remove self from modal service when component is destroyed\r\n    ngOnDestroy(): void {\r\n        this.modalService.remove(this.id);\r\n        this.element.remove();\r\n    }\r\n\r\n    // open modal\r\n    open(): void {\r\n        this.element.style.display = 'block';\r\n        document.body.classList.add('jw-modal-open');\r\n    }\r\n\r\n    // close modal\r\n    close(): void {\r\n        this.element.style.display = 'none';\r\n        document.body.classList.remove('jw-modal-open');\r\n    }\r\n}","<div class=\"jw-modal\">\r\n    <div class=\"jw-modal-body\">\r\n        <ng-content></ng-content>\r\n    </div>\r\n</div>\r\n<div class=\"jw-modal-background\"></div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ModalComponent } from './modal.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    declarations: [ModalComponent],\r\n    exports: [ModalComponent]\r\n})\r\nexport class ModalModule { }","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ModalService {\r\n    private modals: any[] = [];\r\n\r\n    add(modal: any) {\r\n        // add modal to array of active modals\r\n        this.modals.push(modal);\r\n    }\r\n\r\n    remove(id: string) {\r\n        // remove modal from array of active modals\r\n        this.modals = this.modals.filter(x => x.id !== id);\r\n    }\r\n\r\n    open(id: string) {\r\n        // open modal specified by id\r\n        const modal = this.modals.find(x => x.id === id);\r\n        modal.open();\r\n    }\r\n\r\n    close(id: string) {\r\n        // close modal specified by id\r\n        const modal = this.modals.find(x => x.id === id);\r\n        modal.close();\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LandingComponent } from './landing/landing.component';\r\nimport { ClassroomComponent } from './classroom/classroom.component';\r\nimport { StudentComponent } from './student/student.component';\r\nimport { FundComponent } from './fund/fund.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: LandingComponent },\r\n  { path: 'classroom', component: ClassroomComponent },\r\n  { path: 'student', component: StudentComponent },\r\n  { path: 'fund', component: FundComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit, Inject, Renderer2, ElementRef, ViewChild, HostListener } from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/operator/filter';\r\nimport { LocationStrategy, PlatformLocation, Location } from '@angular/common';\r\n\r\nvar lastScrollTop = 0;\r\nvar delta = 5;\r\nvar navbarHeight = 0;\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'deed';\r\n  private _router: Subscription;\r\n\r\n  constructor(private renderer: Renderer2, private router: Router, @Inject(DOCUMENT) private document: any, private element: ElementRef, public location: Location) { }\r\n  @HostListener('window:scroll', ['$event'])\r\n  hasScrolled() {\r\n\r\n    var st = window.pageYOffset;\r\n    // Make sure they scroll more than delta\r\n    if (Math.abs(lastScrollTop - st) <= delta)\r\n      return;\r\n\r\n    var navbar = document.getElementsByTagName('nav')[0];\r\n\r\n    // If they scrolled down and are past the navbar, add class .headroom--unpinned.\r\n    // This is necessary so you never see what is \"behind\" the navbar.\r\n    if (st > lastScrollTop && st > navbarHeight) {\r\n      // Scroll Down\r\n      if (navbar.classList.contains('headroom--pinned')) {\r\n        navbar.classList.remove('headroom--pinned');\r\n        navbar.classList.add('headroom--unpinned');\r\n      }\r\n      // $('.navbar.headroom--pinned').removeClass('headroom--pinned').addClass('headroom--unpinned');\r\n    } else {\r\n      // Scroll Up\r\n      //  $(window).height()\r\n      if (st + window.innerHeight < document.body.scrollHeight) {\r\n        // $('.navbar.headroom--unpinned').removeClass('headroom--unpinned').addClass('headroom--pinned');\r\n        if (navbar.classList.contains('headroom--unpinned')) {\r\n          navbar.classList.remove('headroom--unpinned');\r\n          navbar.classList.add('headroom--pinned');\r\n        }\r\n      }\r\n    }\r\n\r\n    lastScrollTop = st;\r\n  };\r\n  ngOnInit() {\r\n    var navbar: HTMLElement = this.element.nativeElement.children[0].children[0];\r\n    this._router = this.router.events.filter(event => event instanceof NavigationEnd).subscribe((event: NavigationEnd) => {\r\n      if (window.outerWidth > 991) {\r\n        window.document.children[0].scrollTop = 0;\r\n      } else {\r\n        window.document.activeElement.scrollTop = 0;\r\n      }\r\n      this.renderer.listen('window', 'scroll', (event) => {\r\n        const number = window.scrollY;\r\n        if (number > 150 || window.pageYOffset > 150) {\r\n          // add logic\r\n          navbar.classList.add('headroom--not-top');\r\n        } else {\r\n          // remove logic\r\n          navbar.classList.remove('headroom--not-top');\r\n        }\r\n      });\r\n    });\r\n    this.hasScrolled();\r\n  };\r\n}\r\n","<app-navbar></app-navbar>\r\n<router-outlet></router-outlet>\r\n<app-footer></app-footer>\r\n","import { Injectable } from '@angular/core';\r\nimport { PortisService } from './services/portis.service';\r\nimport { InfuraService } from './services/infura.service';\r\nimport { Classroom } from 'src/models/classroom.model';\r\nimport { ENSService } from './services/ens.service';\r\nimport { Student } from 'src/models/student.model';\r\nimport { baseClientService } from './services/baseClient.service';\r\nimport { MetamaskService } from './services/metamask.service';\r\n\r\n@Injectable()\r\nexport class Globals {\r\n\tpublic ADDR0 = \"0x0000000000000000000000000000000000000000\";\r\n\tpublic defaultClassroomImg = \"https://qph.fs.quoracdn.net/main-qimg-b1a1a5b86638cac39fa9e8389d4c3b46\";\r\n\r\n\tpublic overlayLoader = false;\r\n\tpublic useGSN = false;\r\n\r\n\tpublic service: PortisService | InfuraService | MetamaskService;\r\n\tpublic ensService = new ENSService();\r\n\tpublic address: string;\r\n\tpublic mode = 'unconnected';\r\n\tpublic userIsStudent = false;\r\n\tpublic userIsUniversityAdmin = false;\r\n\tpublic userIsClassroomAdmin = false;\r\n\tpublic selectedClassroom: Classroom;\r\n\tpublic selectedStudent: Student;\r\n\tpublic classrooms = new Array<Classroom>();\r\n\tpublic universityInfoNeedsRefresh = true;\r\n\tpublic universityENSNameRecord = false;\r\n\tpublic universityENSHasNotice = false;\r\n\tpublic universityDisplayNotice = true;\r\n\tpublic pageParalelRefreshLock = false;\r\n\tpublic classlistLoaded = false;\r\n\tpublic universityENSDescription = 'Loading...';\r\n\r\n\tpublic universityName: any;\r\n\tpublic universityENSName: any;\r\n\tpublic universityENSTTL: any;\r\n\tpublic universityENSNotice: any;\r\n\tpublic universityCut: any;\r\n\tpublic universityFunds: any;\r\n\tpublic universityBudget: any;\r\n\tpublic universityDonations: any;\r\n\tpublic universityRevenue: any;\r\n\tpublic universityReturns: any;\r\n\tpublic universityAdmin: any;\r\n\tpublic universityParams: any;\r\n\tpublic universityFundAddress: string;\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { ModalModule } from './_modal';\r\nimport { Globals } from './app.globals';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LandingComponent } from './landing/landing.component';\r\nimport { ClassroomComponent } from './classroom/classroom.component';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { FooterComponent } from './footer/footer.component';\r\nimport { StudentComponent } from './student/student.component';\r\nimport { ClassroomInfoComponent } from './classroom/classroomInfo.component';\r\nimport { FundComponent } from './fund/fund.component';\r\nimport { NgxUiLoaderModule } from 'ngx-ui-loader';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LandingComponent,\r\n    ClassroomComponent,\r\n    ClassroomInfoComponent,\r\n    NavbarComponent,\r\n    FooterComponent,\r\n    StudentComponent,\r\n    FundComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    RouterModule,\r\n    ModalModule,\r\n\tAppRoutingModule,\r\n\tNgxUiLoaderModule\r\n  ],\r\n  providers: [Globals],\r\n  bootstrap: [AppComponent],\r\n  exports: [FundComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n//import * as skynet from '@nebulous/skynet';\r\n\r\nimport { Classroom } from 'src/models/classroom.model';\r\nimport { ModalService } from '../_modal';\r\nimport { Globals } from '../app.globals';\r\n\r\nimport { PortisService } from '../services/portis.service';\r\nimport { InfuraService } from '../services/infura.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ENSService } from '../services/ens.service';\r\nimport { ethers } from 'ethers';\r\nimport * as Web3 from 'web3';\r\nimport { StudentApplication } from 'src/models/studentApplication.model';\r\nimport { Student } from 'src/models/student.model';\r\nimport { NgxUiLoaderService } from 'ngx-ui-loader';\r\n\r\n@Component({\r\n\tselector: 'app-classroom',\r\n\ttemplateUrl: './classroom.component.html',\r\n\tstyleUrls: ['./classroom.component.css'],\r\n})\r\nexport class ClassroomComponent implements OnInit {\r\n\tfocus;\r\n\tfocus1;\r\n\tpublic form: FormGroup;\r\n\tdisplayNotice = true;\r\n\tpublic txMode = 'off';\r\n\tpublic hashTx: any;\r\n\r\n\tpublic myStudentApplication: StudentApplication;\r\n\r\n\tphase = -1;\r\n\r\n\tconstructor(\r\n\t\tpublic globals: Globals,\r\n\t\tprivate modalService: ModalService,\r\n\t\tpublic portisService: PortisService,\r\n\t\tprivate ngxLoader: NgxUiLoaderService\r\n\t) {}\r\n\r\n\tasync ngOnInit() {\r\n\t\tif (!this.globals.service) {\r\n\t\t\tthis.globals.service = new InfuraService();\r\n\t\t\tthis.globals.ensService.configureProvider(\r\n\t\t\t\tthis.globals.service.provider,\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t\tconsole.log('Connected to infura');\r\n\t\t}\r\n\t\tif (!this.globals.selectedClassroom) return;\r\n\t\tthis.globals.service\r\n\t\t\t.connectClassroom(this.globals.selectedClassroom.smartcontract)\r\n\t\t\t.then(() => this.refreshClassroomInfo());\r\n\t\tthis.checkApplication();\r\n\t}\r\n\r\n\tprivate checkApplication() {\r\n\t\tif (!this.globals.selectedStudent) return;\r\n\t\tthis.phase = 0;\r\n\t\tthis.globals.service.connectStudent().then(() => {\r\n\t\t\tthis.globals.service\r\n\t\t\t\t.viewMyStudentApplication(\r\n\t\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t\t)\r\n\t\t\t\t.then((address) => {\r\n\t\t\t\t\tthis.globals.service\r\n\t\t\t\t\t\t.viewMyApplicationState(\r\n\t\t\t\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.then(\r\n\t\t\t\t\t\t\t(state) => this.initApplication(address, state),\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\tconsole.warn(\r\n\t\t\t\t\t\t\t\t\t'Student does not have an application'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate initApplication(address: string, state: any): any {\r\n\t\tthis.myStudentApplication = new StudentApplication(\r\n\t\t\tthis.globals,\r\n\t\t\taddress,\r\n\t\t\tthis.globals.address\r\n\t\t);\r\n\t\tthis.myStudentApplication.connectService();\r\n\t\tthis.myStudentApplication.updateState();\r\n\t\tthis.myStudentApplication.classroomAddress = this.globals.selectedClassroom.smartcontract;\r\n\t\tthis.myStudentApplication.state = state;\r\n\t\t//TODO: abstract service\r\n\t\tthis.globals.service.studentContractInstance\r\n\t\t\t.viewChallengeMaterial(this.myStudentApplication.classroomAddress)\r\n\t\t\t.then(\r\n\t\t\t\t(material) => (this.myStudentApplication.material = material)\r\n\t\t\t);\r\n\t\tthis.globals.service.studentApplicationContractInstance\r\n\t\t\t.verifyAnswer()\r\n\t\t\t.then(\r\n\t\t\t\t(correct: boolean) =>\r\n\t\t\t\t\t(this.myStudentApplication.correctAnswer = correct),\r\n\t\t\t\t() => {\r\n\t\t\t\t\tconsole.warn('Answer not found');\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\tthis.updatePhase(state);\r\n\t}\r\n\r\n\tprivate updatePhase(stateBN: any) {\r\n\t\tconst state = stateBN.toNumber();\r\n\t\tif (state > 2) {\r\n\t\t\tthis.phase = 5;\r\n\t\t\tthis.globals.service.getDAIBalance(this.myStudentApplication.address).then((val) => {\r\n\t\t\t\tif (val == 0) this.phase++;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.phase = state + 1;\r\n\t\t\tif (this.myStudentApplication.verifyAnswer) this.phase++;\r\n\t\t}\r\n\t}\r\n\r\n\trefreshApplication() {\r\n\t\tthis.myStudentApplication.updateState().then(() => {\r\n\t\t\tthis.globals.service\r\n\t\t\t\t.viewMyApplicationState(\r\n\t\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t\t)\r\n\t\t\t\t.then((state) => {\r\n\t\t\t\t\tthis.myStudentApplication.state = state;\r\n\t\t\t\t\tthis.updatePhase(state);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\topenModal(id: string) {\r\n\t\tthis.modalService.open(id);\r\n\t}\r\n\tcloseModal(id: string) {\r\n\t\tthis.modalService.close(id);\r\n\t\tthis.ngOnInit();\r\n\t\tif (id == 'custom-modal-search-classroom')\r\n\t\t\tthis.resetSearchClassroomModalErrorMsg();\r\n\t}\r\n\r\n\tcloseNotice() {\r\n\t\tthis.displayNotice = false;\r\n\t}\r\n\r\n\ttxOn() {\r\n\t\tthis.txMode = 'preTX';\r\n\t}\r\n\r\n\ttxOff() {\r\n\t\tthis.txMode = 'off';\r\n\t}\r\n\r\n\tsearchClassroomModalErrorMsg = false;\r\n\tsearchClassroomModalProgressMsg = false;\r\n\r\n\tresetSearchClassroomModalErrorMsg() {\r\n\t\tthis.searchClassroomModalErrorMsg = false;\r\n\t}\r\n\r\n\tasync searchForClassroomModal(address: string) {\r\n\t\tconst found = await this.searchForClassroom(address);\r\n\t\tif (found) this.checkApplication();\r\n\t}\r\n\r\n\tprivate async searchForClassroom(address: string) {\r\n\t\tthis.searchClassroomModalProgressMsg = true;\r\n\t\tawait this.updateClassrooms();\r\n\t\tthis.globals.classrooms.forEach((classroom) => {\r\n\t\t\tif (classroom.smartcontract === address) {\r\n\t\t\t\tthis.modalService.close('custom-modal-search-classroom');\r\n\t\t\t\tthis.globals.selectedClassroom = classroom;\r\n\t\t\t\tthis.searchClassroomModalProgressMsg = false;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst node = address.includes('.')\r\n\t\t\t? this.globals.ensService.getNode(address)\r\n\t\t\t: this.globals.ensService.getSubNode(\r\n\t\t\t\t\taddress.toLowerCase().replace(/\\s/g, '')\r\n\t\t\t  );\r\n\t\tconst ensAddress = await this.globals.ensService.lookupNodeAddress(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tthis.globals.classrooms.forEach((classroom) => {\r\n\t\t\tif (classroom.smartcontract === ensAddress) {\r\n\t\t\t\tthis.modalService.close('custom-modal-search-classroom');\r\n\t\t\t\tthis.globals.selectedClassroom = classroom;\r\n\t\t\t\tthis.searchClassroomModalProgressMsg = false;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.searchClassroomModalProgressMsg = false;\r\n\t\tthis.searchClassroomModalErrorMsg = true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tasync updateClassrooms() {\r\n\t\tlet classroomCount = await this.globals.service.getClassroomCount();\r\n\t\tif (this.globals.classrooms.length == classroomCount) return;\r\n\t\tthis.globals.classlistLoaded = false;\r\n\t\tthis.globals.classrooms = new Array<Classroom>();\r\n\t\tlet index = 0;\r\n\t\twhile (index < classroomCount) {\r\n\t\t\tconst [\r\n\t\t\t\ttitle,\r\n\t\t\t\tsmartcontract,\r\n\t\t\t\tstartDate,\r\n\t\t\t\tfinishDate,\r\n\t\t\t\tduration,\r\n\t\t\t\tprice,\r\n\t\t\t\tminScore,\r\n\t\t\t\tcutPrincipal,\r\n\t\t\t\tcutPool,\r\n\t\t\t\tisOpen,\r\n\t\t\t\tisEmpty,\r\n\t\t\t\tisActive,\r\n\t\t\t\tisFinished,\r\n\t\t\t\taddressChallenge,\r\n\t\t\t\towner,\r\n\t\t\t] = await this.globals.service.getClassroomInfo(index);\r\n\t\t\tconst newClassroom = new Classroom(\r\n\t\t\t\tindex,\r\n\t\t\t\ttitle,\r\n\t\t\t\tsmartcontract,\r\n\t\t\t\tstartDate,\r\n\t\t\t\tfinishDate,\r\n\t\t\t\tduration / (60 * 60 * 24),\r\n\t\t\t\tprice,\r\n\t\t\t\tminScore,\r\n\t\t\t\tcutPrincipal / 1e4,\r\n\t\t\t\tcutPool / 1e4,\r\n\t\t\t\tisOpen,\r\n\t\t\t\tisEmpty,\r\n\t\t\t\tisActive,\r\n\t\t\t\tisFinished,\r\n\t\t\t\taddressChallenge,\r\n\t\t\t\towner\r\n\t\t\t);\r\n\t\t\tthis.globals.classrooms.push(newClassroom);\r\n\t\t\tawait this.refreshClassroomMetadata(newClassroom);\r\n\t\t\tindex++;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic refreshClassroomInfo() {\r\n\t\tthis.globals.service\r\n\t\t\t.getClassroomInfo(this.globals.selectedClassroom.id)\r\n\t\t\t.then(\r\n\t\t\t\t([\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tsmartcontract,\r\n\t\t\t\t\tstartDate,\r\n\t\t\t\t\tfinishDate,\r\n\t\t\t\t\tduration,\r\n\t\t\t\t\tprice,\r\n\t\t\t\t\tminScore,\r\n\t\t\t\t\tcutPrincipal,\r\n\t\t\t\t\tcutPool,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tisEmpty,\r\n\t\t\t\t\tisActive,\r\n\t\t\t\t\tisFinished,\r\n\t\t\t\t\taddressChallenge,\r\n\t\t\t\t\towner,\r\n\t\t\t\t]) =>\r\n\t\t\t\t\tthis.globals.selectedClassroom.setupInfo(\r\n\t\t\t\t\t\tthis.globals.selectedClassroom.id,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tsmartcontract,\r\n\t\t\t\t\t\tstartDate,\r\n\t\t\t\t\t\tfinishDate,\r\n\t\t\t\t\t\tduration / (60 * 60 * 24),\r\n\t\t\t\t\t\tprice,\r\n\t\t\t\t\t\tminScore,\r\n\t\t\t\t\t\tcutPrincipal / 1e4,\r\n\t\t\t\t\t\tcutPool / 1e4,\r\n\t\t\t\t\t\tisOpen,\r\n\t\t\t\t\t\tisEmpty,\r\n\t\t\t\t\t\tisActive,\r\n\t\t\t\t\t\tisFinished,\r\n\t\t\t\t\t\taddressChallenge,\r\n\t\t\t\t\t\towner\r\n\t\t\t\t\t)\r\n\t\t\t);\r\n\t\tthis.globals.service.getClassroomOwner().then((adminAddress) => {\r\n\t\t\tthis.globals.userIsClassroomAdmin =\r\n\t\t\t\tthis.globals.address == adminAddress;\r\n\t\t\tif (this.globals.userIsClassroomAdmin) {\r\n\t\t\t\tthis.refreshClassroomConfigs();\r\n\t\t\t\tthis.refreshClassroomParams();\r\n\t\t\t\tthis.refreshClassroomData();\r\n\t\t\t}\r\n\t\t\tthis.ngxLoader.stop();\r\n\t\t});\r\n\t\tthis.refreshClassroomFunds();\r\n\t\tthis.refreshClassroomMetadata();\r\n\t}\r\n\r\n\tasync conectPortis(): Promise<any> {\r\n\t\tthis.globals.mode = 'loadingPage';\r\n\t\tconst answer = await this.portisService.initPortis();\r\n\t\tif (!answer) {\r\n\t\t\tthis.globals.mode = 'unconnected';\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.globals.address = await this.portisService.getAddress();\r\n\t\tthis.globals.service = this.portisService;\r\n\t\tthis.globals.ensService.configureProvider(this.portisService.provider);\r\n\t\tif (this.globals.selectedClassroom) {\r\n\t\t\tawait this.portisService.connectClassroom(\r\n\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t);\r\n\t\t\tconst adminAddress = await this.portisService.getClassroomOwner();\r\n\t\t\tthis.globals.userIsClassroomAdmin =\r\n\t\t\t\tthis.globals.address == adminAddress;\r\n\t\t}\r\n\t\tconst isRegistered = await this.globals.service.isStudentRegistred();\r\n\t\tif (!isRegistered) {\r\n\t\t\tthis.globals.mode = 'connected';\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.globals.userIsStudent = true;\r\n\t\t\tthis.globals.mode = 'registered';\r\n\t\t\tconst studentSmartContract = await this.globals.service.getStudentSmartContract();\r\n\t\t\tthis.onConnect(new Student(this.globals, studentSmartContract));\r\n\t\t\tthis.checkApplication();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tonConnect(student: Student | void): void {\r\n\t\tif (student) this.globals.selectedStudent = student;\r\n\t\telse\r\n\t\t\tthis.globals.selectedStudent = new Student(\r\n\t\t\t\tthis.globals,\r\n\t\t\t\tthis.globals.ADDR0\r\n\t\t\t);\r\n\t}\r\n\r\n\tasync registerENSRecord() {\r\n\t\tconst normalName = this.globals.selectedClassroom.title\r\n\t\t\t.toLowerCase()\r\n\t\t\t.replace(/\\s/g, '');\r\n\t\tconst node = this.globals.ensService.getSubNode(normalName);\r\n\t\tconst hasRecord = await this.globals.ensService.hasRecord(node);\r\n\t\tif (!hasRecord)\r\n\t\t\tawait this.teacherClaimSubnode(\r\n\t\t\t\tnormalName,\r\n\t\t\t\tthis.globals.address,\r\n\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t);\r\n\t\tconst nodeAddress = await this.globals.ensService.lookupNodeAddress(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tif (nodeAddress === this.globals.ADDR0)\r\n\t\t\tawait this.globals.ensService.setAddr(\r\n\t\t\t\tnode,\r\n\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t);\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n\r\n\tasync teacherClaimSubnode(label, owner, classroom) {\r\n\t\tconst node = this.globals.ensService.node;\r\n\t\tconst normalName = label.toLowerCase().replace(/\\s/g, '');\r\n\t\tawait this.globals.service.claimSubnodeClassroom(\r\n\t\t\tnode,\r\n\t\t\tnormalName,\r\n\t\t\towner,\r\n\t\t\tclassroom\r\n\t\t);\r\n\t}\r\n\r\n\tasync setMetadataRecord(type: string, text: string) {\r\n\t\tconst normalName = this.globals.selectedClassroom.title\r\n\t\t\t.toLowerCase()\r\n\t\t\t.replace(/\\s/g, '');\r\n\t\tconst node = this.globals.ensService.getSubNode(normalName);\r\n\t\tconst tx = await this.globals.ensService.setTxRecord(type, text, node);\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n\r\n\tasync refreshClassroomMetadata(\r\n\t\tclassroom: Classroom = this.globals.selectedClassroom\r\n\t) {\r\n\t\tconst normalName = classroom.title.toLowerCase().replace(/\\s/g, '');\r\n\t\tconst node = this.globals.ensService.getSubNode(normalName);\r\n\t\tconst record = await this.globals.ensService.hasRecord(node);\r\n\t\tif (!record) return;\r\n\t\tclassroom.metadata.ENSName =\r\n\t\t\tnormalName +\r\n\t\t\t'.' +\r\n\t\t\tthis.globals.ensService.name +\r\n\t\t\tthis.globals.ensService.domain;\r\n\t\tclassroom.metadata.email = await this.globals.ensService.getTxEmail(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.metadata.url = await this.globals.ensService.getTxURL(node);\r\n\t\tclassroom.metadata.avatar = await this.globals.ensService.getTxAvatar(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.metadata.description = await this.globals.ensService.getTxDescription(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.metadata.notice = await this.globals.ensService.getTxNotice(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.ENSHasNotice = classroom.metadata.notice.length > 0;\r\n\t\tclassroom.metadata.keywords = await this.globals.ensService.getTxKeywordsArray(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.metadata.skylink = await this.globals.ensService.getTxRecord(\r\n\t\t\tnode,\r\n\t\t\t'skylink'\r\n\t\t);\r\n\t}\r\n\r\n\twarned = false;\r\n\r\n\tasync uploadSkylink(files) {\r\n\t\tif (!this.warned){\r\n\t\t\tconsole.warn(\"Please upload the file to siasky and paste the record to register. We are working to fix this issue\");\r\n\t\t\tthis.warned = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// this.ngxLoader.start();\r\n\t\t// const file = files[0];\r\n\t\t// console.log(file);\r\n\t\t// const skylink = await skynet.UploadFile(\r\n\t\t// \tfile,\r\n\t\t// \tskynet.DefaultUploadOptions\r\n\t\t// );\r\n\t\t// console.log(`Upload successful, skylink: ${skylink}`);\r\n\t\t// this.ngxLoader.stop();\r\n\t}\r\n\r\n\tdownloadSkylink(skylink, filename) {\r\n\t\tif (!this.warned){\r\n\t\t\tconsole.warn(\"Please copy the link and download the file from siasky. We are working to fix this issue\");\r\n\t\t\tthis.warned = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// skynet.DownloadFile(\r\n\t\t// \tfilename,\r\n\t\t// \tskylink,\r\n\t\t// \tskynet.DefaultDownloadOptions\r\n\t\t//);\r\n\t}\r\n\r\n\trefreshClassroomFunds(\r\n\t\tclassroom: Classroom = this.globals.selectedClassroom\r\n\t) {\r\n\t\tthis.globals.service\r\n\t\t\t.getDAIBalance(this.globals.selectedClassroom.smartcontract)\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.funds.DAI = Number(\r\n\t\t\t\t\t\tethers.utils.formatEther(val)\r\n\t\t\t\t\t))\r\n\t\t\t);\r\n\t\tthis.globals.service\r\n\t\t\t.getLINKBalance(this.globals.selectedClassroom.smartcontract)\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.funds.LINK = Number(\r\n\t\t\t\t\t\tethers.utils.formatEther(val)\r\n\t\t\t\t\t))\r\n\t\t\t);\r\n\t}\r\n\r\n\tasync exchangeDAI_LINK(val: number) {}\r\n\r\n\tasync exchangeLINK_DAI(val: number) {}\r\n\r\n\trefreshClassroomConfigs(\r\n\t\tclassroom: Classroom = this.globals.selectedClassroom\r\n\t) {\r\n\t\t//TODO: abstract service\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.oracleRandom()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.oracleRandom = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.requestIdRandom()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.requestIdRandom = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.oraclePaymentRandom()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.oraclePaymentRandom = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.oracleTimestamp()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.oracleTimestamp = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.requestIdTimestamp()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.requestIdTimestamp = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.oraclePaymentTimestamp()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.oraclePaymentTimestamp = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.linkToken()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.linkToken = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.uniswapDAI()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.uniswapDAI = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.uniswapLINK()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.uniswapLINK = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.uniswapRouter()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.uniswapRouter = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.aaveProvider()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.aaveProvider = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.aaveLendingPool()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.aaveLendingPool = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.aaveLendingPoolCore()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.aaveLendingPoolCore = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.aTokenDAI()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.configs.aTokenDAI = val)\r\n\t\t\t);\r\n\t}\r\n\r\n\trefreshClassroomParams(\r\n\t\tclassroom: Classroom = this.globals.selectedClassroom\r\n\t) {\r\n\t\t//TODO: abstract service\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.compoundApplyPercentage()\r\n\t\t\t.then((val) => {\r\n\t\t\t\tthis.globals.selectedClassroom.params.compoundApplyPercentage =\r\n\t\t\t\t\tval / 1e4;\r\n\t\t\t\tthis.globals.selectedClassroom.params.aaveApplyPercentage =\r\n\t\t\t\t\t100 -\r\n\t\t\t\t\tthis.globals.selectedClassroom.params\r\n\t\t\t\t\t\t.compoundApplyPercentage;\r\n\t\t\t});\r\n\t}\r\n\r\n\trefreshClassroomData(\r\n\t\tclassroom: Classroom = this.globals.selectedClassroom\r\n\t) {\r\n\t\t//TODO: abstract service\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.countNewApplications()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.classdata.students = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.countReadyApplications()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.classdata.validStudents = val)\r\n\t\t\t);\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.courseBalance()\r\n\t\t\t.then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.globals.selectedClassroom.classdata.courseBalance =\r\n\t\t\t\t\t\tval / 1e18)\r\n\t\t\t);\r\n\t\tthis.courseFunds();\r\n\t}\r\n\r\n\tprivate courseFunds() {\r\n\t\tlet [aDAI, cDAI, aDAI_u, cDAI_u] = [0, 0, 0, 0];\r\n\t\tthis.globals.service.ADAIContract.balanceOf(\r\n\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t).then((balance) => {\r\n\t\t\taDAI = balance / 1e18;\r\n\t\t\tthis.globals.service.ADAIContract.principalBalanceOf(\r\n\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t).then((balance) => {\r\n\t\t\t\taDAI_u = balance / 1e18;\r\n\t\t\t\tthis.globals.service.CDAIContract.balanceOf(\r\n\t\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t\t).then((balance) => {\r\n\t\t\t\t\tcDAI = balance / 1e8;\r\n\t\t\t\t\tthis.globals.service.CDAIContract.balanceOfUnderlying(\r\n\t\t\t\t\t\tthis.globals.selectedClassroom.smartcontract\r\n\t\t\t\t\t).then((balance) => {\r\n\t\t\t\t\t\tcDAI_u = balance / 1e8;\r\n\t\t\t\t\t\tthis.globals.selectedClassroom.classdata.fundsInvested =\r\n\t\t\t\t\t\t\taDAI_u + cDAI_u;\r\n\t\t\t\t\t\tthis.globals.selectedClassroom.classdata.investmentReturns =\r\n\t\t\t\t\t\t\taDAI +\r\n\t\t\t\t\t\t\tcDAI -\r\n\t\t\t\t\t\t\tthis.globals.selectedClassroom.classdata\r\n\t\t\t\t\t\t\t\t.fundsInvested;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\topenApplications() {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.openApplications()\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tcloseApplications() {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.closeApplications()\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tapplyDAI() {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.applyDAI({ gasLimit: 821000 })\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tbeginCourse() {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.beginCourse(false)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tfinishCourse() {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.finishCourse({ gasLimit: 1210000 })\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync processResults() {\r\n\t\tlet tx;\r\n\t\ttx = await this.globals.service.classroomContractInstance.processResults();\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\ttx = await this.globals.service.classroomContractInstance.startAnswerVerification();\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\ttx = await this.globals.service.classroomContractInstance.accountValues();\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\ttx = await this.globals.service.classroomContractInstance.resolveStudentAllowances();\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\ttx = await this.globals.service.classroomContractInstance.resolveUniversityCut();\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\ttx = await this.globals.service.classroomContractInstance.updateStudentScores();\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\ttx = await this.globals.service.classroomContractInstance.endProcessResults();\r\n\t\tthis.ngxLoader.start();\r\n\t\tawait tx.wait();\r\n\t\tthis.refreshClassroomInfo();\r\n\t}\r\n\r\n\twithdrawAllResults() {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.withdrawAllResults()\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tconfigureUniswap(\r\n\t\tuniswapDAI: string,\r\n\t\tuniswapLINK: string,\r\n\t\tuniswapRouter: string\r\n\t) {\r\n\t\t//TODO: abstract service\r\n\t\tuniswapDAI = uniswapDAI ? uniswapDAI : environment.DAIAddress;\r\n\t\tuniswapLINK = uniswapLINK ? uniswapLINK : environment.LINKAddress;\r\n\t\tuniswapRouter = uniswapRouter\r\n\t\t\t? uniswapRouter\r\n\t\t\t: environment.UniswapRouter;\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.configureUniswap(uniswapDAI, uniswapLINK, uniswapRouter)\r\n\t\t\t.then((tx) => tx.wait().then(() => this.refreshClassroomConfigs()));\r\n\t}\r\n\r\n\tchangeName(val) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changeName(val)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangePrincipalCut(percentage) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changePrincipalCut(percentage * 1e4)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangePoolCut(percentage) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changePoolCut(percentage * 1e4)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeMinScore(val) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changeMinScore(val)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeEntryPrice(val: string) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changeEntryPrice(ethers.utils.parseEther(val))\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeDuration(val) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changeDuration(val)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeCompoundApplyPercentage(percentage) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changeCompoundApplyPercentage(percentage * 1e4)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tchangeChallenge(addr) {\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.changeChallenge(addr)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomInfo());\r\n\t\t\t});\r\n\t}\r\n\r\n\tconfigureOracles(\r\n\t\toracleRandom: string,\r\n\t\trequestIdRandom: string,\r\n\t\toraclePaymentRandom: number,\r\n\t\toracleTimestamp: string,\r\n\t\trequestIdTimestamp: string,\r\n\t\toraclePaymentTimestamp: number,\r\n\t\tlinkToken: string\r\n\t) {\r\n\t\t//TODO: abstract service\r\n\t\toracleRandom = oracleRandom\r\n\t\t\t? oracleRandom\r\n\t\t\t: environment.ChainlinkOracleRandom;\r\n\t\trequestIdRandom = requestIdRandom\r\n\t\t\t? requestIdRandom\r\n\t\t\t: environment.ChainlinkRequestIdRandom;\r\n\t\toraclePaymentRandom = oraclePaymentRandom\r\n\t\t\t? oraclePaymentRandom\r\n\t\t\t: environment.ChainlinkOraclePaymentRandom;\r\n\t\toracleTimestamp = oracleTimestamp\r\n\t\t\t? oracleTimestamp\r\n\t\t\t: environment.ChainlinkOracleTimestamp;\r\n\t\trequestIdTimestamp = requestIdTimestamp\r\n\t\t\t? requestIdTimestamp\r\n\t\t\t: environment.ChainlinkRequestIdTimestamp;\r\n\t\toraclePaymentTimestamp = oraclePaymentTimestamp\r\n\t\t\t? oraclePaymentTimestamp\r\n\t\t\t: environment.ChainlinkOraclePaymentTimestamp;\r\n\t\tlinkToken = linkToken ? linkToken : environment.LINKAddress;\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.configureOracles(\r\n\t\t\t\toracleRandom,\r\n\t\t\t\trequestIdRandom,\r\n\t\t\t\toraclePaymentRandom,\r\n\t\t\t\toracleTimestamp,\r\n\t\t\t\trequestIdTimestamp,\r\n\t\t\t\toraclePaymentTimestamp,\r\n\t\t\t\tlinkToken,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomConfigs());\r\n\t\t\t});\r\n\t}\r\n\r\n\tconfigureAave(lendingPoolAddressesProvider: string) {\r\n\t\tlendingPoolAddressesProvider = lendingPoolAddressesProvider\r\n\t\t\t? lendingPoolAddressesProvider\r\n\t\t\t: environment.AaveLendingPoolAddressesProvider;\r\n\t\tthis.globals.service.classroomContractInstance\r\n\t\t\t.configureAave(lendingPoolAddressesProvider)\r\n\t\t\t.then((tx) => {\r\n\t\t\t\tthis.ngxLoader.start();\r\n\t\t\t\ttx.wait().then(() => this.refreshClassroomConfigs());\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync studentSelfRegister(_name: string): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tif (_name.length < 1) {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst selfRegister = await this.globals.service.studentSelfRegister(\r\n\t\t\t\t_name\r\n\t\t\t);\r\n\t\t\tthis.ngxLoader.start();\r\n\t\t\tif (!selfRegister) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tawait selfRegister.wait();\r\n\t\t\t\tthis.hashTx = selfRegister.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n\r\n\tasync applyClassroom(): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tconst classroomAddress = this.globals.selectedClassroom.smartcontract;\r\n\t\tif (classroomAddress == '') {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst application = await this.globals.service.applyToClassroom(\r\n\t\t\t\tclassroomAddress\r\n\t\t\t);\r\n\t\t\tthis.ngxLoader.start();\r\n\t\t\tif (!application) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tawait application.wait();\r\n\t\t\t\tthis.hashTx = application.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n\r\n\tasync approveStart(): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tconst value = this.globals.selectedClassroom.price;\r\n\t\tthis.txMode = 'processingTX';\r\n\t\tconst approve = await this.globals.service.approveDAI(\r\n\t\t\tvalue,\r\n\t\t\tthis.myStudentApplication.address\r\n\t\t);\r\n\t\tthis.ngxLoader.start();\r\n\t\tif (!approve) {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tawait approve.wait();\r\n\t\t\tthis.hashTx = approve.hash;\r\n\t\t\tthis.txMode = 'successTX';\r\n\t\t\tthis.allowanceMode = 2;\r\n\t\t}\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n\r\n\tallowanceMode = -1;\r\n\r\n\tcheckAllowance() {\r\n\t\tif (this.allowanceMode > 0) return;\r\n\t\tthis.globals.service.DAIContract.allowance(\r\n\t\t\tthis.globals.address,\r\n\t\t\tthis.myStudentApplication.address\r\n\t\t).then((val) => {\r\n\t\t\tif (\r\n\t\t\t\tNumber(ethers.utils.formatEther(val)) >=\r\n\t\t\t\tthis.globals.selectedClassroom.price\r\n\t\t\t) {\r\n\t\t\t\tthis.allowanceMode = 2;\r\n\t\t\t} else {\r\n\t\t\t\tthis.allowanceMode = 1;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tasync payPrice(): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tthis.txMode = 'processingTX';\r\n\t\tconst pay = await this.globals.service.payEntryPrice();\r\n\t\tthis.ngxLoader.start();\r\n\t\tif (!pay) {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tawait pay.wait();\r\n\t\t\tthis.hashTx = pay.hash;\r\n\t\t\tthis.txMode = 'successTX';\r\n\t\t\tthis.allowanceMode = 3;\r\n\t\t\tthis.phase = 2;\r\n\t\t}\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n\r\n\tasync sendAnswer(secret: string): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tconst classroomAddress = this.globals.selectedClassroom.smartcontract;\r\n\t\tif (classroomAddress == '' || secret == '') {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst sendTx = await this.globals.service.setAnswerSecret(\r\n\t\t\t\tclassroomAddress,\r\n\t\t\t\tsecret\r\n\t\t\t);\r\n\t\t\tthis.ngxLoader.start();\r\n\t\t\tif (!sendTx) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tawait sendTx.wait();\r\n\t\t\t\tthis.hashTx = sendTx.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n\r\n\tasync colletcReward(): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tconst classroomAddress = this.globals.selectedClassroom.smartcontract;\r\n\t\tconst studentAddress = this.globals.address;\r\n\t\tif (classroomAddress == '' || studentAddress == '') {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst collectTx = await this.globals.service.withdrawAllResultsFromClassroom(\r\n\t\t\t\tclassroomAddress,\r\n\t\t\t\tstudentAddress\r\n\t\t\t);\r\n\t\t\tthis.ngxLoader.start();\r\n\t\t\tif (!collectTx) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tawait collectTx.wait();\r\n\t\t\t\tthis.hashTx = collectTx.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.ngxLoader.stop();\r\n\t}\r\n}\r\n","<main>\r\n    <section class=\"section section-shaped section-lg\">\r\n        <div class=\"shape shape-style-1 bg-gradient-default\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n        </div>\r\n        <div class=\"container py-lg-md d-flex\">\r\n            <div class=\"col\">\r\n                <div class=\"row mb-4\">\r\n                    <div *ngIf=!globals.selectedClassroom class=\"col-lg-8 mb-4\">\r\n                        <h1 class=\"display-3  text-white\">get started\r\n                            <span>begin your journey today</span>\r\n                        </h1>\r\n                        <p class=\"lead  text-white\">Climb your way to mastering a new skill in 7 easy steps. In this process you can earn money and even become a teacher yourself in the end.\r\n                            <div class=\"btn-wrapper\">\r\n                                <a [routerLink]=\"['/']\" class=\"btn btn-white btn-icon mb-3 mb-sm-0\">\r\n                                    <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                    <span class=\"btn-inner--text\">Back</span>\r\n                                </a>\r\n                                <a (click)=\"openModal('custom-modal-search-classroom');\" class=\"btn btn-primary text-white btn-icon mb-3 mb-sm-0\">\r\n                                    <span class=\"btn-inner--icon\"><i class=\"fa fa-search\"></i></span>\r\n                                    <span class=\"btn-inner--text\">Search Address</span>\r\n                                </a>\r\n                            </div>\r\n                    </div>\r\n                    <div *ngIf=globals.selectedClassroom class=\"col-lg-8 mb-4\">\r\n                        <h1 class=\"display-3  text-white\">classroom\r\n                            <span>{{globals.selectedClassroom.title}}</span>\r\n                            <span *ngIf=globals.selectedClassroom.metadata.ENSName class=\"text-muted\" style=\"font-size:smaller;\">@{{globals.selectedClassroom.metadata.ENSName}}</span>\r\n                        </h1>\r\n                        <p *ngIf=globals.selectedClassroom.metadata.description class=\"lead text-white\">{{globals.selectedClassroom.metadata.description}}</p>\r\n                        <p *ngIf=!globals.selectedClassroom.metadata.description class=\"lead text-white\">No metadata for description.</p>\r\n                        <div *ngIf=globals.selectedClassroom.ENSHasNotice&&displayNotice #classroomNotice class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n                            <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"closeNotice()\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n                            <strong>Classroom Notice: </strong> {{globals.selectedClassroom.metadata.notice}}\r\n                        </div>\r\n                        <div *ngIf=\"myStudentApplication&&!myStudentApplication.correctAnswer&&displayNotice\" #applicationNotice1 class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n                            <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"closeNotice()\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n                            <strong>Student application address: </strong> {{myStudentApplication.address}}<br>\r\n                            <strong>Your answer is wrong or null so far. </strong>\r\n                        </div>\r\n                        <div *ngIf=\"myStudentApplication&&myStudentApplication.correctAnswer&&displayNotice\" #applicationNotice2 class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n                            <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"closeNotice()\">\r\n\t\t\t\t\t\t\t  <span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n                            <strong>Student application address: </strong> {{myStudentApplication.address}}<br>\r\n                            <strong>Your answer is correct. Congratulations! </strong>\r\n                        </div>\r\n                        <div class=\"btn-wrapper\">\r\n                            <a [routerLink]=\"['/']\" class=\"btn btn-white btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a (click)=\"openModal('custom-modal-classroomInfo');\" class=\"btn btn-success text-white btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-search\"></i></span>\r\n                                <span class=\"btn-inner--text\">Details</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\" *ngIf=\"globals.mode=='loadingPage'\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-warning rounded-circle fa-3x mb-4\">\r\n                                    <i class=\"fa fa-wifi\"></i>\r\n                                </div>\r\n                                <h6 class=\"text-warning text-uppercase\">Connecting</h6>\r\n                                <p class=\"description mt-3\">Connecting to your Wallet Provider and DeEd University.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\" *ngIf=\"globals.mode=='unconnected'\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-info rounded-circle mb-4\">\r\n                                    <i class=\"fa fa-star\"></i>\r\n                                </div>\r\n                                <h6 class=\"text-info text-uppercase\">Welcome to DeEd</h6>\r\n                                <p class=\"description mt-3\">To connect to DeEd you need to install a Portis Wallet.\r\n                                </p>\r\n                                <button class=\"btn btn-info mt-4\" (click)=\"conectPortis()\">Conect Portis</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\" *ngIf=\"globals.mode=='connected'\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-primary rounded-circle mb-4\">\r\n                                    <i class=\"fa fa-user\"></i>\r\n                                </div>\r\n                                <h6 class=\"text-primary text-uppercase\">Register Your Account</h6>\r\n                                <p class=\"description mt-3\">To use to DeEd you need to register at University.</p>\r\n                                <div #onLoginPlaceholder1></div>\r\n                                <button class=\"btn btn-primary mt-4\" (click)=\"openModal('custom-modal-register'); txOn();\">Register DeEd</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\" *ngIf=\"globals.mode=='registered'\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-success rounded-circle mb-4\">\r\n                                    <i class=\"fa fa-user\"></i>\r\n                                </div>\r\n                                <h6 class=\"text-success text-uppercase\">Connected</h6>\r\n                                <p class=\"description\">Address: {{globals.address}} </p>\r\n                                <button [routerLink]=\"['/student']\" class=\"btn btn-success mt-4\">Go to Account</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=!globals.userIsClassroomAdmin class=\"row mb-4\">\r\n                    <div class=\"col-lg-4 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                            <div *ngIf=\"phase==0\" class=\"card-body bg-gradient-success py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default bg-white rounded-circle mb-4\">\r\n                                    1\r\n                                </div>\r\n                                <h6 class=\"text-default text-uppercase\">Apply For Course</h6>\r\n                                <p *ngIf=globals.selectedClassroom class=\"description mt-3\">To start this classroom you need to send your application.</p>\r\n                                <a *ngIf=globals.selectedClassroom (click)=\"openModal('custom-modal-1'); txOn();\" class=\"btn btn-neutral mt-4\">Apply</a>\r\n                                <a *ngIf=!globals.selectedClassroom (click)=\"openModal('custom-modal-search-classroom')\" class=\"btn btn-neutral mt-4\">Search</a>\r\n                            </div>\r\n                            <div *ngIf=\"phase>0\" class=\"card-body text-white bg-gradient-primary py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default bg-white rounded-circle mb-4\">\r\n                                    1\r\n                                </div>\r\n                                <h6 class=\"text-white text-uppercase\">Applied</h6>\r\n                            </div>\r\n                            <div *ngIf=\"phase<0\" class=\"card-body text-white bg-gradient-success py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default bg-white rounded-circle mb-4\">\r\n                                    1\r\n                                </div>\r\n                                <h6 *ngIf=globals.selectedClassroom class=\"text-white text-uppercase\">Register</h6>\r\n                                <h6 *ngIf=!globals.selectedClassroom class=\"text-white text-uppercase\">Search</h6>\r\n                                <button *ngIf=\"globals.selectedClassroom&&(globals.mode=='unconnected')\" class=\"btn btn-neutral mt-4\" (click)=\"conectPortis()\">Conect Portis</button>\r\n                                <button *ngIf=\"globals.selectedClassroom&&(globals.mode=='connected')\" class=\"btn btn-neutral mt-4\" (click)=\"openModal('custom-modal-register'); txOn();\">Register DeEd</button>\r\n                                <a *ngIf=!globals.selectedClassroom (click)=\"openModal('custom-modal-search-classroom')\" class=\"btn btn-info mt-4\">Search</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center \" [ngClass]=\"{ 'bg-gradient-primary': globals.selectedClassroom&&(phase!=1), 'bg-gradient-success': phase==1 }\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\" [ngClass]=\"{ 'bg-white': globals.selectedClassroom&&(phase>1) }\">\r\n                                    2\r\n                                </div>\r\n                                <h6 *ngIf=\"phase<2\" class=\"text-default text-uppercase\">Call for a Grant</h6>\r\n                                <h6 *ngIf=\"phase>1\" class=\"text-default text-uppercase text-white\">Grant closed</h6>\r\n                                <p *ngIf=\"phase<2\" class=\"description mt-3 \" [ngClass]=\"{ 'text-white': globals.selectedClassroom&&(phase!=1) }\">If you don't need have founds to pay the fee you can request a grant.</p>\r\n                                <a *ngIf=\"phase==1\" (click)=\"openModal('custom-modal-2'); txOn();\" class=\"btn btn-default mt-4 text-white\">Call</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\" [ngClass]=\"{ 'bg-gradient-primary': globals.selectedClassroom&&(phase!=1), 'bg-gradient-success': phase==1 }\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\" [ngClass]=\"{ 'bg-white': globals.selectedClassroom&&(phase>1) }\">\r\n                                    3\r\n                                </div>\r\n                                <h6 *ngIf=\"phase<2\" class=\"text-default text-uppercase\">Start Application</h6>\r\n                                <h6 *ngIf=\"phase>1\" class=\"text-default text-uppercase text-white\">Entry already paid</h6>\r\n                                <p *ngIf=\"phase<2\" class=\"description mt-3\" [ngClass]=\"{ 'text-white': globals.selectedClassroom&&(phase!=1) }\">You need to deposit the classroom fee to start your application.</p>\r\n                                <a *ngIf=\"phase==1\" (click)=\"checkAllowance();openModal('custom-modal-3'); txOn();\" class=\"btn btn-default mt-4 text-white\">Deposit</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"phase==2\" class=\"col-lg-6 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center bg-gradient-success\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\">\r\n                                    4\r\n                                </div>\r\n                                <h6 class=\"text-default text-uppercase\">Wait</h6>\r\n                                <p class=\"description mt-3\">Wait for your teacher to open the course. In the meantime, what about recomending this classroom to your friends? Everybody will benefit from more shared pool resources!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"phase!=2\" class=\"col-lg-6 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\" [ngClass]=\"{ 'bg-gradient-primary': globals.selectedClassroom&&(phase!=3), 'bg-gradient-success': phase==3  }\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\" [ngClass]=\"{ 'bg-white': globals.selectedClassroom&&(phase>3) }\">\r\n                                    4\r\n                                </div>\r\n                                <h6 *ngIf=\"phase<4\" class=\"text-default text-uppercase\">Access Material</h6>\r\n                                <h6 *ngIf=\"phase>3\" class=\"text-default text-uppercase text-white\">Classroom closed</h6>\r\n                                <p *ngIf=\"phase<4\" class=\"description mt-3\" [ngClass]=\"{ 'text-white': globals.selectedClassroom&&(phase!=3) }\">Here you can access all the stuff and materials of this classroom.</p>\r\n                                <a *ngIf=\"phase==3\" (click)=\"openModal('custom-modal-4'); txOn();\" class=\"btn btn-default mt-4 text-white\">Access</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-6 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\" [ngClass]=\"{ 'bg-gradient-primary': globals.selectedClassroom&&(phase!=3), 'bg-gradient-success': phase==3  }\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\" [ngClass]=\"{ 'bg-white': globals.selectedClassroom&&(phase>3) }\">\r\n                                    5\r\n                                </div>\r\n                                <h6 *ngIf=\"phase<4\" class=\"text-default text-uppercase\">Submit Your Answer</h6>\r\n                                <h6 *ngIf=\"phase>3\" class=\"text-default text-uppercase text-white\">Classroom closed</h6>\r\n                                <p *ngIf=\"phase<4\" class=\"description mt-3\" [ngClass]=\"{ 'text-white': globals.selectedClassroom&&(phase!=3) }\">Here you can send your secret to complete this classroom.</p>\r\n                                <a *ngIf=\"phase==3\" (click)=\"openModal('custom-modal-5'); txOn();\" class=\"btn btn-default mt-4 text-white\">Submit</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"phase==4\" class=\"col-lg-8 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center bg-gradient-success\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\">\r\n                                    6\r\n                                </div>\r\n                                <h6 class=\"text-default text-uppercase\">Wait</h6>\r\n                                <p class=\"description mt-3\">Wait until your teacher closes the classroom. In the meantime you can update your application whenever you want.</p><br>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"phase!=4\" class=\"col-lg-8 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center\" [ngClass]=\"{ 'bg-gradient-primary': globals.selectedClassroom&&(phase!=5), 'bg-gradient-success': phase==5  }\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\" [ngClass]=\"{ 'bg-white': globals.selectedClassroom&&(phase>5) }\">\r\n                                    6\r\n                                </div>\r\n                                <h6 *ngIf=\"phase<6\" class=\"text-default text-uppercase\">Claim Your Reward</h6>\r\n                                <h6 *ngIf=\"phase>5\" class=\"text-default text-uppercase text-white\">Reward claimed</h6>\r\n                                <p *ngIf=\"phase<6\" class=\"description mt-3\" [ngClass]=\"{ 'text-white': globals.selectedClassroom&&(phase!=5) }\">If you send correct answer you can collect you reward here.</p><br>\r\n                                <a *ngIf=\"phase==5\" (click)=\"openModal('custom-modal-6'); txOn();\" class=\"btn btn-default mt-4 text-white\">Claim</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4 mt-4\">\r\n                        <div class=\"card card-lift--hover shadow border-0 text-center \" [ngClass]=\"{ 'bg-gradient-primary': globals.selectedClassroom&&(phase!=6), 'bg-gradient-success': phase==6  }\">\r\n                            <div class=\"card-body py-5\">\r\n                                <div class=\"icon icon-shape icon-shape-default rounded-circle mb-4\" [ngClass]=\"{ 'bg-white': globals.selectedClassroom&&(phase>6) }\">\r\n                                    7\r\n                                </div>\r\n                                <h6 class=\"text-default text-uppercase\">Start your own classroom</h6>\r\n                                <p class=\"description mt-3\" [ngClass]=\"{ 'text-white': globals.selectedClassroom&&(phase!=6) }\">After you complete a classroom you can create a new one.</p>\r\n                                <a *ngIf=\"phase==6\" (click)=\"openModal('custom-modal-7'); txOn();\" class=\"btn btn-default mt-4 text-white\">Create</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=!globals.selectedClassroom class=\"row mb-4\">\r\n            <div class=\"container\">\r\n                <div class=\"card bg-gradient-success shadow-lg border-0\">\r\n                    <div class=\"p-5\">\r\n                        <div class=\"row align-items-center\">\r\n                            <div class=\"col-lg-8\">\r\n                                <h4 class=\"text-white\">Start by choosing the perfect classroom for you.</h4>\r\n                                <p class=\"lead text-white mt-3\">You will need to connect to a wallet service in order to interact with this dApp.</p>\r\n                            </div>\r\n                            <div class=\"col-lg-3 ml-lg-auto\"><a [routerLink]=\"['/']\" fragment=classrooms class=\"btn btn-lg btn-block btn-white\">SELECT CLASSROOM</a></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!--classroom admin begin-->\r\n    <div *ngIf=globals.userIsClassroomAdmin class=\"container\">\r\n        <br><br><br>\r\n        <div *ngIf=globals.selectedClassroom class=\"card card-profile shadow mt--200\">\r\n            <div class=\"px-4\">\r\n                <div class=\"text-center mt-5\">\r\n                    <h4 *ngIf=globals.selectedClassroom.state.isClassroomNotOpen class=\"text-light\">Status: <span class=\"badge badge-pill badge-info\">Not Open</span></h4>\r\n                    <h4 *ngIf=globals.selectedClassroom.state.isClassroomOpen class=\"text-light\">Status: <span class=\"badge badge-pill badge-success\">Open</span></h4>\r\n                    <h4 *ngIf=globals.selectedClassroom.state.isClassroomClosed class=\"text-light\">Status: <span class=\"badge badge-pill badge-warning\">Closed</span></h4>\r\n                    <h4 *ngIf=globals.selectedClassroom.state.isClassroomActive class=\"text-light\">Status: <span class=\"badge badge-pill badge-primary\">Ongoing</span></h4>\r\n                    <h4 *ngIf=globals.selectedClassroom.state.isCourseFinished class=\"text-light\">Status: <span class=\"badge badge-pill badge-dark\">Finished</span></h4>\r\n                </div>\r\n                <div class=\"mt-2 py-5 border-top text-center\">\r\n                    <h4>Classroom Management</h4>\r\n                    <div class=\"row justify-content-center\">\r\n                        <br>\r\n                        <button class=\"btn btn-md btn-info width:120px\" (click)=\"openModal('classroom-metadata-admin')\">Metadata</button>\r\n                        <button class=\"btn btn-md btn-info width:120px\" (click)=\"openModal('classroom-params-admin')\">Params</button>\r\n                        <button class=\"btn btn-md btn-info width:120px\" (click)=\"openModal('classroom-funds-admin')\">Funds</button>\r\n                        <button class=\"btn btn-md btn-warning width:120px\" (click)=\"openModal('classroom-configs-admin')\">Configs</button>\r\n                        <button class=\"btn btn-md btn-warning width:120px\" (click)=\"openModal('classroom-transfer-admin')\">Transfer</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"mt-2 py-5 text-left\">\r\n                    <h4>Dashboard</h4>\r\n                    <div>\r\n                        <h5>Student applications: {{globals.selectedClassroom.classdata.students}}</h5>\r\n                        <h5>Student ready applications: {{globals.selectedClassroom.classdata.validStudents}}</h5>\r\n                        <h5>Funds in classroom: {{globals.selectedClassroom.funds.DAI}} DAI</h5>\r\n                        <h5>Funds invested: {{globals.selectedClassroom.classdata.fundsInvested}} DAI</h5>\r\n                        <h5>Pooled returns: {{globals.selectedClassroom.classdata.investmentReturns}} DAI</h5>\r\n                        <h5>Course balance: {{globals.selectedClassroom.classdata.courseBalance}} DAI</h5>\r\n                    </div>\r\n                    <button *ngIf=\"globals.selectedClassroom.state.isClassroomNotOpen&&globals.selectedClassroom.classdata.validStudents==0\" class=\"btn btn-lg btn-icon btn-3 btn-success\" (click)=\"openApplications()\" type=\"button\"><span class=\"btn-inner--text\">Open applications</span></button>\r\n                    <button *ngIf=globals.selectedClassroom.state.isClassroomOpen class=\"btn btn-lg btn-icon btn-3 btn-warning\" type=\"button\" (click)=\"closeApplications()\"><span class=\"btn-inner--icon\"><i class=\"ni ni-close\"></i></span><span class=\"btn-inner--text\">Close applications</span></button>\r\n                    <button *ngIf=\"globals.selectedClassroom.funds.DAI>0 && globals.selectedClassroom.state.isClassroomClosed\" class=\"btn btn-lg btn-icon btn-3 btn-success\" (click)=\"applyDAI()\" type=\"button\"><span class=\"btn-inner--text\">Apply DAI</span></button>\r\n                    <button *ngIf=\"globals.selectedClassroom.funds.DAI==0 && globals.selectedClassroom.state.isClassroomClosed\" class=\"btn btn-lg btn-icon btn-3 btn-success\" (click)=\"beginCourse()\" type=\"button\"><span class=\"btn-inner--text\">Begin Course</span></button>\r\n                    <button *ngIf=globals.selectedClassroom.state.isClassroomActive class=\"btn btn-lg btn-icon btn-3 btn-success\" (click)=\"finishCourse()\" type=\"button\"><span class=\"btn-inner--text\">Finish Course</span></button>\r\n                    <button *ngIf=globals.selectedClassroom.state.isCourseFinished class=\"btn btn-lg btn-icon btn-3 btn-success\" (click)=\"processResults()\" type=\"button\"><span class=\"btn-inner--text\">Process Results</span></button>\r\n                    <button *ngIf=\"globals.selectedClassroom.funds.DAI>0&&globals.selectedClassroom.classdata.students==0&&globals.selectedClassroom.classdata.validStudents==0\" class=\"btn btn-lg btn-icon btn-3 btn-success\" (click)=\"withdrawAllResults()\" type=\"button\"><span class=\"btn-inner--text\">Withdraw Results</span></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <br>\r\n        <br>\r\n    </div>\r\n    <jw-modal id=\"classroom-metadata-admin\">\r\n        <div *ngIf=globals.selectedClassroom class=\"row justify-content-center\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"card shadow border-0\">\r\n                    <div class=\"card-body py-5\">\r\n                        <h4 class=\"UniversityAdmins mt-3\">ENS Name: <span class=\"text-default\">{{globals.selectedClassroom.metadata.ENSName}}</span>\r\n                            <span *ngIf=globals.selectedClassroom.metadata.ENSName class=\"badge badge-pill badge-success\">Recorded</span>\r\n                            <span *ngIf=!globals.selectedClassroom.metadata.ENSName class=\"badge badge-pill badge-warning\">Not Recorded</span></h4>\r\n                        <button type=\"button\" class=\"btn btn-warning\" *ngIf=!globals.selectedClassroom.metadata.ENSName (click)=\"registerENSRecord()\">Register</button>\r\n                        <div class=\"form-group\">\r\n                            <label for=\"classroomMetadataSelectType\">Metadata field</label>\r\n                            <select #classroomMetadataSelectType class=\"form-control\" id=\"classroomMetadataSelectType\">\r\n\t\t\t\t\t\t\t  <option>email</option>\r\n\t\t\t\t\t\t\t  <option>url</option>\r\n\t\t\t\t\t\t\t  <option>avatar</option>\r\n\t\t\t\t\t\t\t  <option>description</option>\r\n\t\t\t\t\t\t\t  <option>notice</option>\r\n\t\t\t\t\t\t\t  <option>skylink</option>\r\n\t\t\t\t\t\t\t</select>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label for=\"classroomMetadataValueInput\">Value: </label>\r\n                            <input #classroomMetadataValueInput type=\"text\" class=\"form-control\" id=\"classroomMetadataValueInput\" placeholder=\"new value\">\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn-info\" (click)=\"setMetadataRecord(classroomMetadataSelectType.value, classroomMetadataValueInput.value)\">Change</button>\r\n                        <div class=\"mt-2 py-5 border-top text-center\">\r\n                            <h4 class=\"UniversityAdmins mt-3\">Upload to Siasky</h4>\r\n                        </div>\r\n                        <h2 class=\"description text-center text-warning\">Please upload the file to siasky and paste the record to register. We are working to fix this issue</h2>\r\n                        <div class=\"form-group\">\r\n                            <label for=\"file\">Choose File</label>\r\n                            <input type=\"file\" id=\"file\" (change)=\"uploadSkylink($event.target.files)\">\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn-info\" (click)=\"openModal('custom-modal-4')\">View Material</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <jw-modal id='classroom-funds-admin'>\r\n        <div *ngIf=globals.selectedClassroom class=\"row justify-content-center\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"card shadow border-0\">\r\n                    <div class=\"card-body py-5\">\r\n                        <h4>Funds in Classroom:</h4>\r\n                        <h5>{{globals.selectedClassroom.funds.DAI}} DAI</h5>\r\n                        <h5>{{globals.selectedClassroom.funds.LINK}} LINK</h5>\r\n                        <h4>Trade DAI for LINK:</h4>\r\n                        <input #exchangeDAI_LINKInput type=\"number\" class=\"form-control\" placeholder=\"0\">\r\n                        <button type=\"button\" class=\"btn btn-info\" (click)=\"exchangeDAI_LINK(exchangeDAI_LINKInput.value)\">Change {{exchangeDAI_LINKInput.value}} DAI</button>\r\n                        <h4>Trade LINK for DAI:</h4>\r\n                        <input #exchangeLINK_DAIInput type=\"number\" class=\"form-control\" placeholder=\"0\">\r\n                        <button type=\"button\" class=\"btn btn-info\" (click)=\"exchangeLINK_DAI(exchangeLINK_DAIInput.value)\">Change {{exchangeLINK_DAIInput.value}} LINK</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <jw-modal id=\"classroom-configs-admin\">\r\n        <div *ngIf=globals.selectedClassroom class=\"row justify-content-center\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"card shadow border-0\">\r\n                    <div class=\"card-body py-5\">\r\n                        <h4>Classroom Configurations:</h4>\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">Name</th>\r\n                                <th scope=\"col\">Value</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngFor=\"let item of globals.selectedClassroom.configs | keyvalue\">\r\n                            <tr>\r\n                                <th scope=\"row\">{{ item.key }}</th>\r\n                                <td>{{ item.value }}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <h4>Configure Uniswap:</h4>\r\n                        <div class=\"form-group\">\r\n                            <input class=\"form-control\" #uniswapDAI placeholder=\"uniswap DAI Address\" type=\"text\">\r\n                            <input class=\"form-control\" #uniswapLINK placeholder=\"uniswap LINK Address\" type=\"text\">\r\n                            <input class=\"form-control\" #uniswapRouter placeholder=\"uniswap Router Address\" type=\"text\">\r\n                            <button type=\"button\" class=\"btn btn-info\" (click)=\"configureUniswap(uniswapDAI.value, uniswapLINK.value, uniswapRouter.value)\">Submit</button>\r\n                        </div>\r\n                        <h4>Configure Chainlink:</h4>\r\n                        <div class=\"form-group\">\r\n                            <input class=\"form-control\" #oracleRandom placeholder=\"Chainlink oracle Random address\" type=\"text\">\r\n                            <input class=\"form-control\" #requestIdRandom placeholder=\"Chainlink requestId Random\" type=\"text\">\r\n                            <input class=\"form-control\" #oraclePaymentRandom placeholder=\"Chainlink oracle Payment Random value\" type=\"number\">\r\n                            <input class=\"form-control\" #oracleTimestamp placeholder=\"Chainlink oracle Timestamp address\" type=\"text\">\r\n                            <input class=\"form-control\" #requestIdTimestamp placeholder=\"Chainlink requestId Timestamp\" type=\"text\">\r\n                            <input class=\"form-control\" #oraclePaymentTimestamp placeholder=\"Chainlink oraclePaymentTimestamp value\" type=\"number\">\r\n                            <input class=\"form-control\" #linkToken placeholder=\"Chainlink LINK Token address\" type=\"text\">\r\n                            <button type=\"button\" class=\"btn btn-info\" (click)=\"configureOracles(oracleRandom.value,requestIdRandom.value,oraclePaymentRandom.value,oracleTimestamp.value,requestIdTimestamp.value,oraclePaymentTimestamp.value,linkToken.value)\">Submit</button>\r\n                        </div>\r\n                        <h4>Configure Aave:</h4>\r\n                        <div class=\"form-group\">\r\n                            <input class=\"form-control\" #aaveInput placeholder=\"Aave Lending Pool Addresses Provider\" type=\"text\">\r\n                            <button type=\"button\" class=\"btn btn-info\" (click)=\"configureAave(aaveInput.value)\">Submit</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <jw-modal id=\"classroom-params-admin\">\r\n        <div *ngIf=globals.selectedClassroom class=\"row justify-content-center\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"card shadow border-0\">\r\n                    <div class=\"card-body py-5\">\r\n                        <h4>Classroom Parameters:</h4>\r\n                        <h5>Name: {{globals.selectedClassroom.title}}</h5>\r\n                        <input #inputClassroomName class=\"form-control\" placeholder=\"Name\" type=\"text\">\r\n                        <button type=\"button\" (click)=changeName(inputClassroomName.value) class=\"btn btn-info\">Change</button>\r\n                        <h5>Price: {{globals.selectedClassroom.price}}</h5>\r\n                        <input #inputClassroomPrice class=\"form-control\" placeholder=\"Price\" type=\"text\">\r\n                        <button type=\"button\" (click)=changeEntryPrice(inputClassroomPrice.value) class=\"btn btn-info\">Change</button>\r\n                        <h5>Min. Score: {{globals.selectedClassroom.minScore}}</h5>\r\n                        <input #inputClassroomMin class=\"form-control\" placeholder=\"Min\" type=\"text\">\r\n                        <button type=\"button\" (click)=changeMinScore(inputClassroomMin.value) class=\"btn btn-info\">Change</button>\r\n                        <h5>Cut from the principal: {{globals.selectedClassroom.cutPrincipal}}</h5>\r\n                        <input #inputClassroomCutPrincipal class=\"form-control\" placeholder=\"Cut %\" type=\"text\">\r\n                        <button type=\"button\" (click)=changePrincipalCut(inputClassroomCutPrincipal.value) class=\"btn btn-info\">Change</button>\r\n                        <h5>Cut from the success pool: {{globals.selectedClassroom.cutPool}}</h5>\r\n                        <input #inputClassroomCutPool class=\"form-control\" placeholder=\"Cut %\" type=\"text\">\r\n                        <button type=\"button\" (click)=changePoolCut(inputClassroomCutPool.value) class=\"btn btn-info\">Change</button>\r\n                        <h5>Duration: {{globals.selectedClassroom.duration}}</h5>\r\n                        <input #inputClassroomDuration class=\"form-control\" placeholder=\"Duration\" type=\"text\">\r\n                        <button type=\"button\" (click)=changeDuration(inputClassroomDuration.value) class=\"btn btn-info\">Change</button>\r\n                        <h5>Challenge: {{globals.selectedClassroom.addressChallenge}}</h5>\r\n                        <input #inputClassroomChallenge class=\"form-control\" placeholder=\"Challenge\" type=\"text\">\r\n                        <button type=\"button\" (click)=changeChallenge(inputClassroomChallenge.value) class=\"btn btn-info\">Change</button>\r\n                        <h5>Compound application percentage: {{globals.selectedClassroom.params.compoundApplyPercentage}} %</h5>\r\n                        <h5>Aave application percentage: {{globals.selectedClassroom.params.aaveApplyPercentage}} %</h5>\r\n                        <label for=\"customRange1\">Percentage</label>\r\n                        <input #percentageSelect type=\"range\" class=\"custom-range\" id=\"customRange1\">\r\n                        <button type=\"button\" (click)=changeCompoundApplyPercentage(percentageSelect.value) class=\"btn btn-info\">Change to {{percentageSelect.value}} % compound</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <!--classroom admin end-->\r\n    <jw-modal id=\"custom-modal-search-classroom\">\r\n        <div role=\"document\" class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h6 class=\"modal-title\" id=\"modal-title-default\">Search classroom</h6><button (click)=\"closeModal('custom-modal-search-classroom')\" aria-label=\"Close\" class=\"close\" data-dismiss=\"modal\" type=\"button\"><span aria-hidden=\"true\">×</span></button></div>\r\n                    <div class=\"modal-body\">\r\n                        <p>You can input the address or ENS patch for your address. If you don't know, you can check the list in the university page.</p>\r\n                        <div class=\"input-group mb-4\">\r\n                            <div class=\"input-group-prepend\"><span class=\"input-group-text\"><i class=\"ni ni-zoom-split-in\"></i></span></div><input #searchClassroom class=\"form-control\" placeholder=\"Search\" type=\"text\" (input)=\"resetSearchClassroomModalErrorMsg()\"></div>\r\n                        <p *ngIf=searchClassroomModalProgressMsg class=\"text-warning mb-0\" style=\"font-weight:bold;\">Searching...</p>\r\n                        <p *ngIf=searchClassroomModalErrorMsg class=\"text-warning mb-0\" style=\"font-weight:bold;\">Classroom not found!</p>\r\n                    </div>\r\n                    <div class=\"modal-footer\"><button class=\"btn btn-primary\" type=\"button\" (click)=\"searchForClassroomModal(searchClassroom.value)\">Enter</button><button class=\"btn btn-link  ml-auto\" data-dismiss=\"modal\" (click)=\"closeModal('custom-modal-search-classroom')\" type=\"button\">Close</button></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-register\">\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-8\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Register at University</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-white\">Create your student registry in this university and enjoy all its features.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"studentInputName\" #studentInputName class=\"form-control\" placeholder=\"Name\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Registering your account ...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-register'); txOff()\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-university\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" (click)=\"studentSelfRegister(studentInputName.value)\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Register</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-1\" *ngIf=globals.selectedClassroom>\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Apply for this classroom</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-center text-white\">To start this classroom you need to send your application.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Sending your application...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-1'); txOff(); refreshClassroomInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" (click)=\"applyClassroom()\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Apply</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-2\" *ngIf=globals.selectedClassroom>\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Call for a grant</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-center text-white\">If you don't need have founds to pay the fee you can request a grant.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"input-group input-group-alternative mb-3\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\"><i class=\"ni ni-paper-diploma\"></i></span>\r\n                                </div>\r\n                                <input id=\"studentInputGrantAddress\" #studentInputGrantAddress class=\"form-control\" placeholder=\"Address\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Sending your call...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-2'); txOff(); refreshClassroomInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Call</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-3\" *ngIf=globals.selectedClassroom>\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Start your application</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-center text-white\">You need to approve and deposit fee to start your application.</h2>\r\n                                    <h4 class=\"text-center text-white\">Price: {{this.globals.selectedClassroom.price}} DAI</h4>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Sending your Transaction...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-3'); txOff(); refreshClassroomInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"allowanceMode==0\" type=\"submit\" class=\"btn btn-primary btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-check\"></i></span>\r\n                                <span class=\"btn-inner--text\">Checking...</span>\r\n                            </a>\r\n                            <a *ngIf=\"(allowanceMode==1)&&(txMode=='preTX')\" (click)=\"approveStart()\" type=\"submit\" class=\"btn btn-primary btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-check\"></i></span>\r\n                                <span class=\"btn-inner--text\">Approve</span>\r\n                            </a>\r\n                            <a *ngIf=\"allowanceMode==2\" (click)=\"payPrice()\" type=\"submit\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Transfer</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-4\" *ngIf=globals.selectedClassroom>\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Classroom material</h3>\r\n                            <div *ngIf=myStudentApplication class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <textarea class=\"form-control\" rows=\"10\" wrap=\"hard\">{{myStudentApplication.material}}</textarea>\r\n                                </div>\r\n                            </div>\r\n                            <h3 class=\"text-center text-white\">Sia Skylink</h3>\r\n                            <h2 class=\"description text-center text-white\">{{globals.selectedClassroom.metadata.skylink}}</h2>\r\n                            <h2 class=\"description text-center text-warning\">Please copy the link and download the file from siasky. We are working to fix this issue</h2>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-4'); txOff(); refreshClassroomInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a (click)=\"downloadSkylink(globals.selectedClassroom.metadata.skylink, 'material.txt')\" type=\"submit\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-download\"></i></span>\r\n                                <span class=\"btn-inner--text\">Download Skylink</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-5\" *ngIf=globals.selectedClassroom>\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Submit your answer</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-center text-white\">Here you can set your secret to protect your answer. Don't share this with anyone</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"secret\" #secret class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Sending your answer...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-5'); txOff(); refreshClassroomInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" (click)=\"sendAnswer(secret.value)\" type=\"submit\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Set Secret</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-6\" *ngIf=\"globals.selectedClassroom&&myStudentApplication\">\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Claim your reward</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-center text-white\">If you send correct answer you can collect you reward here.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <h4 class=\" text-default text-white\"><strong>Principal to be returned: </strong>{{myStudentApplication.principal}} of {{globals.selectedClassroom.price}} DAI </h4>\r\n                            <h4 class=\" text-default text-white\"><strong>Your prize: </strong>{{myStudentApplication.prize}} DAI </h4>\r\n                            <h4 class=\" text-default text-white\"><strong>Total: </strong>{{myStudentApplication.funds}} DAI </h4>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Sending your request...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-6'); txOff(); refreshClassroomInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" (click)=\"colletcReward()\" type=\"submit\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Collect</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-7\" *ngIf=globals.selectedClassroom>\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Create new classroom</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-center text-white\">After you complete a classroom you can create a new one.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName1\" #inputObjName1 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName2\" #inputObjName2 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName3\" #inputObjName3 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName4\" #inputObjName4 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName5\" #inputObjName5 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName6\" #inputObjName6 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName7\" #inputObjName7 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-key\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjName8\" #inputObjName8 class=\"form-control\" placeholder=\"Secret\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Creating new Classroom...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-7'); txOff(); refreshClassroomInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-plus\"></i></span>\r\n                                <span class=\"btn-inner--text\">Create</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-details\" *ngIf=globals.selectedClassroom>\r\n        <form role=\"form\">\r\n            <div class=\"modal-header\">\r\n                <h3 class=\"modal-title\">Classroom Details</h3>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                            <div class=\"input-group input-group-alternative mb-3\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                                </div>\r\n                                <input class=\"form-control\" placeholder=\"Name\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                            <div class=\"input-group input-group-alternative mb-3\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                </div>\r\n                                <input class=\"form-control\" placeholder=\"Address\" type=\"text\" (focus)=\"focus1=true\" (blur)=\"focus1=false\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                            <div class=\"input-group input-group-alternative mb-3\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                                </div>\r\n                                <input class=\"form-control\" placeholder=\"Name\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                            <div class=\"input-group input-group-alternative mb-3\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                </div>\r\n                                <input class=\"form-control\" placeholder=\"Address\" type=\"text\" (focus)=\"focus1=true\" (blur)=\"focus1=false\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                            <div class=\"input-group input-group-alternative mb-3\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                                </div>\r\n                                <input class=\"form-control\" placeholder=\"Name\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                            <div class=\"input-group input-group-alternative mb-3\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                </div>\r\n                                <input class=\"form-control\" placeholder=\"Address\" type=\"text\" (focus)=\"focus1=true\" (blur)=\"focus1=false\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\r\n                <button type=\"button\" class=\"btn btn-secondary\" (click)=\"closeModal('custom-modal-details');\">Close</button>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-classroomInfo\" *ngIf=globals.selectedClassroom>\r\n        <app-classroomInfo></app-classroomInfo>\r\n    </jw-modal>\r\n    <ngx-ui-loader></ngx-ui-loader>\r\n</main>","<div id=\"clasroomInfo\" *ngIf=\"globals.selectedClassroom\" class=\"container-fluid\">\r\n    <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card shadow border-0\">\r\n                <div class=\"card-header\">\r\n                    <h3>{{globals.selectedClassroom.title}}</h3>\r\n                </div>\r\n                <div class=\"card-body py-5\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <p class=\"text-light\">Start: <span *ngIf=!globals.selectedClassroom.state.isClassroomNotOpen class=\"text-default\">{{globals.selectedClassroom.startDate_String}}</span><span *ngIf=globals.selectedClassroom.state.isClassroomNotOpen class=\"text-default\">To Be Defined</span></p>\r\n                            <p class=\"text-light\">Finish: <span *ngIf=!globals.selectedClassroom.state.isClassroomNotOpen class=\"text-default\">{{globals.selectedClassroom.finishDate_String}}</span><span *ngIf=globals.selectedClassroom.state.isClassroomNotOpen class=\"text-default\">To Be Defined</span></p>\r\n                            <p *ngIf=globals.selectedClassroom.state.isClassroomNotOpen class=\"text-light\">Status: <span class=\"badge badge-pill badge-info\">Not Open</span></p>\r\n                            <p *ngIf=globals.selectedClassroom.state.isClassroomOpen class=\"text-light\">Status: <span class=\"badge badge-pill badge-success\">Open</span></p>\r\n                            <p *ngIf=globals.selectedClassroom.state.isClassroomClosed class=\"text-light\">Status: <span class=\"badge badge-pill badge-warning\">Closed</span></p>\r\n                            <p *ngIf=globals.selectedClassroom.state.isClassroomActive class=\"text-light\">Status: <span class=\"badge badge-pill badge-primary\">Ongoing</span></p>\r\n                            <p *ngIf=globals.selectedClassroom.state.isCourseFinished class=\"text-light\">Status: <span class=\"badge badge-pill badge-dark\">Finished</span></p>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n                            <p class=\"text-light\">Price: <span class=\"text-default\">{{globals.selectedClassroom.price}} DAI</span></p>\r\n                            <p class=\"text-light\">Cut from Principal: <span class=\"text-default\">{{globals.selectedClassroom.cutPrincipal}} %</span></p>\r\n                            <p class=\"text-light\">Cut from Success Pool: <span class=\"text-default\">{{globals.selectedClassroom.cutPool}} %</span></p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row mt-3\">\r\n                        <div class=\"col-md-6\">\r\n                            <p class=\"text-light\">Address: <span class=\"text-default\">{{globals.selectedClassroom.smartcontract}}</span></p>\r\n                            <p class=\"text-light\">Challenge: <span class=\"text-default\">{{globals.selectedClassroom.addressChallenge}}</span></p>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n                            <p class=\"text-light\">Description: <span class=\"text-default\">{{globals.selectedClassroom.metadata.description}}</span></p>\r\n                            <p class=\"text-light\">Notice: <span class=\"text-default\">{{globals.selectedClassroom.metadata.notice}}</span></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-footer\">\r\n                    <a (click)=\"closeModal('custom-modal-classroomInfo')\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                        <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                        <span class=\"btn-inner--text\">Back</span>\r\n                    </a>\r\n                    <a (click)=\"closeModal('custom-modal-classroomInfo')\" [routerLink]=\"['/classroom']\" class=\"btn btn-primary text-white btn-icon mb-3 mb-sm-0\">\r\n                        <span class=\"btn-inner--icon\"><i class=\"fa fa-play\"></i></span>\r\n                        <span class=\"btn-inner--text\">Go to Classroom</span>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Globals } from '../app.globals';\r\nimport { ModalService } from '../_modal';\r\n\r\n@Component({\r\n\tselector: 'app-classroomInfo',\r\n\ttemplateUrl: './classroomInfo.component.html'\r\n})\r\nexport class ClassroomInfoComponent implements OnInit {\r\n\tconstructor(\r\n\t\tpublic globals: Globals,\r\n\t\tprivate modalService: ModalService,\r\n\t) {}\r\n\r\n\tasync ngOnInit() {\r\n\t}\r\n\r\n\topenModal(id: string) {\r\n\t\tthis.modalService.open(id);\r\n\t}\r\n\tcloseModal(id: string) {\r\n\t\tthis.modalService.close(id);\r\n\t}\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.css']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n  test : Date = new Date();\r\n\r\n  constructor(private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  \r\n  getPath(){\r\n    return this.router.url;\r\n  }\r\n\r\n}\r\n","<footer class=\"footer\">\r\n    <div class=\"container\">\r\n      <div class=\"row align-items-center justify-content-md-between\">\r\n        <div class=\"col-md-6\">\r\n          <div class=\"copyright\">\r\n            &copy; {{test | date: 'yyyy'}}\r\n            <a href=\"#\" target=\"_blank\">Tapioca</a>.\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <ul class=\"nav nav-footer justify-content-end\">\r\n            <li class=\"nav-item\">\r\n              <a href=\"/\" class=\"nav-link\" target=\"_blank\">DeEd</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a href=\"/classroom\" class=\"nav-link\" target=\"_blank\">Classroom</a>\r\n              </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n","<main>\r\n    <div class=\"position-relative\">\r\n        <!-- shape Hero -->\r\n        <section class=\"section section-lg section-shaped pb-250\">\r\n            <div class=\"shape shape-style-1 bg-gradient-default\">\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n            </div>\r\n            <div class=\"container py-lg-md d-flex\">\r\n                <div class=\"col px-0\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12\">\r\n                            <h1 class=\"display-3 text-white\">decentralized\r\n                                <span>university fund</span>\r\n                            </h1>\r\n                            <h3 class=\"lead  text-white\">This managed fund keeps all donations and revenues under a locked endowment account. This fund is managed by automated smart contracts and/or professional fund managers to make steady low-risk returns over time.</h3>\r\n                            <h3 class=\"lead  text-white\">Even though the endowment funds are locked, the returns can be withdrawn to some specific ends:</h3>\r\n                            <ul>\r\n                                <li class=\"lead  text-white\">Paying grants to good students</li>\r\n                                <li class=\"lead  text-white\">Paying for GSN relayed calls</li>\r\n                                <li class=\"lead  text-white\">Routing a operational budget to pay registered providers\r\n                                </li>\r\n                                <li class=\"lead  text-white\">Reinvesting inside the endowment locked value</li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"separator separator-bottom separator-skew\">\r\n                <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <polygon class=\"fill-secondary\" points=\"2560 0 2560 100 0 100\"></polygon>\r\n                </svg>\r\n            </div>\r\n        </section>\r\n        <section class=\"section bg-secondary mt-0\">\r\n            <div class=\"container\">\r\n                <div class=\"row row-grid align-items-center\">\r\n                    <div class=\"card-columns\">\r\n                        <div *ngIf=userIsFundManager class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-primary\">Fund Manager</h5>\r\n                                <input #inputSize class=\"form-control\" placeholder=\"Operation Size (in 1e18)\" type=\"text\" size=32>\r\n                                <button class=\"btn btn-sm btn-primary\" (click)=\"setOperationSize(inputSize.value)\">Set\r\n                                    Operation Size</button>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-primary\">Stored assets</h5>\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li *ngFor=\"let item of assetsData | keyvalue\"><button *ngIf=userIsFundManager class=\"btn btn-sm btn-warning\" (click)=\"withdrawToken(item.key, operationSize)\">Withdraw</button>{{item.key}}:\r\n                                        <strong>{{item.value}}</strong></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-primary\">Invested underlying assets</h5>\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li *ngFor=\"let item of investmentResultsData | keyvalue\">{{item.key}}:\r\n                                        <strong>{{item.value}}</strong></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-success\">Invested funds</h5>\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li *ngFor=\"let item of investmentData | keyvalue\"><button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"deposit(item.key, operationSize)\">Deposit</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"redeem(item.key, operationSize)\">Redeem</button>{{item.key}}:\r\n                                        <strong>{{item.value}}</strong></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-danger\">Aave open positions</h5>\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li *ngFor=\"let item of aaveBorrowData | keyvalue\"><button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"enterMarket(item.key, operationSize, false)\">Enter</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"exitMarket(item.key, operationSize, false)\">Exit</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-warning\" (click)=\"borrow(item.key, operationSize)\">Borrow</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-success\" (click)=\"repay(item.key, operationSize)\">Repay</button>{{item.key}}:\r\n                                        <strong>{{item.value}}</strong></li>\r\n                                    <li class=\"title text-success\">Aave total colateral:\r\n                                        <strong>{{aaveColateral}}</strong></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-success\">Uniswap liquidity providing</h5>\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li *ngFor=\"let item of uniswapData | keyvalue\"><button *ngIf=userIsFundManager class=\"btn btn-sm btn-warning\" (click)=\"provide(item.key, operationSize)\">Provide</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-success\" (click)=\"remove(item.key, operationSize)\">Remove</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"swap(item.key, operationSize, true)\">Swap A for B</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"swap(item.key, operationSize, false)\">Swap B for\r\n                                            A</button>{{item.key}}: <strong>{{item.value}}</strong></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-danger\">Compound open positions</h5>\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li *ngFor=\"let item of compoundBorrowData | keyvalue\"><button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"enterMarket(item.key, '', true)\">Enter</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-primary\" (click)=\"exitMarket(item.key, '', true)\">Exit</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-warning\" (click)=\"borrow(item.key, operationSize)\">Borrow</button>\r\n                                        <button *ngIf=userIsFundManager class=\"btn btn-sm btn-success\" (click)=\"repay(item.key, operationSize)\">Repay</button>{{item.key}}:\r\n                                        <strong>{{item.value}}</strong></li>\r\n                                    <li class=\"title text-success\">Compound total colateral:\r\n                                        <strong>{{compoundColateral}}</strong></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <h5 class=\"card-title text-success\">Total Colateral</h5>\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li class=\"title \">Aave: <strong>{{aaveColateral}}</strong> ETH equivalent\r\n                                    </li>\r\n                                    <li class=\"title \">Compound: <strong>{{compoundColateral}}</strong> ETH equivalent</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</main>","import { Component, OnInit } from '@angular/core';\r\nimport { Globals } from '../app.globals';\r\nimport { InfuraService } from '../services/infura.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ValueConverter } from '@angular/compiler/src/render3/view/template';\r\nimport { ethers } from 'ethers';\r\nimport { promise } from 'protractor';\r\n\r\n@Component({\r\n\tselector: 'fund',\r\n\ttemplateUrl: './fund.component.html',\r\n\tstyleUrls: ['./fund.component.css'],\r\n})\r\nexport class FundComponent implements OnInit {\r\n\tconstructor(public globals: Globals) {}\r\n\r\n\tuserIsFundManager = false;\r\n\r\n\tassetsData = {\r\n\t\tDAI: 0,\r\n\t\tETH: 0,\r\n\t\tUSDC: 0,\r\n\t\tTUSD: 0,\r\n\t\tUSDT: 0,\r\n\t\tBUSD: 0,\r\n\t\tLEND: 0,\r\n\t\tBAT: 0,\r\n\t\tKNC: 0,\r\n\t\tLINK: 0,\r\n\t\tMANA: 0,\r\n\t\tMKR: 0,\r\n\t\tREP: 0,\r\n\t\tWBTC: 0,\r\n\t\tZRX: 0,\r\n\t};\r\n\r\n\taddressERC20 = {\r\n\t\tDAI: '0xf80A32A835F79D7787E8a8ee5721D0fEaFd78108',\r\n\t\tETH: '0x0000000000000000000000000000000000000000',\r\n\t\tUSDC: '0x851dEf71f0e6A903375C1e536Bd9ff1684BAD802',\r\n\t\tTUSD: '0xa51EE1845C13Cb03FcA998304b00EcC407fc1F92',\r\n\t\tUSDT: '0xB404c51BBC10dcBE948077F18a4B8E553D160084',\r\n\t\tBUSD: '0xFA6adcFf6A90c11f31Bc9bb59eC0a6efB38381C6',\r\n\t\tLEND: '0x217b896620AfF6518B9862160606695607A63442',\r\n\t\tBAT: '0x85B24b3517E3aC7bf72a14516160541A60cFF19d',\r\n\t\tKNC: '0xCe4aA1dE3091033Ba74FA2Ad951f6adc5E5cF361',\r\n\t\tLINK: '0x1a906E71FF9e28d8E01460639EB8CF0a6f0e2486',\r\n\t\tMANA: '0x78b1F763857C8645E46eAdD9540882905ff32Db7',\r\n\t\tMKR: '0x2eA9df3bABe04451c9C3B06a2c844587c59d9C37',\r\n\t\tREP: '0xBeb13523503d35F9b3708ca577CdCCAdbFB236bD',\r\n\t\tWBTC: '0xa0E54Ab6AA5f0bf1D62EC3526436F3c05b3348A0',\r\n\t\tZRX: '0x02d7055704EfF050323A2E5ee4ba05DB2A588959',\r\n\t};\r\n\r\n\tinvestmentData = {\r\n\t\tcDAI: 0,\r\n\t\taDAI: 0,\r\n\t};\r\n\r\n\tinvestmentResultsData = {\r\n\t\t'Compound Underlying DAI': 0,\r\n\t\t'Aave Underlying DAI': 0,\r\n\t};\r\n\r\n\tcompoundColateral = 0;\r\n\r\n\tcompoundBorrowData = {\r\n\t\tDAI: 0,\r\n\t\tETH: 0,\r\n\t\tUSDC: 0,\r\n\t\tTUSD: 0,\r\n\t\tUSDT: 0,\r\n\t\tBUSD: 0,\r\n\t\tLEND: 0,\r\n\t\tBAT: 0,\r\n\t\tKNC: 0,\r\n\t\tLINK: 0,\r\n\t\tMANA: 0,\r\n\t\tMKR: 0,\r\n\t\tREP: 0,\r\n\t\tWBTC: 0,\r\n\t\tZRX: 0,\r\n\t};\r\n\r\n\taaveColateral = 0;\r\n\r\n\taaveBorrowData = {\r\n\t\tDAI: 0,\r\n\t\tETH: 0,\r\n\t\tUSDC: 0,\r\n\t\tTUSD: 0,\r\n\t\tUSDT: 0,\r\n\t\tBUSD: 0,\r\n\t\tLEND: 0,\r\n\t\tBAT: 0,\r\n\t\tKNC: 0,\r\n\t\tLINK: 0,\r\n\t\tMANA: 0,\r\n\t\tMKR: 0,\r\n\t\tREP: 0,\r\n\t\tWBTC: 0,\r\n\t\tZRX: 0,\r\n\t};\r\n\r\n\tuniswapData = {\r\n\t\t'ETH-DAI': 0,\r\n\t\t'DAI-USDC': 0,\r\n\t\t'DAI-TUSD': 0,\r\n\t\t'DAI-USDT': 0,\r\n\t\t'DAI-BUSD': 0,\r\n\t\t'DAI-LEND': 0,\r\n\t\t'DAI-BAT': 0,\r\n\t\t'DAI-KNC': 0,\r\n\t\t'DAI-LINK': 0,\r\n\t\t'DAI-MANA': 0,\r\n\t\t'DAI-MKR': 0,\r\n\t\t'DAI-REP': 0,\r\n\t\t'DAI-WBTC': 0,\r\n\t\t'DAI-ZRX': 0,\r\n\t};\r\n\r\n\tngOnInit(): void {\r\n\t\tif (!this.globals.service) {\r\n\t\t\tthis.globals.service = new InfuraService();\r\n\t\t\tthis.globals.ensService.configureProvider(\r\n\t\t\t\tthis.globals.service.provider,\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t\tconsole.log('Connected to infura');\r\n\t\t}\r\n\t\tthis.delay(1000).then(() => {\r\n\t\t\tthis.refreshInfo();\r\n\t\t\tsetInterval(() => {\r\n\t\t\t\tthis.refreshInfo();\r\n\t\t\t}, 10000);\r\n\t\t});\r\n\t}\r\n\r\n\tdelay(ms: number) {\r\n\t\treturn new Promise((resolve) => setTimeout(resolve, ms));\r\n\t}\r\n\r\n\trefreshInfo() {\r\n\t\tthis.getRoleMembers('FUNDS_MANAGER_ROLE').then((result) => {\r\n\t\t\tif (\r\n\t\t\t\tresult &&\r\n\t\t\t\tresult.find(\r\n\t\t\t\t\t(element) => element.address == this.globals.address\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t\tthis.userIsFundManager = true;\r\n\t\t});\r\n\t\tfor (let key in this.addressERC20) {\r\n\t\t\tlet erc20Address = this.addressERC20[key];\r\n\t\t\tthis.balanceOf(\r\n\t\t\t\terc20Address,\r\n\t\t\t\tenvironment.UniversityFundAddress\r\n\t\t\t).then(\r\n\t\t\t\t(val) =>\r\n\t\t\t\t\t(this.assetsData[key] = Number(\r\n\t\t\t\t\t\tethers.utils.formatEther(val)\r\n\t\t\t\t\t))\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.globals.service.ADAIContract.balanceOf(\r\n\t\t\tenvironment.UniversityFundAddress\r\n\t\t).then((balance) => (this.investmentData.aDAI = balance / 1e18));\r\n\t\tthis.globals.service.ADAIContract.principalBalanceOf(\r\n\t\t\tenvironment.UniversityFundAddress\r\n\t\t).then(\r\n\t\t\t(balance) =>\r\n\t\t\t\t(this.investmentResultsData['Aave Underlying DAI'] =\r\n\t\t\t\t\tbalance / 1e18)\r\n\t\t);\r\n\t\tthis.globals.service.CDAIContract.balanceOf(\r\n\t\t\tenvironment.UniversityFundAddress\r\n\t\t).then((balance) => (this.investmentData.cDAI = balance / 1e8));\r\n\t\tthis.globals.service.CDAIContract.balanceOfUnderlying(\r\n\t\t\tenvironment.UniversityFundAddress\r\n\t\t).then(\r\n\t\t\t(balance) =>\r\n\t\t\t\t(this.investmentResultsData['Compound Underlying DAI'] =\r\n\t\t\t\t\tbalance / 1e8)\r\n\t\t);\r\n\t}\r\n\r\n\tasync getRoleMembers(role: string) {\r\n\t\treturn await this.globals.service.listRoles(\r\n\t\t\trole,\r\n\t\t\tthis.globals.service.universityFundContractInstance\r\n\t\t);\r\n\t}\r\n\r\n\toperationSize: string;\r\n\r\n\tsetOperationSize(value: string) {\r\n\t\tthis.operationSize = value;\r\n\t}\r\n\r\n\tasync balanceOf(erc20Address: string, address: string): Promise<number> {\r\n\t\tif (erc20Address == this.globals.ADDR0)\r\n\t\t\treturn this.globals.service.provider.getBalance(address);\r\n\t\treturn this.globals.service.balanceOfERC20(erc20Address, address);\r\n\t}\r\n\r\n\tasync withdrawToken(identifier: string, value: string) {\r\n\t\tconst erc20Address = this.addressERC20[identifier];\r\n\t\tif (erc20Address == this.globals.ADDR0) return;\r\n\t\tconst tx = await this.globals.service.transferERC20(\r\n\t\t\terc20Address,\r\n\t\t\tthis.globals.address,\r\n\t\t\tNumber(value)\r\n\t\t);\r\n\t}\r\n\r\n\tasync deposit(identifier: string, value: string) {\r\n\t\tconst val = ethers.utils.parseEther(value);\r\n\t\tlet tx;\r\n\t\tif (identifier == 'aDAI') {\r\n\t\t\ttx = await this.globals.service.universityFundContractInstance.applyFundsAave(\r\n\t\t\t\tval,\r\n\t\t\t\t{ gasLimit: 850000 }\r\n\t\t\t);\r\n\t\t} else if (identifier == 'cDAI') {\r\n\t\t\ttx = await this.globals.service.universityFundContractInstance.applyFundsCompound(\r\n\t\t\t\tval,\r\n\t\t\t\t{ gasLimit: 850000 }\r\n\t\t\t);\r\n\t\t}\r\n\t\tawait tx.wait();\r\n\t}\r\n\r\n\tasync redeem(identifier: string, value: string) {\r\n\t\tconst val = ethers.utils.parseEther(value);\r\n\t\tlet tx;\r\n\t\tif (identifier == 'aDAI') {\r\n\t\t\ttx = await this.globals.service.universityFundContractInstance.recoverFundsAave(\r\n\t\t\t\tval,\r\n\t\t\t\t{ gasLimit: 850000 }\r\n\t\t\t);\r\n\t\t} else if (identifier == 'cDAI') {\r\n\t\t\ttx = await this.globals.service.universityFundContractInstance.recoverFundsCompound(\r\n\t\t\t\tval,\r\n\t\t\t\t{ gasLimit: 850000 }\r\n\t\t\t);\r\n\t\t}\r\n\t\tawait tx.wait();\r\n\t}\r\n\r\n\tenterMarket(identifier: string, val: string, compound: boolean) {\r\n\t\t//TODO:\r\n\t}\r\n\r\n\texitMarket(identifier: string, val: string, compound: boolean) {\r\n\t\t//TODO:\r\n\t}\r\n\r\n\tborrow(identifier: string, value: string) {\r\n\t\t//TODO:\r\n\t}\r\n\r\n\trepay(identifier: string, value: string) {\r\n\t\t//TODO:\r\n\t}\r\n\r\n\tprovide(identifier: string, value: string) {\r\n\t\t//TODO:\r\n\t}\r\n\r\n\tremove(identifier: string, value: string) {\r\n\t\t//TODO:\r\n\t}\r\n\r\n\tswap(identifier: string, value: string, swapA_B: boolean) {\r\n\t\t//TODO:\r\n\t}\r\n}\r\n","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n//import { RelayProvider } from '@opengsn/gsn';\r\n\r\nimport { Classroom } from 'src/models/classroom.model';\r\nimport { GenericUser } from 'src/models/genericUser.model';\r\nimport { CLASSROOMS } from 'src/models/mock-classroom';\r\nimport { Student } from 'src/models/student.model';\r\nimport { ModalService } from '../_modal';\r\nimport { Globals } from '../app.globals';\r\nimport { ClassroomInfoComponent } from '../classroom/classroomInfo.component';\r\nimport { NgxUiLoaderService } from 'ngx-ui-loader';\r\n\r\nimport { PortisService } from '../services/portis.service';\r\nimport { InfuraService } from '../services/infura.service';\r\nimport { ENSService } from '../services/ens.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport Web3 from 'web3';\r\nimport { MetamaskService } from '../services/metamask.service';\r\nimport { ethers } from 'ethers';\r\n\r\nconst web3 = new Web3(Web3.givenProvider);\r\n\r\n@Component({\r\n\tselector: 'app-landing',\r\n\ttemplateUrl: './landing.component.html',\r\n\tstyleUrls: ['./landing.component.css'],\r\n})\r\nexport class LandingComponent implements OnInit {\r\n\tfocus: any;\r\n\tfocus1: any;\r\n\tpage = 2;\r\n\tpage1 = 3;\r\n\r\n\tuniversityEtherscan =\r\n\t\t'https://' +\r\n\t\tenvironment.network +\r\n\t\t'.etherscan.io/address/' +\r\n\t\tenvironment.UniversityAddress;\r\n\r\n\tpublic modeUniversityAdmin = 'unconnected';\r\n\tpublic txMode = 'off';\r\n\tpublic hashTx: any;\r\n\tpublic receipt: any;\r\n\tpublic form: FormGroup;\r\n\r\n\tconstructor(\r\n\t\tpublic globals: Globals,\r\n\t\tprivate modalService: ModalService,\r\n\t\tpublic portisService: PortisService,\r\n\t\tprivate ngxLoader: NgxUiLoaderService\r\n\t) {}\r\n\r\n\tasync ngOnInit() {\r\n\t\tif (!this.globals.service) {\r\n\t\t\tif (environment.connectMetamskForTests)\r\n\t\t\t\tthis.connectMetamaskForTests();\r\n\t\t\telse this.globals.service = new InfuraService();\r\n\t\t\tawait this.globals.ensService.configureProvider(\r\n\t\t\t\tthis.globals.service.provider,\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (this.globals.universityInfoNeedsRefresh)\r\n\t\t\tthis.refreshUniversityInfo();\r\n\t}\r\n\r\n\tconnectMetamaskForTests() {\r\n\t\tthis.globals.service = new MetamaskService();\r\n\t\tthis.initSigner();\r\n\t}\r\n\r\n\tconnectGSN() {\r\n\t\t// const relayHubAddress = environment.DefaultGasRelayHub;\r\n\t\t// const paymasterAddress = environment.DefaultTestPaymaster;\r\n\t\t// const stakeManagerAddress = environment.DefaultStakeManager;\r\n\t\t// const gsnConfig = {\r\n\t\t// \trelayHubAddress,\r\n\t\t// \tpaymasterAddress,\r\n\t\t// \tstakeManagerAddress,\r\n\t\t// \tmethodSuffix: '_v4',\r\n\t\t// \tjsonStringifyRequest: true,\r\n\t\t// \tchainId: 3,\r\n\t\t// };\r\n\t\t// const gsnProvider = new RelayProvider(\r\n\t\t// \tthis.globals.service.provider,\r\n\t\t// \tgsnConfig\r\n\t\t// );\r\n\t\t// const provider = new ethers.providers.Web3Provider(gsnProvider);\r\n\t\t// this.globals.service.provider = provider;\r\n\t\t// console.log(\"GSN Registered as provider\");\r\n\t\t// this.globals.useGSN = true;\r\n\t}\r\n\r\n\topenModal(id: string) {\r\n\t\tthis.modalService.open(id);\r\n\t}\r\n\r\n\tcloseModal(id: string) {\r\n\t\tthis.modalService.close(id);\r\n\t}\r\n\r\n\tcloseUniversityNotice() {\r\n\t\tthis.globals.universityDisplayNotice = false;\r\n\t}\r\n\r\n\tonSelect(classroom: Classroom | void): void {\r\n\t\tif (classroom) this.globals.selectedClassroom = classroom;\r\n\t\telse this.globals.selectedClassroom = null;\r\n\t}\r\n\r\n\tonConnect(student: Student | void): void {\r\n\t\tif (student) this.globals.selectedStudent = student;\r\n\t\telse\r\n\t\t\tthis.globals.selectedStudent = new Student(\r\n\t\t\t\tthis.globals,\r\n\t\t\t\tthis.globals.ADDR0\r\n\t\t\t);\r\n\t}\r\n\r\n\ttxOn() {\r\n\t\tthis.txMode = 'preTX';\r\n\t}\r\n\r\n\ttxOff() {\r\n\t\tthis.txMode = 'off';\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tasync conectPortis(): Promise<any> {\r\n\t\tthis.globals.mode = 'loadingPage';\r\n\t\tconst answer = await this.portisService.initPortis();\r\n\t\tif (!answer) {\r\n\t\t\tthis.globals.mode = 'unconnected';\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.globals.address = await this.portisService.getAddress();\r\n\t\tthis.globals.service = this.portisService;\r\n\t\tawait this.initSigner();\r\n\t}\r\n\r\n\tprivate async initSigner() {\r\n\t\tthis.globals.address = await this.globals.service.getAddress();\r\n\t\tthis.globals.ensService.configureProvider(this.portisService.provider);\r\n\t\tif (\r\n\t\t\tthis.roleMembersAdmin &&\r\n\t\t\tthis.roleMembersAdmin['DEFAULT_ADMIN_ROLE'].find(\r\n\t\t\t\t(element) => element.address == this.globals.address\r\n\t\t\t)\r\n\t\t)\r\n\t\t\tthis.globals.userIsUniversityAdmin = true;\r\n\t\tconst isRegistered = await this.globals.service.isStudentRegistred();\r\n\t\tif (!isRegistered) {\r\n\t\t\tthis.globals.mode = 'connected';\r\n\t\t} else {\r\n\t\t\tthis.globals.userIsStudent = true;\r\n\t\t\tthis.globals.mode = 'registered';\r\n\t\t\tconst studentSmartContract = await this.globals.service.getStudentSmartContract();\r\n\t\t\tthis.onConnect(new Student(this.globals, studentSmartContract));\r\n\t\t}\r\n\t}\r\n\r\n\tasync refreshUniversityInfo(): Promise<any> {\r\n\t\tif (this.globals.pageParalelRefreshLock) return;\r\n\t\tthis.globals.pageParalelRefreshLock = true;\r\n\t\tthis.refreshUniversityMetadata();\r\n\t\tthis.updateClassrooms().then(() => {\r\n\t\t\tthis.globals.classlistLoaded = true;\r\n\t\t\tthis.globals.universityInfoNeedsRefresh = false;\r\n\t\t\tthis.globals.pageParalelRefreshLock = false;\r\n\t\t});\r\n\t\tthis.loadUniversityAdmin();\r\n\t}\r\n\r\n\tasync refreshUniversityMetadata() {\r\n\t\tthis.globals.universityENSName = await this.globals.ensService.lookupAddress(\r\n\t\t\tenvironment.UniversityAddress\r\n\t\t);\r\n\t\tthis.globals.universityENSNameRecord = await this.globals.ensService.checkENSRecord();\r\n\t\tthis.globals.universityENSTTL = await this.globals.ensService.getTTL();\r\n\t\tthis.globals.universityENSDescription = await this.globals.ensService.getTxDescription();\r\n\t\tthis.globals.universityENSNotice = await this.globals.ensService.getTxNotice();\r\n\t\tthis.globals.universityENSHasNotice =\r\n\t\t\tthis.globals.universityENSNotice.length > 0;\r\n\t\tthis.globals.universityName = await this.globals.service.getUniversityName();\r\n\t\tthis.globals.universityCut = await this.globals.service.getUniversityCut();\r\n\t\tthis.globals.universityDonations = await this.globals.service.getUniversityDonations();\r\n\t\tthis.globals.universityFunds = await this.globals.service.getUniversityFunds();\r\n\t\tthis.globals.universityBudget = await this.globals.service.getUniversityBudget();\r\n\t\tthis.globals.universityRevenue = await this.globals.service.getUniversityRevenue();\r\n\t\tthis.globals.universityReturns = await this.globals.service.getUniversityReturns();\r\n\t\tthis.globals.universityParams = await this.globals.service.getUniversityParams();\r\n\t\tthis.globals.universityFundAddress = await this.globals.service.getUniversityFund();\r\n\t}\r\n\r\n\tasync updateENSNotice(text: string) {\r\n\t\tawait this.globals.service.setTxRecord(\r\n\t\t\tthis.globals.ensService.node,\r\n\t\t\t'notice',\r\n\t\t\ttext\r\n\t\t);\r\n\t\tawait this.refreshUniversityMetadata();\r\n\t}\r\n\r\n\tasync updateENSDescription(text: string) {\r\n\t\tawait this.globals.service.setTxRecord(\r\n\t\t\tthis.globals.ensService.node,\r\n\t\t\t'description',\r\n\t\t\ttext\r\n\t\t);\r\n\t\tawait this.refreshUniversityMetadata();\r\n\t}\r\n\r\n\tasync setupUniversityENS() {\r\n\t\tconst normalName = this.globals.universityName\r\n\t\t\t.toLowerCase()\r\n\t\t\t.replace(/\\s/g, '');\r\n\t\tif (!this.globals.universityENSNameRecord)\r\n\t\t\tawait this.globals.service.registerInRegistrar(normalName);\r\n\t\tconst node = this.globals.ensService.node;\r\n\t\tawait this.globals.service.setResolver(node);\r\n\t\tawait this.globals.service.setAddr(node, environment.UniversityAddress);\r\n\t\tawait this.globals.service.setReverse(\r\n\t\t\tnormalName + environment.ENSDomain\r\n\t\t);\r\n\t}\r\n\r\n\tasync updateClassrooms() {\r\n\t\tlet classroomCount = await this.globals.service.getClassroomCount();\r\n\t\tif (\r\n\t\t\tthis.globals.classrooms.length ==\r\n\t\t\tclassroomCount + CLASSROOMS.length\r\n\t\t)\r\n\t\t\treturn;\r\n\t\tthis.globals.classlistLoaded = false;\r\n\t\tthis.globals.classrooms = new Array<Classroom>();\r\n\t\tlet index = 0;\r\n\t\twhile (index < classroomCount) {\r\n\t\t\tconst [\r\n\t\t\t\ttitle,\r\n\t\t\t\tsmartcontract,\r\n\t\t\t\tstartDate,\r\n\t\t\t\tfinishDate,\r\n\t\t\t\tduration,\r\n\t\t\t\tprice,\r\n\t\t\t\tminScore,\r\n\t\t\t\tcutPrincipal,\r\n\t\t\t\tcutPool,\r\n\t\t\t\tisOpen,\r\n\t\t\t\tisEmpty,\r\n\t\t\t\tisActive,\r\n\t\t\t\tisFinished,\r\n\t\t\t\taddressChallenge,\r\n\t\t\t\towner,\r\n\t\t\t] = await this.globals.service.getClassroomInfo(index);\r\n\t\t\tconst newClassroom = new Classroom(\r\n\t\t\t\tindex,\r\n\t\t\t\ttitle,\r\n\t\t\t\tsmartcontract,\r\n\t\t\t\tstartDate,\r\n\t\t\t\tfinishDate,\r\n\t\t\t\tduration / (60 * 60 * 24),\r\n\t\t\t\tprice,\r\n\t\t\t\tminScore,\r\n\t\t\t\tcutPrincipal / 1e4,\r\n\t\t\t\tcutPool / 1e4,\r\n\t\t\t\tisOpen,\r\n\t\t\t\tisEmpty,\r\n\t\t\t\tisActive,\r\n\t\t\t\tisFinished,\r\n\t\t\t\taddressChallenge,\r\n\t\t\t\towner\r\n\t\t\t);\r\n\t\t\tthis.globals.classrooms.push(newClassroom);\r\n\t\t\tthis.refreshClassroomMetadata(newClassroom);\r\n\t\t\tindex++;\r\n\t\t}\r\n\t}\r\n\r\n\tasync refreshClassroomMetadata(classroom: Classroom) {\r\n\t\tconst normalName = classroom.title.toLowerCase().replace(/\\s/g, '');\r\n\t\tconst node = this.globals.ensService.getSubNode(normalName);\r\n\t\tconst record = await this.globals.ensService.hasRecord(node);\r\n\t\tif (!record) return;\r\n\t\tclassroom.metadata.email = await this.globals.ensService.getTxEmail(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.metadata.url = await this.globals.ensService.getTxURL(node);\r\n\t\tclassroom.metadata.avatar = await this.globals.ensService.getTxAvatar(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tif (classroom.metadata.avatar.length < 5)\r\n\t\t\tclassroom.metadata.avatar = this.globals.defaultClassroomImg;\r\n\t\tclassroom.metadata.description = await this.globals.ensService.getTxDescription(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.metadata.notice = await this.globals.ensService.getTxNotice(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tclassroom.metadata.keywords = await this.globals.ensService.getTxKeywordsArray(\r\n\t\t\tnode\r\n\t\t);\r\n\t}\r\n\r\n\tasync refreshAccountInfo(): Promise<any> {\r\n\t\tthis.globals.address = await this.globals.service.getAddress();\r\n\t}\r\n\r\n\tasync studentSelfRegister(_name: string): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tif (_name.length < 1) {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst selfRegister = await this.globals.service.studentSelfRegister(\r\n\t\t\t\t_name,\r\n\t\t\t\tthis.globals.useGSN\r\n\t\t\t);\r\n\t\t\tif (!selfRegister) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tthis.hashTx = selfRegister.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetClassrooms(id: Number) {\r\n\t\tconst data = localStorage.getItem('classrooms');\r\n\t\tif (data) {\r\n\t\t\tthis.globals.classrooms = JSON.parse(data);\r\n\t\t} else {\r\n\t\t\tthis.globals.classrooms = [];\r\n\t\t}\r\n\t}\r\n\r\n\trevokeRole(role: string, address: string) {\r\n\t\tthis.globals.service\r\n\t\t\t.revokeRole(role, address)\r\n\t\t\t.then(() => this.loadUniversityAdmin());\r\n\t}\r\n\r\n\tgrantRole(role: string, address: string) {\r\n\t\tthis.globals.service\r\n\t\t\t.grantRole(role, address)\r\n\t\t\t.then(() => this.loadUniversityAdmin());\r\n\t}\r\n\r\n\tattachFund(address: string) {\r\n\t\tthis.globals.service.universityContractInstance.attachFund(address);\r\n\t}\r\n\r\n\tgrantFundAdmin(address: string) {\r\n\t\tthis.globals.service.grantFundAdmin(address);\r\n\t}\r\n\r\n\tapplyFunds(val: number) {\r\n\t\tthis.globals.service.applyFunds(val);\r\n\t}\r\n\r\n\trecoverFunds(val: number) {\r\n\t\tthis.globals.service.recoverFunds(val);\r\n\t}\r\n\r\n\troleMembersAdmin: Map<string, Array<GenericUser>>;\r\n\r\n\tloadUniversityAdmin() {\r\n\t\tthis.modeUniversityAdmin = 'unconnected';\r\n\t\tthis.roleMembersAdmin = new Map<string, Array<GenericUser>>();\r\n\t\tthis.getRoleMembers('DEFAULT_ADMIN_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['DEFAULT_ADMIN_ROLE'] = result;\r\n\t\t\tif (\r\n\t\t\t\tthis.roleMembersAdmin['DEFAULT_ADMIN_ROLE'].find(\r\n\t\t\t\t\t(element) => element.address == this.globals.address\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t\tthis.globals.userIsUniversityAdmin = true;\r\n\t\t});\r\n\t\tthis.getRoleMembers('FUNDS_MANAGER_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['FUNDS_MANAGER_ROLE'] = result;\r\n\t\t});\r\n\t\tthis.getRoleMembers('CLASSLIST_ADMIN_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['CLASSLIST_ADMIN_ROLE'] = result;\r\n\t\t});\r\n\t\tthis.getRoleMembers('GRANTS_MANAGER_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['GRANTS_MANAGER_ROLE'] = result;\r\n\t\t});\r\n\t\tthis.getRoleMembers('UNIVERSITY_OVERSEER_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['UNIVERSITY_OVERSEER_ROLE'] = result;\r\n\t\t});\r\n\t\tthis.getRoleMembers('REGISTERED_SUPPLIER_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['REGISTERED_SUPPLIER_ROLE'] = result;\r\n\t\t});\r\n\t\tthis.getRoleMembers('STUDENT_IDENTITY_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['STUDENT_IDENTITY_ROLE'] = result;\r\n\t\t});\r\n\t\tthis.getRoleMembers('CLASSROOM_PROFESSOR_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['CLASSROOM_PROFESSOR_ROLE'] = result;\r\n\t\t});\r\n\t\tthis.getRoleMembers('READ_STUDENT_LIST_ROLE').then((result) => {\r\n\t\t\tthis.roleMembersAdmin['READ_STUDENT_LIST_ROLE'] = result;\r\n\t\t\tthis.modeUniversityAdmin = 'loaded';\r\n\t\t});\r\n\t}\r\n\r\n\tpublic async setUniversityOwner(param) {}\r\n\r\n\tpublic async setUniversityName(param) {}\r\n\r\n\tpublic async setUniversityCut(param) {}\r\n\r\n\tpublic async setUniversityParams(param: string) {\r\n\t\tconst paramArray = param.split(',');\r\n\t\tthis.globals.service.universityContractInstance.updateAddresses(\r\n\t\t\t...paramArray\r\n\t\t);\r\n\t}\r\n\r\n\tpublic createClassroom(\r\n\t\t_Owner: string,\r\n\t\t_Name: string,\r\n\t\t_Price: string,\r\n\t\t_Cutfromprincipal: string,\r\n\t\t_Cutfromsuccesspool: string,\r\n\t\t_Minimumscore: string,\r\n\t\t_Duration: string,\r\n\t\t_Challengeaddress: string\r\n\t) {\r\n\t\tthis.globals.service\r\n\t\t\t.createClassroom(\r\n\t\t\t\t_Owner,\r\n\t\t\t\t_Name,\r\n\t\t\t\t_Price,\r\n\t\t\t\tNumber(_Cutfromprincipal),\r\n\t\t\t\tNumber(_Cutfromsuccesspool),\r\n\t\t\t\tNumber(_Minimumscore),\r\n\t\t\t\tNumber(_Duration),\r\n\t\t\t\t_Challengeaddress\r\n\t\t\t)\r\n\t\t\t.then(() => this.updateClassrooms());\r\n\t}\r\n\r\n\tasync studentClaimSubnode(label, owner, classroom) {\r\n\t\tconst node = this.globals.ensService.node;\r\n\t\tconst normalName = label.toLowerCase().replace(/\\s/g, '');\r\n\t\tawait this.globals.service.claimSubnodeStudent(\r\n\t\t\tnode,\r\n\t\t\tnormalName,\r\n\t\t\towner,\r\n\t\t\tclassroom\r\n\t\t);\r\n\t}\r\n\r\n\tasync getRoleMembers(role: string) {\r\n\t\treturn await this.globals.service.listRoles(role);\r\n\t}\r\n\r\n\tasync donateDAi(val: number) {\r\n\t\tconst tx1 = await this.globals.service.approveDAI(val);\r\n\t\tthis.ngxLoader.start();\r\n\t\tthis.globals.overlayLoader = true;\r\n\t\tawait tx1.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\tthis.globals.overlayLoader = false;\r\n\t\tconst tx2 = await this.globals.service.donateDAI(val);\r\n\t\tthis.ngxLoader.start();\r\n\t\tthis.globals.overlayLoader = true;\r\n\t\tawait tx1.wait();\r\n\t\tthis.ngxLoader.stop();\r\n\t\tthis.globals.overlayLoader = false;\r\n\t}\r\n}\r\n","<main>\r\n    <div class=\"position-relative\">\r\n        <!-- shape Hero -->\r\n        <section class=\"section section-lg section-shaped pb-250\">\r\n            <div class=\"shape shape-style-1 shape-primary\">\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n            </div>\r\n            <div class=\"container py-lg-md d-flex\">\r\n                <div class=\"col px-0\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-8 mb-4\">\r\n                            <h1 class=\"display-3  text-white\">decentralized\r\n                                <span>university</span>\r\n                                <span *ngIf=globals.universityENSName class=\"text-muted\" style=\"font-size:smaller;\">@{{globals.universityENSName}}</span>\r\n                            </h1>\r\n                            <h3 class=\"lead  text-white\">{{globals.universityENSDescription}}</h3>\r\n                            <div *ngIf=globals.universityENSHasNotice&&globals.universityDisplayNotice #universityNotice class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n                                <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"closeUniversityNotice()\">\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                                <strong>University Notice: </strong> {{globals.universityENSNotice}}\r\n                            </div>\r\n                            <div class=\"btn-wrapper\">\r\n                                <a href=\"#classrooms\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                    <span class=\"btn-inner--icon\"><i class=\"fa fa-university\"></i></span>\r\n                                    <span class=\"btn-inner--text\">Classroms</span>\r\n                                </a>\r\n                                <a href=\"#Informations\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                    <span class=\"btn-inner--icon\"><i class=\"fa fa-info-circle\"></i></span>\r\n                                    <span class=\"btn-inner--text\">Informations</span>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-lg-4\" *ngIf=\"globals.mode=='loadingPage'\">\r\n                            <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                                <div class=\"card-body py-5\">\r\n                                    <div class=\"icon icon-shape icon-shape-warning rounded-circle fa-3x mb-4\">\r\n                                        <i class=\"fa fa-wifi\"></i>\r\n                                    </div>\r\n                                    <h6 class=\"text-warning text-uppercase\">Connecting</h6>\r\n                                    <p class=\"description mt-3\">Connecting to your Wallet Provider and DeEd University.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-lg-4\" *ngIf=\"globals.mode=='unconnected'\">\r\n                            <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                                <div class=\"card-body py-5\">\r\n                                    <div class=\"icon icon-shape icon-shape-info rounded-circle mb-4\">\r\n                                        <i class=\"fa fa-star\"></i>\r\n                                    </div>\r\n                                    <h6 class=\"text-info text-uppercase\">Welcome to DeEd</h6>\r\n                                    <p class=\"description mt-3\">To connect to DeEd you need to install a Portis Wallet.\r\n                                    </p>\r\n                                    <button class=\"btn btn-info mt-4\" (click)=\"conectPortis()\">Conect Portis</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-lg-4\" *ngIf=\"globals.mode=='connected'\">\r\n                            <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                                <div class=\"card-body py-5\">\r\n                                    <div class=\"icon icon-shape icon-shape-primary rounded-circle mb-4\">\r\n                                        <i class=\"fa fa-user\"></i>\r\n                                    </div>\r\n                                    <h6 class=\"text-primary text-uppercase\">Register Your Account</h6>\r\n                                    <p class=\"description mt-3\">To use to DeEd you need to register at University.</p>\r\n                                    <div #onLoginPlaceholder1></div>\r\n                                    <button class=\"btn btn-primary mt-4\" (click)=\"openModal('custom-modal-register'); txOn();\">Register DeEd</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-lg-4\" *ngIf=\"globals.mode=='registered'\">\r\n                            <div class=\"card card-lift--hover shadow border-0 text-center\">\r\n                                <div class=\"card-body py-5\">\r\n                                    <div class=\"icon icon-shape icon-shape-success rounded-circle mb-4\">\r\n                                        <i class=\"fa fa-user\"></i>\r\n                                    </div>\r\n                                    <h6 class=\"text-success text-uppercase\">Connected</h6>\r\n                                    <p class=\"description\">Address: {{globals.address}} </p>\r\n                                    <button [routerLink]=\"['/student']\" class=\"btn btn-success mt-4\">Go to\r\n                                        Account</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- SVG separator -->\r\n            <div class=\"separator separator-bottom separator-skew\">\r\n                <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <polygon class=\"fill-secondary\" points=\"2560 0 2560 100 0 100\"></polygon>\r\n                </svg>\r\n            </div>\r\n        </section>\r\n        <!-- 1st Hero Variation -->\r\n    </div>\r\n    <section class=\"section bg-secondary\">\r\n        <div class=\"container\">\r\n            <div class=\"row row-grid align-items-center\">\r\n                <div class=\"col-lg-6\">\r\n                    <div class=\"card bg-default shadow border-0\"><img class=\"card-img-top\" src=\"./assets/img/stock/trade.jpg\">\r\n                        <blockquote class=\"card-blockquote\"><svg class=\"svg-bg\" preserveAspectRatio=\"none\" viewBox=\"0 0 583 95\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <polygon class=\"fill-default\" points=\"0,52 583,95 0,95\"></polygon>\r\n                                <polygon class=\"fill-default\" opacity=\".2\" points=\"0,42 583,95 683,0 0,95\"></polygon>\r\n                            </svg>\r\n                            <h3 class=\"display-3 font-weight-bold text-white\">Decentralized Economy</h3>\r\n                            <p class=\"lead text-italic text-white\">The Decentralized Finance (DeFi) reaches goods and services. You can already trade assets for risks and returns using decentralized platforms. How about doing it with goods and services now?</p>\r\n                            <p class=\"lead text-bold text-white\"><strong>The Decentralized Education (DeEd) is one of\r\n                                    the many steps in that direction</strong></p>\r\n                        </blockquote>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"pl-md-5\">\r\n                        <h3>Our vision</h3>\r\n                        <p class=\"lead\">We belive in a future of free voluntary trades between individuals. DeFi has already removed many unwanted intermediaries from your investment ventures. Now it can remove even more.</p>\r\n                        <p>The financial market operate with units that exchange between themselves risks for time and/or returns. Value is created every time someone with a short-term need finds a long-term risk taker willing to earn some returns. The value\r\n                            that can be generated by these exchanges is limited by the difference in perceptions of value, and some times even for pure speculation. But the real power of finance comes when applied to more primitive value exchanges: trading\r\n                            goods and services</p>\r\n                        <p>Whenever a person or machine explore a natural resource, or process a base material, or even provide a custom scarce service, there is an increase of value within the parts of those transactions. What if this value can remain within\r\n                            the value generators? What if this value is shared with people in need, acording to the opinion of those who produced the value in the first place?</p>\r\n                        <a class=\"font-weight-bold text-info mt-5\">Lets build this decentralized future together</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section id=\"classroom\">\r\n        <section id=\"classrooms_section\" class=\"section section-lg\">\r\n            <div class=\"container\">\r\n                <div class=\"row justify-content-left mb-4\">\r\n                    <div class=\"col-lg-8\">\r\n                        <h2 class=\"display-3\">classrooms</h2>\r\n                        <p class=\"lead text-default\">Here you can see and access the classrooms of the university.</p>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=!globals.classlistLoaded class=\"container\">\r\n                    <div class=\"card shadow-lg border-0\">\r\n                        <div class=\"p-5\">\r\n                            <div class=\"row align-items-center\">\r\n                                <div class=\"col-lg-12\">\r\n                                    <h2 class=\"display-3\">Loading...</h2>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=globals.classlistLoaded class=\"row justify-content-center\">\r\n                    <div class=\"col-lg-12\">\r\n                        <div class=\"row row-grid\">\r\n                            <div *ngFor=\"let classroom of globals.classrooms | slice:0:3\" class=\"col-lg-4\">\r\n                                <div class=\"card card-lift--hover shadow border-0\">\r\n                                    <img class=\"card-img-top\" src={{classroom.metadata.avatar}} alt=\"Card image cap\">\r\n                                    <div class=\"card-body py-5\">\r\n                                        <h4 class=\"text-default text-uppercase\">{{classroom.title}}</h4>\r\n                                        <div>\r\n                                            <span *ngIf=classroom.state.isClassroomNotOpen class=\"badge badge-pill badge-info\">Not Open</span>\r\n                                            <span *ngIf=classroom.state.isClassroomOpen class=\"badge badge-pill badge-success\">Open</span>\r\n                                            <span *ngIf=classroom.state.isClassroomClosed class=\"badge badge-pill badge-warning\">Closed</span>\r\n                                            <span *ngIf=classroom.state.isClassroomActive class=\"badge badge-pill badge-primary\">Ongoing</span>\r\n                                            <span *ngIf=classroom.state.isCourseFinished class=\"badge badge-pill badge-dark\">Finished</span>\r\n                                        </div>\r\n                                        <p class=\"description mt-3\" style=\"height: 32px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;\">\r\n                                            {{classroom.metadata.description}}</p>\r\n                                        <a [class.selected]=\"classroom === globals.selectedClassroom\" (click)=\"onSelect(classroom);openModal('custom-modal-classroomInfo')\" class=\"btn btn-default mt-4 text-white\">Details</a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <section *ngIf=globals.classlistLoaded class=\"section section-lg pt-0\">\r\n            <div class=\"container\">\r\n                <div class=\"card shadow-lg border-0\">\r\n                    <div class=\"p-2\">\r\n                        <div class=\"row align-items-center\">\r\n                            <div class=\"col-md-12\">\r\n                                <h3 style=\"text-align: center\">View All Classrooms</h3><br>\r\n                                <table class=\"table table-hover\" responsive>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th scope=\"col\">Classroom</th>\r\n                                            <th scope=\"col\">Status</th>\r\n                                            <th scope=\"col\">Price</th>\r\n                                            <th scope=\"col\"></th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody *ngFor=\"let classroom of globals.classrooms\">\r\n                                        <tr>\r\n                                            <th scope=\"row\">{{ classroom.title }}</th>\r\n                                            <td>\r\n                                                <p><span *ngIf=classroom.state.isClassroomNotOpen class=\"badge badge-pill badge-info\">Not Open</span>\r\n                                                    <span *ngIf=classroom.state.isClassroomOpen class=\"badge badge-pill badge-success\">Open</span>\r\n                                                    <span *ngIf=classroom.state.isClassroomClosed class=\"badge badge-pill badge-warning\">Closed</span>\r\n                                                    <span *ngIf=classroom.state.isClassroomActive class=\"badge badge-pill badge-primary\">Ongoing</span>\r\n                                                    <span *ngIf=classroom.state.isCourseFinished class=\"badge badge-pill badge-dark\">Finished</span></p>\r\n                                            </td>\r\n                                            <td>{{ classroom.price }}</td>\r\n                                            <td><a [class.selected]=\"classroom === globals.selectedClassroom\" (click)=\"onSelect(classroom);openModal('custom-modal-classroomInfo')\" class=\"btn btn-sm btn-default text-white\">Details</a></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button *ngIf=globals.userIsUniversityAdmin (click)=\"openModal('custom-modal-create-classroom')\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\"><span class=\"btn-inner--icon\"></span><i\r\n                            class=\"fa fa-plus\"></i></button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </section>\r\n    <section id=\"Informations\" class=\"section pb-0 bg-gradient-default\">\r\n        <div class=\"container\">\r\n            <h1 class=\"display-3 text-white\">Informations</h1>\r\n            <p class=\"lead text-white\">Here you can see the informations of the University and how DeEd works.</p>\r\n            <div class=\"btn-wrapper\">\r\n                <button href=\"#classrooms\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                    <span class=\"btn-inner--icon\"><i class=\"fa fa-university\"></i></span>\r\n                    <span class=\"btn-inner--text\">Classrooms</span>\r\n                </button>\r\n                <button *ngIf=globals.userIsUniversityAdmin (click)=\"loadUniversityAdmin();openModal('custom-modal-university-admin')\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                    <span class=\"btn-inner--icon\"><i class=\"fa fa-cogs\"></i></span>\r\n                    <span class=\"btn-inner--text\">Admin</span>\r\n                </button>\r\n                <button *ngIf=globals.userIsStudent href=\"#\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                    <span class=\"btn-inner--icon\"><i class=\"fa fa-user\"></i></span>\r\n                    <span class=\"btn-inner--text\">My Student Profile</span>\r\n                </button>\r\n                <button (click)=\"openModal('transfer-dai')\" class=\"btn btn-success btn-icon mb-3 mb-sm-0\">\r\n                    <span class=\"btn-inner--icon\"><i class=\"fa fa-gratipay\"></i></span>\r\n                    <span class=\"btn-inner--text\">Donate</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"row row-grid align-items-center\">\r\n                <div class=\"col-md-4 order-lg-2 ml-lg-auto\">\r\n                    <div class=\"position-relative pl-md-5\">\r\n                        <img src=\"./assets/img/ill/ill-2.svg\" class=\"img-center img-fluid\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-8 order-lg-1\">\r\n                    <div class=\"card shadow shadow-lg--hover mt-5\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"d-flex px-3\">\r\n                                <div>\r\n                                    <div class=\"icon icon-shape bg-gradient-primary rounded-circle text-white\">\r\n                                        <i class=\"fa fa-link\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"pl-4\">\r\n                                    <h5 class=\"title text-primary\">University Status</h5>\r\n                                    <ul class=\"list-unstyled\">\r\n                                        <li id=\"university.name\">Name: <strong>{{globals.universityName}}</strong></li>\r\n                                        <li id=\"university.name\">ENS Name:\r\n                                            <strong>{{globals.universityENSName}}</strong></li>\r\n                                        <li id=\"university.cut\">Cut: <strong>{{globals.universityCut}}</strong>%</li>\r\n                                        <li id=\"university._studentGSNDeposit\">Funds:\r\n                                            <strong>{{globals.universityFunds}}</strong> DAI</li>\r\n                                        <li id=\"university.operationalBudget\">Budget:\r\n                                            <strong>{{globals.universityBudget}}</strong> DAI</li>\r\n                                        <li id=\"university.donationsReceived\">Donations:\r\n                                            <strong>{{globals.universityDonations}}</strong> DAI</li>\r\n                                        <li id=\"university.revenueReceived\">Revenue:\r\n                                            <strong>{{globals.universityRevenue}}</strong> DAI</li>\r\n                                        <li id=\"university.returnsReceived\">Returns:\r\n                                            <strong>{{globals.universityReturns}}</strong> DAI</li>\r\n                                        <li id=\"university.returnsReceived\">Fund address:\r\n                                            <strong>{{globals.universityFundAddress}}</strong></li>\r\n                                    </ul>\r\n                                    <a href=\"{{universityEtherscan}}\" target=\"_blank\" class=\"text-primary\">See on\r\n                                        Etherscan</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card shadow shadow-lg--hover mt-5\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"d-flex px-3\">\r\n                                <div>\r\n                                    <div class=\"icon icon-shape bg-gradient-success rounded-circle text-white\">\r\n                                        <i class=\"fa fa-gratipay\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"pl-4\">\r\n                                    <h5 class=\"title text-success\">Make a Donation</h5>\r\n                                    <p>The Arctic Ocean freezes every winter and much of the sea-ice then thaws every summer, and that process will continue whatever.</p>\r\n                                    <a href=\"javascript:void(0)\" class=\"text-success\">Support Now</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card shadow shadow-lg--hover mt-5\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"d-flex px-3\">\r\n                                <div>\r\n                                    <div class=\"icon icon-shape bg-gradient-danger rounded-circle text-white\">\r\n                                        <i class=\"fa fa-code\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"pl-4\">\r\n                                    <h5 class=\"title text-danger\">Smart Contract</h5>\r\n                                    <p>The Arctic Ocean freezes every winter and much of the sea-ice then thaws every summer, and that process will continue whatever.</p>\r\n                                    <a href=\"javascript:void(0)\" class=\"text-danger\">Show the Code</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card shadow shadow-lg--hover mt-5\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"d-flex px-3\">\r\n                                <div>\r\n                                    <div class=\"icon icon-shape bg-gradient-info rounded-circle text-white\">\r\n                                        <i class=\"ni ni-active-40\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"pl-4\">\r\n                                    <h5 class=\"title text-info\">White Papper</h5>\r\n                                    <p>The Arctic Ocean freezes every winter and much of the sea-ice then thaws every summer, and that process will continue whatever.</p>\r\n                                    <a href=\"javascript:void(0)\" class=\"text-info\">Read White Papper</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card shadow shadow-lg--hover mt-5\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"d-flex px-3\">\r\n                                <div>\r\n                                    <div class=\"icon icon-shape bg-gradient-warning rounded-circle text-white\">\r\n                                        <i class=\"fa fa-question\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"pl-4\">\r\n                                    <h5 class=\"title text-warning\">FAQ</h5>\r\n                                    <p>The Arctic Ocean freezes every winter and much of the sea-ice then thaws every summer, and that process will continue whatever.</p>\r\n                                    <a href=\"javascript:void(0)\" class=\"text-warning\">Access FAQ</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- SVG separator -->\r\n        <div class=\"separator separator-bottom separator-skew zindex-100\">\r\n            <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <polygon class=\"fill-white\" points=\"2560 0 2560 100 0 100\"></polygon>\r\n            </svg>\r\n        </div>\r\n    </section>\r\n    <section class=\"section section-lg\">\r\n        <div class=\"container\">\r\n            <div class=\"row row-grid justify-content-center\">\r\n                <div class=\"col-lg-8 text-center\">\r\n                    <h2 class=\"display-3\">Do you like this\r\n                        <span class=\"text-success\">Defi DAPP?</span>\r\n                    </h2>\r\n                    <p class=\"lead\">Cause if you do, it can be yours for FREE. Hit the button below to navigate to Creative Tim where you can find the Design System in Angular. Start a new project or give an old Angular project a new look!\r\n                    </p>\r\n                    <div class=\"btn-wrapper\">\r\n                        <a href=\"https://github.com/MatheusDaros/Uproot\" class=\"btn btn-default mb-3 mb-sm-0\">See Repo\r\n                            on Github</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-16 text-center\">\r\n                    <div class=\"text-center\">\r\n                        <h4 class=\"display-4 mb-5 mt-5\">Provided by these technologies</h4>\r\n                        <div class=\"row justify-content-center\">\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://aave.com/\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"AAVE - DeFi Protocol\">\r\n                                    <img src=\"https://aave.com/static/media/mainLogo.8eb84c21.svg\" class=\"img-fluid \">\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://compound.finance/\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"Compound - DeFi Protocol\">\r\n                                    <img src=\"https://lever-client-logos.s3-us-west-2.amazonaws.com/0c731c59-c243-4fba-96fe-35cac794f158-1583450111151.png\" class=\"img-fluid\">\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://uniswap.exchange/swap\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"Uniswap - Exchange\">\r\n                                    <img src=\"https://uniswap.exchange/static/media/logo.5827780d.svg\" class=\"img-fluid\"><img src=\"https://uniswap.exchange/static/media/wordmark.b75565ae.svg\" class=\"img-fluid\">\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://chain.link/\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"Chainlink - Oracle Provider\">\r\n                                    <img src=\"https://0xzx.com/wp-content/uploads/2020/01/chainlink-link-token-1.jpg\" class=\"img-fluid\">\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://www.portis.io/\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"Portis - Ethereum Wallet Provider\">\r\n                                    <img src=\"https://www.portis.io/static/logo.png\" class=\"img-fluid\">\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://ens.domains/\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"ENS - Ethereum Name Service\">\r\n                                    <img src=\"http://searchvectorlogo.com/wp-content/uploads/2019/11/ethereum-name-service-ens-logo-vector.png\" class=\"img-fluid\">\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://www.opengsn.org/\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"OpenGSN\">\r\n                                    <img src=\"https://avatars3.githubusercontent.com/u/59866496?s=400&v=4\" class=\"img-fluid\">\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-2\">\r\n                                <a href=\"https://siasky.net/\" target=\"_blank\" placement=\"bottom\" ngbTooltip=\"Sia\">\r\n                                    <img src=\"https://files.helpdocs.io/obkhjggi1d/other/1582224368375/skynet-logo-gree.png?t=1582224368375\" class=\"img-fluid\">\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <jw-modal id=\"custom-modal-register\">\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-8\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Register at University</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-white\">Create your student registry in this university and enjoy all its features.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"studentInputName\" #studentInputName class=\"form-control\" placeholder=\"Name\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis\r\n                                            wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Registering your account ...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On\r\n                                            Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a (click)=\"closeModal('custom-modal-register'); txOff()\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-university\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" (click)=\"studentSelfRegister(studentInputName.value)\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Register</span>\r\n                            </a>\r\n                            <a type=\"submit\" (click)=\"connectGSN()\" class=\"btn btn-info btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-star\"></i></span>\r\n                                <span class=\"btn-inner--text\">Enable GSN</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-classroomInfo\">\r\n        <app-classroomInfo></app-classroomInfo>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-university-admin\">\r\n        <div *ngIf=\"modeUniversityAdmin=='unconnected'\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-8\">\r\n                    <div class=\"card shadow border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3>University Admin<span class=\"badge badge-pill badge-warning\">loading...</span></h3>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div id=\"UniversityInfo\" *ngIf=\"modeUniversityAdmin=='loaded'\" class=\"container-fluid\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card shadow border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>University parameters</h4>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <label for=\"inputObjUpdateUniversity_Owner\" class=\"UniversityAdmins mt-3\">Owner:\r\n                                        <span class=\"text-default\">{{globals.universityAdmin}}</span></label>\r\n                                    <input id=\"inputObjUpdateUniversity_Owner\" #inputUniversity_Owner class=\"form-control\" type=\"text\" size=32>\r\n                                    <button type=\"button\" (click)=\"setUniversityOwner(inputUniversity_Owner.value)\" class=\"btn btn-sm btn-default text-white\">Set</button>\r\n                                    <br>\r\n                                    <label for=\"inputObjUpdateUniversity_Name\" class=\"UniversityAdmins mt-3\">Name: <span\r\n                                            class=\"text-default\">{{globals.universityName}}</span></label>\r\n                                    <input id=\"inputObjUpdateUniversity_Name\" #inputUniversity_Name class=\"form-control\" type=\"text\" size=32>\r\n                                    <button type=\"button\" (click)=\"setUniversityName(inputUniversity_Name.value)\" class=\"btn btn-sm btn-default text-white\">Set</button>\r\n                                    <br>\r\n                                    <label for=\"inputObjUpdateUniversity_Cut\" class=\"UniversityAdmins mt-3\">Cut: <span\r\n                                            class=\"text-default\">{{globals.universityCut}}</span></label>\r\n                                    <input id=\"inputObjUpdateUniversity_Cut\" #inputUniversity_Cut class=\"form-control\" type=\"text\" size=32>\r\n                                    <button type=\"button\" (click)=\"setUniversityCut(inputUniversity_Cut.value)\" class=\"btn btn-sm btn-default text-white\">Set</button>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <label for=\"inputObjUpdateUniversity_ConfigAddress\" class=\"UniversityAdmins mt-3\">Config address:</label>\r\n                                    <textarea class=\"form-control\" rows=\"10\" wrap=\"hard\">{{globals.universityParams}}</textarea>\r\n                                    <input id=\"inputObjUpdateUniversity_ConfigAddress\" #inputUniversity_Configaddress class=\"form-control\" type=\"text\" size=32 rows=\"10\">\r\n                                    <button type=\"button\" (click)=\"setUniversityParams(inputUniversity_Configaddress.value)\" class=\"btn btn-sm btn-default text-white\">Set</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>University Admins</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <table id=\"UniversityAdminsTable\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['DEFAULT_ADMIN_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('DEFAULT_ADMIN_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Revoke</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                            </div>\r\n                                            <input #inputUniversityAdmins class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32> <button type=\"button\" class=\"btn btn-primary\" (click)=\"grantRole('DEFAULT_ADMIN_ROLE',inputUniversityAdmins.value)\">Add</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>Student List Admins:</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <table id=\"StudentListTable\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['READ_STUDENT_LIST_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('READ_STUDENT_LIST_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Revoke</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                            </div>\r\n                                            <input #inputUniversityAdminStudentListAdmins class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32> <button type=\"button\" class=\"btn btn-primary\" (click)=\"grantRole('READ_STUDENT_LIST_ROLE',inputUniversityAdminStudentListAdmins.value)\">Add</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>Funds Managers:</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <table id=\"FundsManagersTable\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['FUNDS_MANAGER_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('FUNDS_MANAGER_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Revoke</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                            </div>\r\n                                            <input #inputUniversityAdminFundsManagers class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32> <button type=\"button\" class=\"btn btn-primary\" (click)=\"grantRole('FUNDS_MANAGER_ROLE',inputUniversityAdminFundsManagers.value)\">Add</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>Classlist Managers:</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <table id=\"ClasslistManagersTable\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['CLASSLIST_ADMIN_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('CLASSLIST_ADMIN_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Revoke</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                            </div>\r\n                                            <input #inputUniversityAdminClasslistManagers class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32> <button type=\"button\" class=\"btn btn-primary\" (click)=\"grantRole('CLASSLIST_ADMIN_ROLE',inputUniversityAdminClasslistManagers.value)\">Add</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>Grants Managers:</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <table id=\"GrantsManagersTable\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['GRANTS_MANAGER_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('GRANTS_MANAGER_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Revoke</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                            </div>\r\n                                            <input #inputUniversityAdminGrantsManagers class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32> <button type=\"button\" class=\"btn btn-primary\" (click)=\"grantRole('GRANTS_MANAGER_ROLE',inputUniversityAdminGrantsManagers.value)\">Add</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>University Overseers:</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <table id=\"UniversityOverseersTable\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['UNIVERSITY_OVERSEER_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('UNIVERSITY_OVERSEER_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Revoke</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                            </div>\r\n                                            <input #inputUniversityAdminUniversityOverseers class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32> <button type=\"button\" class=\"btn btn-primary\" (click)=\"grantRole('UNIVERSITY_OVERSEER_ROLE',inputUniversityAdminUniversityOverseers.value)\">Add</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>University Registered Suplier:</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <table id=\"RegisteredSuplierTable\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['REGISTERED_SUPPLIER_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('REGISTERED_SUPPLIER_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Revoke</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus1===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                                            </div>\r\n                                            <input #inputUniversityAdminRegisteredSuplier class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32> <button type=\"button\" class=\"btn btn-primary\" (click)=\"grantRole('REGISTERED_SUPPLIER_ROLE',inputUniversityAdminRegisteredSuplier.value)\">Add</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <h4>Students:</h4>\r\n                                    <table id=\"StudentList\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['STUDENT_IDENTITY_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('STUDENT_IDENTITY_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Remove</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <h4>Classrooms:</h4>\r\n                                    <table id=\"ClassroomList\" class=\"table table-borderless table-striped table-earning\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>ID</th>\r\n                                                <th>Address</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngFor=\"let genericUser of roleMembersAdmin['CLASSROOM_PROFESSOR_ROLE']\">\r\n                                            <tr>\r\n                                                <th scope=\"row\">{{ genericUser.id }}</th>\r\n                                                <td>{{ genericUser.address }}</td>\r\n                                                <td><a (click)=\"revokeRole('CLASSROOM_PROFESSOR_ROLE',genericUser.address)\" class=\"btn btn-sm btn-default text-white\">Remove</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>University ENS Admin</h4>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <p>ENS Name: <span class=\"text-default\">{{globals.universityENSName}}</span> <span *ngIf=globals.universityENSNameRecord class=\"badge badge-pill badge-success\">Recorded</span><span *ngIf=!globals.universityENSNameRecord\r\n                                            class=\"badge badge-pill badge-warning\">Not Recorded</span></p>\r\n                                    <p>ENS TTL: <span class=\"text-default\">{{globals.universityENSTTL}}</span> </p>\r\n                                    <button *ngIf=!globals.universityENSNameRecord type=\"button\" class=\"btn btn-warning\" (click)=\"setupUniversityENS()\">Setup ENS</button>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <p>Description: <span class=\"text-default\">{{globals.universityENSDescription}}</span> </p>\r\n                                    <input #inputUniversityAdminENSDescription class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32>\r\n                                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"updateENSDescription(inputUniversityAdminENSDescription.value)\">Update</button>\r\n                                    <p>Notice: <span class=\"text-default\">{{globals.universityENSNotice}}</span> </p>\r\n                                    <input #inputUniversityAdminENSNotice class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32>\r\n                                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"updateENSNotice(inputUniversityAdminENSNotice.value)\">Update</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h4>Fund Admin:</h4>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <p>Attach University Fund</p>\r\n                                    <input #inputFundAddress class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32>\r\n                                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"attachFund(inputFundAddress.value)\">Attach fund</button>\r\n                                    <p>University Fund Admin</p>\r\n                                    <input #inputFundAdminAddress class=\"form-control\" placeholder=\"Address\" type=\"text\" size=32>\r\n                                    <button type=\"button\" class=\"btn btn-warning\" (click)=\"grantFundAdmin(inputFundAdminAddress.value)\">Give fund admin</button>\r\n                                    <p>Apply funds in University Fund</p>\r\n                                    <input #inputFundApply class=\"form-control\" placeholder=\"DAI value\" type=\"text\" size=32>\r\n                                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"applyFunds(inputFundApply.value)\">Apply funds</button>\r\n                                    <p>Recover funds from University Fund</p>\r\n                                    <input #inputFundRecover class=\"form-control\" placeholder=\"DAI value\" type=\"text\" size=32>\r\n                                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"recoverFunds(inputFundRecover.value)\">Recover funds</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        <a href=\"#information\" (click)=\"closeModal('custom-modal-university-admin')\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                            <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                            <span class=\"btn-inner--text\">Back</span>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <jw-modal id=\"custom-modal-create-classroom\">\r\n        <div id=\"UniversityInfo\" class=\"container-fluid\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"card shadow border-0\">\r\n                        <div class=\"card-header\">\r\n                            <h4>Admin Create Classroom</h4>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <p>Use this page to create classrooms manually. The setup of Oracles and Services will use this university's standards.</p>\r\n                            <div class=\"form-group\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <label for=\"inputObjCreateClassroom_Owner\" class=\"UniversityAdmins mt-3\">Owner:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Owner\" #inputCreateClassroom_Owner class=\"form-control\" placeholder=\"Owner Address\" type=\"text\" size=32>\r\n                                        <label for=\"inputObjCreateClassroom_Name\" class=\"UniversityAdmins mt-3\">Name:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Name\" #inputCreateClassroom_Name class=\"form-control\" placeholder=\"Name\" type=\"text\" size=32>\r\n                                        <label for=\"inputObjCreateClassroom_Price\" class=\"UniversityAdmins mt-3\">Price:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Price\" #inputCreateClassroom_Price class=\"form-control\" placeholder=\"Price (in DAI)\" type=\"text\" size=32>\r\n                                        <label for=\"inputObjCreateClassroom_Cutfromprincipal\" class=\"UniversityAdmins mt-3\">Cut\r\n                                            from principal:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Cutfromprincipal\" #inputCreateClassroom_Cutfromprincipal class=\"form-control\" placeholder=\"Cut (%)\" type=\"text\" size=32>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <label for=\"inputObjCreateClassroom_Cutfromsuccesspool\" class=\"UniversityAdmins mt-3\">Cut from success pool:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Cutfromsuccesspool\" #inputCreateClassroom_Cutfromsuccesspool class=\"form-control\" placeholder=\"Cut (%)\" type=\"text\" size=32>\r\n                                        <label for=\"inputObjCreateClassroom_Minimumscore\" class=\"UniversityAdmins mt-3\">Minimum\r\n                                            score:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Minimumscore\" #inputCreateClassroom_Minimumscore class=\"form-control\" placeholder=\"Int32\" type=\"text\" size=32>\r\n                                        <label for=\"inputObjCreateClassroom_Duration\" class=\"UniversityAdmins mt-3\">Duration:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Duration\" #inputCreateClassroom_Duration class=\"form-control\" placeholder=\"Days\" type=\"text\" size=32>\r\n                                        <label for=\"inputObjCreateClassroom_Challengeaddress\" class=\"UniversityAdmins mt-3\">Challenge address:</label>\r\n                                        <input id=\"inputObjCreateClassroom_Challengeaddress\" #inputCreateClassroom_Challengeaddress class=\"form-control\" placeholder=\"Challenge Address\" type=\"text\" size=32>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer\">\r\n                            <a href=\"#\" (click)=\"closeModal('custom-modal-create-classroom')\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a href=\"#\" (click)=\"createClassroom(\r\n                                inputCreateClassroom_Owner.value,\r\n                                inputCreateClassroom_Name.value,\r\n                                inputCreateClassroom_Price.value,\r\n                                inputCreateClassroom_Cutfromprincipal.value,\r\n                                inputCreateClassroom_Cutfromsuccesspool.value,\r\n                                inputCreateClassroom_Minimumscore.value,\r\n                                inputCreateClassroom_Duration.value,\r\n                                inputCreateClassroom_Challengeaddress.value);closeModal('custom-modal-create-classroom')\" class=\"btn btn-success text-white btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-check\"></i></span>\r\n                                <span class=\"btn-inner--text\">Create</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <jw-modal id=\"transfer-dai\">\r\n        <div id=\"donationInfo\" class=\"modal-dialog modal-sm modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-body p-0\">\r\n                    <div class=\"card shadow border-0 bg-gradient-success\">\r\n                        <div class=\"card-header justify-content-center bg-gradient-success\">\r\n                            <h4 class=\"text-center text-white\">Make a Donation (DAI)</h4>\r\n                            <button type=\"button\" (click)=\"closeModal('transfer-dai')\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                        </div>\r\n                        <div class=\"card-body justify-content-center bg-gradient-success\">\r\n                            <h5 class=\"text-center text-white\">All donations go directly to the university endowment, helping good students to get grants</h5>\r\n                            <br>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6 align-content-center mt-2\">\r\n                                    <input #donationInputVal class=\"form-control\" placeholder=\"DAI\" type=\"number\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                </div>\r\n                                <div class=\"col-md-6 align-content-center mt-2\">\r\n                                    <button type=\"submit\" (click)=\"donateDAi(donationInputVal.value)\" class=\"btn btn-neutral btn-block btn-icon mb-3 mb-sm-0\">\r\n                                        <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                        <span class=\"btn-inner--text\">Donate</span>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </jw-modal>\r\n    <ngx-ui-loader></ngx-ui-loader>\r\n</main>","import { Component, OnInit } from '@angular/core';\r\nimport { Router, NavigationEnd, NavigationStart } from '@angular/router';\r\nimport { Location, PopStateEvent } from '@angular/common';\r\nimport { Globals } from '../app.globals';\r\n\r\n@Component({\r\n\tselector: 'app-navbar',\r\n\ttemplateUrl: './navbar.component.html',\r\n\tstyleUrls: ['./navbar.component.css'],\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\tpublic isCollapsed = true;\r\n\tprivate lastPoppedUrl: string;\r\n\tprivate yScrollStack: number[] = [];\r\n\r\n\tconstructor(\r\n\t\tpublic location: Location,\r\n\t\tprivate router: Router,\r\n\t\tpublic globals: Globals\r\n\t) {}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.router.events.subscribe((event) => {\r\n\t\t\tthis.isCollapsed = true;\r\n\t\t\tif (event instanceof NavigationStart) {\r\n\t\t\t\tif (event.url != this.lastPoppedUrl)\r\n\t\t\t\t\tthis.yScrollStack.push(window.scrollY);\r\n\t\t\t} else if (event instanceof NavigationEnd) {\r\n\t\t\t\tif (event.url == this.lastPoppedUrl) {\r\n\t\t\t\t\tthis.lastPoppedUrl = undefined;\r\n\t\t\t\t\twindow.scrollTo(0, this.yScrollStack.pop());\r\n\t\t\t\t} else window.scrollTo(0, 0);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.location.subscribe((ev: PopStateEvent) => {\r\n\t\t\tthis.lastPoppedUrl = ev.url;\r\n\t\t});\r\n\t}\r\n}\r\n","<nav id=\"navbar-main\" class=\"navbar navbar-main navbar-expand-lg navbar-transparent navbar-light headroom headroom--top headroom--pinned\">\r\n    <div class=\"container\">\r\n        <a class=\"navbar-brand mr-lg-5\" [routerLink]=\"['/']\">\r\n            <h3 class=\"text-white\">DeEd</h3>\r\n        </a>\r\n        <button class=\"navbar-toggler\" type=\"button\" (click)=\"isCollapsed = !isCollapsed\" [attr.aria-expanded]=\"!isCollapsed\" aria-controls=\"navbar_global\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n        <div class=\"navbar-collapse collapse\" id=\"navbar_global\">\r\n            <div class=\"navbar-collapse-header\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-6 collapse-brand\">\r\n                        <a [routerLink]=\"['/']\">\r\n                            <h3 class=\"text-default\">DeEd</h3>\r\n                        </a>\r\n                    </div>\r\n                    <div class=\"col-6 collapse-close\">\r\n                        <button type=\"button\" class=\"navbar-toggler\" (click)=\"isCollapsed = !isCollapsed\" [attr.aria-expanded]=\"!isCollapsed\" aria-controls=\"navbar_global\">\r\n                <span></span>\r\n                <span></span>\r\n              </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ul class=\"navbar-nav navbar-nav-hover align-items-lg-center\">\r\n                <li class=\"nav-item\">\r\n                    <a [routerLink]=\"['/']\" class=\"nav-link no-caret\">landing</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a [routerLink]=\"['/classroom']\" class=\"nav-link no-caret\">classroom</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a [routerLink]=\"['/student']\" class=\"nav-link no-caret\">account</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a [routerLink]=\"['/fund']\" class=\"nav-link no-caret\">fund</a>\r\n                </li>\r\n            </ul>\r\n            <ul class=\"navbar-nav align-items-lg-center ml-lg-auto\">\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link nav-link-icon\" (click)=\"globals.service.showPortis()\" target=\"_blank\" data-toggle=\"tooltip\" title=\"Open Portis\">\r\n                        <i class=\"ni ni-credit-card\"></i>\r\n                        <span class=\"nav-link-inner--text d-lg-none\">Portis</span>\r\n                    </a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link nav-link-icon\" href=\"https://github.com/freitasgouvea/deed-angular\" target=\"_blank\" data-toggle=\"tooltip\" title=\"Star us on Github\">\r\n                        <i class=\"fa fa-lg fa-github\"></i>\r\n                        <span class=\"nav-link-inner--text d-lg-none\">Github</span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</nav>","import { Injectable } from '@angular/core';\r\n//import Web3 from 'web3';\r\nimport * as ethers from 'ethers';\r\nimport { environment } from '../../environments/environment';\r\n\r\nimport * as University from '../../../build/contracts/University.json';\r\nimport * as UniversityFund from '../../../build/contracts/UniversityFund.json';\r\nimport * as Classroom from '../../../build/contracts/Classroom.json';\r\nimport * as Student from '../../../build/contracts/Student.json';\r\nimport * as StudentApplication from '../../../build/contracts/StudentApplication.json';\r\nimport * as ERC20 from '../../../build/contracts/ERC20.json';\r\nimport * as CDAI from '../../../build/contracts/CERC20.json';\r\nimport * as ADAI from '../../../build/contracts/aToken.json';\r\nimport * as LINK from '../../../build/contracts/LinkTokenInterface.json';\r\nimport * as IUniswapV2Router01 from '../../../build/contracts/IUniswapV2Router01.json';\r\nimport { GenericUser } from '../../models/genericUser.model';\r\nimport { NgxUiLoaderService } from 'ngx-ui-loader';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class baseClientService {\r\n\tpublic universityContractInstance: any;\r\n\tpublic classroomContractInstance: any;\r\n\tpublic studentContractInstance: any;\r\n\tpublic studentApplicationContractInstance: any;\r\n\tpublic universityFundContractInstance: any;\r\n\tpublic DAIContract: any;\r\n\tpublic CDAIContract: any;\r\n\tpublic ADAIContract: any;\r\n\tpublic LINKContract: any;\r\n\tpublic UniswapRouter: any;\r\n\tpublic provider: any;\r\n\tpublic networkName: any;\r\n\tpublic useSigner = false;\r\n\r\n\taccount: any;\r\n\r\n\tconstructor() {}\r\n\r\n\tpublic async setupProvider(_provider) {\r\n\t\tthis.provider = _provider;\r\n\t\tthis.setupPublicTokens();\r\n\t\tawait this.connectUniversity();\r\n\t\tawait this.connectUniversityFund();\r\n\t}\r\n\r\n\t// Contracts setup\r\n\r\n\tpublic setupPublicTokens() {\r\n\t\tconst providerOrSigner = this.useSigner\r\n\t\t\t? this.provider.getSigner()\r\n\t\t\t: this.provider;\r\n\t\tthis.DAIContract = new ethers.Contract(\r\n\t\t\tenvironment.DAIAddress,\r\n\t\t\tERC20.abi,\r\n\t\t\tproviderOrSigner\r\n\t\t);\r\n\t\tthis.CDAIContract = new ethers.Contract(\r\n\t\t\tenvironment.CompoundDAIAddress,\r\n\t\t\tCDAI.abi,\r\n\t\t\tproviderOrSigner\r\n\t\t);\r\n\t\tthis.ADAIContract = new ethers.Contract(\r\n\t\t\tenvironment.AaveDAIAddress,\r\n\t\t\tADAI.abi,\r\n\t\t\tproviderOrSigner\r\n\t\t);\r\n\t\tthis.LINKContract = new ethers.Contract(\r\n\t\t\tenvironment.LINKAddress,\r\n\t\t\tLINK.abi,\r\n\t\t\tproviderOrSigner\r\n\t\t);\r\n\t\tthis.UniswapRouter = new ethers.Contract(\r\n\t\t\tenvironment.UniswapRouter,\r\n\t\t\tIUniswapV2Router01.abi,\r\n\t\t\tproviderOrSigner\r\n\t\t);\r\n\t}\r\n\r\n\tasync getAddress() {\r\n\t\tif (this.account) return this.account;\r\n\t\tconst addresses = await this.provider.listAccounts();\r\n\t\tthis.account = addresses[0];\r\n\t\treturn this.account;\r\n\t}\r\n\r\n\tasync connectUniversity() {\r\n\t\tconst providerOrSigner = this.useSigner\r\n\t\t\t? this.provider.getSigner()\r\n\t\t\t: this.provider;\r\n\t\tif (this.checkContractInfo(environment.UniversityAddress, University))\r\n\t\t\tthis.universityContractInstance = new ethers.Contract(\r\n\t\t\t\tenvironment.UniversityAddress,\r\n\t\t\t\tUniversity.abi,\r\n\t\t\t\tproviderOrSigner\r\n\t\t\t);\r\n\t}\r\n\r\n\tasync connectUniversityFund() {\r\n\t\tconst providerOrSigner = this.useSigner\r\n\t\t\t? this.provider.getSigner()\r\n\t\t\t: this.provider;\r\n\t\tif (\r\n\t\t\tthis.checkContractInfo(\r\n\t\t\t\tenvironment.UniversityFundAddress,\r\n\t\t\t\tUniversityFund\r\n\t\t\t)\r\n\t\t)\r\n\t\t\tthis.universityFundContractInstance = new ethers.Contract(\r\n\t\t\t\tenvironment.UniversityFundAddress,\r\n\t\t\t\tUniversityFund.abi,\r\n\t\t\t\tproviderOrSigner\r\n\t\t\t);\r\n\t}\r\n\r\n\tasync connectClassroom(address: string) {\r\n\t\tconst providerOrSigner = this.useSigner\r\n\t\t\t? this.provider.getSigner()\r\n\t\t\t: this.provider;\r\n\t\tif (this.checkContractInfo(address, Classroom))\r\n\t\t\tthis.classroomContractInstance = new ethers.Contract(\r\n\t\t\t\taddress,\r\n\t\t\t\tClassroom.abi,\r\n\t\t\t\tproviderOrSigner\r\n\t\t\t);\r\n\t}\r\n\r\n\tasync connectStudent() {\r\n\t\tconst providerOrSigner = this.useSigner\r\n\t\t\t? this.provider.getSigner()\r\n\t\t\t: this.provider;\r\n\t\tconst smartContractAddress = await this.getStudentSmartContract();\r\n\t\tif (!smartContractAddress) throw 'Student not registered';\r\n\t\tif (this.checkContractInfo(smartContractAddress, Student))\r\n\t\t\tthis.studentContractInstance = new ethers.Contract(\r\n\t\t\t\tsmartContractAddress,\r\n\t\t\t\tStudent.abi,\r\n\t\t\t\tproviderOrSigner\r\n\t\t\t);\r\n\t}\r\n\r\n\tasync connectStudentApplication(smartContractAddress: string) {\r\n\t\tconst providerOrSigner = this.useSigner\r\n\t\t\t? this.provider.getSigner()\r\n\t\t\t: this.provider;\r\n\t\tif (this.checkContractInfo(smartContractAddress, StudentApplication))\r\n\t\t\tthis.studentApplicationContractInstance = new ethers.Contract(\r\n\t\t\t\tsmartContractAddress,\r\n\t\t\t\tStudentApplication.abi,\r\n\t\t\t\tproviderOrSigner\r\n\t\t\t);\r\n\t}\r\n\r\n\tpublic checkContractInfo(address: string, file: any): boolean {\r\n\t\tif (!address || address.length < 40)\r\n\t\t\tthrow new Error('invalid contract address!');\r\n\t\tif (!Classroom || !Classroom.abi)\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'invalid contract json, try to run truffle compile!'\r\n\t\t\t);\r\n\t\tif (this.provider) return true;\r\n\t\telse {\r\n\t\t\tconsole.warn('try to connect with portis!');\r\n\t\t\tthis.provider = new ethers.providers.JsonRpcProvider(\r\n\t\t\t\t'http://localhost:8545'\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// View Token info\r\n\r\n\tpublic async getDAIBalance(address: string) {\r\n\t\tconst val = await this.DAIContract.balanceOf(address);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getLINKBalance(address: string) {\r\n\t\tconst val = await this.LINKContract.balanceOf(address);\r\n\t\treturn val;\r\n\t}\r\n\r\n\t// View Student info\r\n\r\n\tpublic async isStudentRegistred(): Promise<boolean> {\r\n\t\tconst studentAdress = await this.getStudentSmartContract();\r\n\t\tif (!studentAdress) return false;\r\n\t\tconst check = await this.universityContractInstance.studentIsRegistered(\r\n\t\t\tstudentAdress\r\n\t\t);\r\n\t\treturn check;\r\n\t}\r\n\r\n\tpublic async getStudentSmartContract() {\r\n\t\ttry {\r\n\t\t\tconst studentSmartContract = await this.universityContractInstance.myStudentAddress();\r\n\t\t\treturn studentSmartContract;\r\n\t\t} catch (err) {\r\n\t\t\tconsole.warn('Student address not found: ' + err.toString());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async getStudentName() {\r\n\t\tconst answer = await this.studentContractInstance.name();\r\n\t\tconst val = ethers.utils.parseBytes32String(answer);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getScore() {\r\n\t\tconst val = await this.studentContractInstance.score();\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getApplications() {\r\n\t\tconst applications = await this.universityContractInstance.viewMyApplications();\r\n\t\treturn applications;\r\n\t}\r\n\r\n\t// View Classroom info\r\n\r\n\tpublic async getClassroomOwner() {\r\n\t\tconst answer = await this.universityContractInstance.owner();\r\n\t\treturn answer;\r\n\t}\r\n\r\n\tpublic async viewMyApplication() {\r\n\t\tconst answer = await this.classroomContractInstance.viewMyApplication();\r\n\t\treturn answer;\r\n\t}\r\n\r\n\t// view Student info\r\n\r\n\tpublic async viewMyStudentApplication(addressClassroom: string) {\r\n\t\tconst answer = await this.studentContractInstance.viewMyApplication(\r\n\t\t\taddressClassroom\r\n\t\t);\r\n\t\treturn answer;\r\n\t}\r\n\r\n\tpublic async viewMyApplicationState(classroomAddress: string) {\r\n\t\tconst answer = await this.studentContractInstance.viewMyApplicationState(\r\n\t\t\tclassroomAddress\r\n\t\t);\r\n\t\treturn answer;\r\n\t}\r\n\r\n\t// view Student application info\r\n\r\n\tpublic async viewApplicationClassroomAddress() {\r\n\t\tconst answer = await this.studentApplicationContractInstance.classroomAddress();\r\n\t\treturn answer;\r\n\t}\r\n\r\n\t// View University info\r\n\r\n\tpublic async getUniversityOwner() {\r\n\t\tconst answer = await this.universityContractInstance.owner();\r\n\t\treturn answer;\r\n\t}\r\n\r\n\tpublic async getUniversityName() {\r\n\t\tconst answer = await this.universityContractInstance.name();\r\n\t\tconst val = ethers.utils.parseBytes32String(answer);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getUniversityCut() {\r\n\t\tconst answer = await this.universityContractInstance.cut();\r\n\t\tconst val = answer / 1e4;\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getUniversityFunds() {\r\n\t\tconst answer = await this.universityContractInstance.endowmentLocked();\r\n\t\tconst val = ethers.utils.formatEther(answer);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getUniversityBudget() {\r\n\t\tconst answer = await this.universityContractInstance.operationalBudget();\r\n\t\tconst val = ethers.utils.formatEther(answer);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getUniversityDonations() {\r\n\t\tconst answer = await this.universityContractInstance.donationsReceived();\r\n\t\tconst val = ethers.utils.formatEther(answer);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getUniversityRevenue() {\r\n\t\tconst answer = await this.universityContractInstance.revenueReceived();\r\n\t\tconst val = ethers.utils.formatEther(answer);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getUniversityReturns() {\r\n\t\tconst answer = await this.universityContractInstance.returnsReceived();\r\n\t\tconst val = ethers.utils.formatEther(answer);\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic async getUniversityFund() {\r\n\t\tconst answer = await this.universityContractInstance.universityFund();\r\n\t\treturn answer;\r\n\t}\r\n\r\n\tpublic async getUniversityParams() {\r\n\t\tlet text = '';\r\n\t\ttext = text + (await this.universityContractInstance.daiToken()) + ',';\r\n\t\ttext = text + (await this.universityContractInstance.cDAI()) + ',';\r\n\t\ttext = text + (await this.universityContractInstance.relayHub()) + ',';\r\n\t\ttext =\r\n\t\t\ttext +\r\n\t\t\t(await this.universityContractInstance.classroomFactory()) +\r\n\t\t\t',';\r\n\t\ttext =\r\n\t\t\ttext +\r\n\t\t\t(await this.universityContractInstance.studentFactory()) +\r\n\t\t\t',';\r\n\t\ttext =\r\n\t\t\ttext +\r\n\t\t\t(await this.universityContractInstance.studentApplicationFactory()) +\r\n\t\t\t',';\r\n\t\ttext =\r\n\t\t\ttext + (await this.universityContractInstance.ensContract()) + ',';\r\n\t\ttext =\r\n\t\t\ttext +\r\n\t\t\t(await this.universityContractInstance.ensTestRegistrar()) +\r\n\t\t\t',';\r\n\t\ttext =\r\n\t\t\ttext +\r\n\t\t\t(await this.universityContractInstance.ensPublicResolver()) +\r\n\t\t\t',';\r\n\t\ttext =\r\n\t\t\ttext +\r\n\t\t\t(await this.universityContractInstance.ensReverseRegistrar());\r\n\t\treturn text;\r\n\t}\r\n\r\n\tpublic async listRoles(\r\n\t\trole: string,\r\n\t\tcontract = this.universityContractInstance\r\n\t) {\r\n\t\tlet list: Array<GenericUser> = [];\r\n\t\tconst roleBytes =\r\n\t\t\trole == 'DEFAULT_ADMIN_ROLE'\r\n\t\t\t\t? ethers.utils.formatBytes32String('')\r\n\t\t\t\t: ethers.utils.solidityKeccak256(['string'], [role]);\r\n\t\tconst size = await contract.getRoleMemberCount(roleBytes);\r\n\t\tlet index = 0;\r\n\t\twhile (index < size) {\r\n\t\t\tconst member = await contract.getRoleMember(roleBytes, index);\r\n\t\t\tlist.push(new GenericUser(index, member));\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n\tasync getClassroomCount() {\r\n\t\tconst roleBytes = ethers.utils.solidityKeccak256(\r\n\t\t\t['string'],\r\n\t\t\t['CLASSROOM_PROFESSOR_ROLE']\r\n\t\t);\r\n\t\treturn await this.universityContractInstance.getRoleMemberCount(\r\n\t\t\troleBytes\r\n\t\t);\r\n\t}\r\n\r\n\tasync getClassroomInfo(index) {\r\n\t\tlet title,\r\n\t\t\tsmartcontract,\r\n\t\t\tstartDate,\r\n\t\t\tfinishDate,\r\n\t\t\tduration,\r\n\t\t\tprice,\r\n\t\t\tminScore,\r\n\t\t\tcutPrincipal,\r\n\t\t\tcutPool,\r\n\t\t\tisOpen,\r\n\t\t\tisEmpty,\r\n\t\t\tisActive,\r\n\t\t\tisFinished,\r\n\t\t\taddressChallenge,\r\n\t\t\towner;\r\n\t\tconst roleBytes = ethers.utils.solidityKeccak256(\r\n\t\t\t['string'],\r\n\t\t\t['CLASSROOM_PROFESSOR_ROLE']\r\n\t\t);\r\n\t\tsmartcontract = await this.universityContractInstance.getRoleMember(\r\n\t\t\troleBytes,\r\n\t\t\tindex\r\n\t\t);\r\n\t\tlet classroomContractInstance = new ethers.Contract(\r\n\t\t\tsmartcontract,\r\n\t\t\tClassroom.abi,\r\n\t\t\tthis.provider\r\n\t\t);\r\n\t\tconst answer = await classroomContractInstance.name();\r\n\t\ttitle = ethers.utils.parseBytes32String(answer);\r\n\t\tconst priceWei = await classroomContractInstance.entryPrice();\r\n\t\tprice = ethers.utils.formatEther(priceWei);\r\n\t\tminScore = await classroomContractInstance.minScore();\r\n\t\tcutPrincipal = await classroomContractInstance.principalCut();\r\n\t\tcutPool = await classroomContractInstance.poolCut();\r\n\t\tisOpen = await classroomContractInstance.openForApplication();\r\n\t\tisEmpty = await classroomContractInstance.isClassroomEmpty();\r\n\t\tisActive = await classroomContractInstance.classroomActive();\r\n\t\tisFinished = await classroomContractInstance.courseFinished();\r\n\t\tduration = await classroomContractInstance.duration();\r\n\t\tstartDate = await classroomContractInstance.startDate();\r\n\t\tfinishDate =\r\n\t\t\tstartDate.toNumber() > 0\r\n\t\t\t\t? startDate.toNumber() + duration.toNumber()\r\n\t\t\t\t: 0;\r\n\t\taddressChallenge = await classroomContractInstance.challengeAddress();\r\n\t\towner = await classroomContractInstance.owner();\r\n\t\treturn [\r\n\t\t\ttitle,\r\n\t\t\tsmartcontract,\r\n\t\t\tstartDate.toNumber(),\r\n\t\t\tfinishDate,\r\n\t\t\tduration.toNumber(),\r\n\t\t\tprice,\r\n\t\t\tminScore,\r\n\t\t\tcutPrincipal,\r\n\t\t\tcutPool,\r\n\t\t\tisOpen,\r\n\t\t\tisEmpty,\r\n\t\t\tisActive,\r\n\t\t\tisFinished,\r\n\t\t\taddressChallenge,\r\n\t\t\towner,\r\n\t\t];\r\n\t}\r\n\r\n\t// Signed interactions with University contract\r\n\r\n\tpublic async setUniversityParams(params: string) {\r\n\t\tconst paramsArray = params.split(',');\r\n\t\tawait this.universityContractInstance.updateAddresses(...paramsArray);\r\n\t}\r\n\r\n\tasync revokeRole(role: string, address: string) {\r\n\t\tif (role == 'DEFAULT_ADMIN_ROLE') return;\r\n\t\tconst roleBytes = ethers.utils.solidityKeccak256(['string'], [role]);\r\n\t\tconst transaction = await this.universityContractInstance.revokeRole(\r\n\t\t\troleBytes,\r\n\t\t\taddress\r\n\t\t);\r\n\t\treturn transaction;\r\n\t}\r\n\r\n\tasync grantRole(role: string, address: string) {\r\n\t\tconst roleBytes =\r\n\t\t\trole == 'DEFAULT_ADMIN_ROLE'\r\n\t\t\t\t? ethers.utils.formatBytes32String('')\r\n\t\t\t\t: ethers.utils.solidityKeccak256(['string'], [role]);\r\n\t\tconst transaction = await this.universityContractInstance.grantRole(\r\n\t\t\troleBytes,\r\n\t\t\taddress\r\n\t\t);\r\n\t\treturn transaction;\r\n\t}\r\n\r\n\tpublic async studentSelfRegister(_name: string, gsn: boolean = false) {\r\n\t\tconst name = ethers.utils.formatBytes32String(_name);\r\n\t\tconst register = gsn\r\n\t\t\t? await this.universityContractInstance.studentSelfRegisterGSN(name)\r\n\t\t\t: await this.universityContractInstance.studentSelfRegister(name);\r\n\t\treturn register;\r\n\t}\r\n\r\n\tpublic async studentUpdateName(newName: string) {\r\n\t\tconst name = ethers.utils.formatBytes32String(newName);\r\n\t\tconst register = await this.studentContractInstance.changeName(name);\r\n\t\treturn register;\r\n\t}\r\n\r\n\tasync createClassroom(\r\n\t\t_Owner: string,\r\n\t\t_Name: string,\r\n\t\t_Price: string,\r\n\t\t_Cutfromprincipal: number,\r\n\t\t_Cutfromsuccesspool: number,\r\n\t\t_Minimumscore: number,\r\n\t\t_Duration: number,\r\n\t\t_Challengeaddress: string\r\n\t) {\r\n\t\tawait this.universityContractInstance.newClassRoom(\r\n\t\t\t_Owner,\r\n\t\t\tethers.utils.formatBytes32String(_Name),\r\n\t\t\tMath.round(_Cutfromprincipal * 1e4),\r\n\t\t\tMath.round(_Cutfromsuccesspool * 1e4),\r\n\t\t\tMath.round(_Minimumscore),\r\n\t\t\tethers.utils.parseEther(_Price),\r\n\t\t\tMath.round(_Duration * 60 * 60 * 24),\r\n\t\t\t_Challengeaddress\r\n\t\t);\r\n\t}\r\n\r\n\tasync approveDAI(\r\n\t\tinput: number,\r\n\t\taddress: string = this.universityContractInstance.address\r\n\t) {\r\n\t\tconst val = ethers.utils.parseEther(input.toString());\r\n\t\tconst tx = await this.DAIContract.approve(address, val);\r\n\t\treturn tx;\r\n\t}\r\n\r\n\tasync donateDAI(input: number) {\r\n\t\tconst val = ethers.utils.parseEther(input.toString());\r\n\t\tconst tx = await this.universityContractInstance.donateDAI(val);\r\n\t\treturn tx;\r\n\t}\r\n\r\n\tasync grantFundAdmin(address: string) {\r\n\t\tconst role = ethers.utils.solidityKeccak256(\r\n\t\t\t['string'],\r\n\t\t\t['FUNDS_MANAGER_ROLE']\r\n\t\t);\r\n\t\tawait this.universityContractInstance.grantRoleFund(role, address);\r\n\t}\r\n\r\n\tasync applyFunds(input: number) {\r\n\t\tconst val = ethers.utils.parseEther(input.toString());\r\n\t\tconst tx = await this.universityContractInstance.applyFunds(val);\r\n\t\treturn tx;\r\n\t}\r\n\r\n\tasync recoverFunds(input: number) {\r\n\t\tconst val = ethers.utils.parseEther(input.toString());\r\n\t\tconst tx = await this.universityContractInstance.recoverFunds(val);\r\n\t\treturn tx;\r\n\t}\r\n\r\n\t// ENS Signed actions\r\n\r\n\tasync registerInRegistrar(label: string) {\r\n\t\tconst tx = await this.universityContractInstance.registerInRegistrar(\r\n\t\t\tethers.utils.solidityKeccak256(['string'], [label]),\r\n\t\t\tenvironment.UniversityAddress\r\n\t\t);\r\n\t}\r\n\r\n\tasync setResolver(node: string) {\r\n\t\tconst tx = await this.universityContractInstance.setResolver(\r\n\t\t\tnode,\r\n\t\t\tenvironment.ENSPulbicResolverAddress\r\n\t\t);\r\n\t}\r\n\r\n\tasync setAddr(node: string, address: string) {\r\n\t\tconst tx = await this.universityContractInstance.setAddressInResolver(\r\n\t\t\tnode,\r\n\t\t\taddress\r\n\t\t);\r\n\t}\r\n\r\n\tasync setReverse(name: string) {\r\n\t\tconst tx = await this.universityContractInstance.registerInReverseRegistrar(\r\n\t\t\tname\r\n\t\t);\r\n\t}\r\n\r\n\tpublic async setTxRecord(_node, key, text) {\r\n\t\tconst tx = await this.universityContractInstance.setTextInResolver(\r\n\t\t\t_node,\r\n\t\t\tkey,\r\n\t\t\ttext,\r\n\t\t\tenvironment.ENSPulbicResolverAddress\r\n\t\t);\r\n\t}\r\n\r\n\tpublic async claimSubnodeClassroom(_node, label, owner, classroom) {\r\n\t\tconst tx = await this.universityContractInstance.claimSubnodeClassroom(\r\n\t\t\t_node,\r\n\t\t\tethers.utils.solidityKeccak256(['string'], [label]),\r\n\t\t\towner,\r\n\t\t\tenvironment.ENSPulbicResolverAddress,\r\n\t\t\t0,\r\n\t\t\tclassroom\r\n\t\t);\r\n\t}\r\n\r\n\tpublic async claimSubnodeStudent(_node, label, owner, student) {\r\n\t\tconst tx = await this.universityContractInstance.claimSubnodeStudent(\r\n\t\t\t_node,\r\n\t\t\tethers.utils.solidityKeccak256(['string'], [label]),\r\n\t\t\towner,\r\n\t\t\tenvironment.ENSPulbicResolverAddress,\r\n\t\t\t0,\r\n\t\t\tstudent\r\n\t\t);\r\n\t}\r\n\r\n\t// Student actions\r\n\r\n\tpublic async applyToClassroom(classroomAddress: string) {\r\n\t\tconst application = await this.studentContractInstance.applyToClassroom(\r\n\t\t\tclassroomAddress\r\n\t\t);\r\n\t\treturn application;\r\n\t}\r\n\r\n\tpublic async setAnswerSecret(classroomAddress: string, secret: string) {\r\n\t\tconst secret32 = ethers.utils.formatBytes32String(secret);\r\n\t\tconst answer = await this.studentContractInstance.setAnswerSecret(\r\n\t\t\tclassroomAddress,\r\n\t\t\tsecret32\r\n\t\t);\r\n\t\treturn answer;\r\n\t}\r\n\r\n\tpublic async withdrawAllResultsFromClassroom(\r\n\t\tclassroomAddress: string,\r\n\t\tstudentAddress: string\r\n\t) {\r\n\t\tconst withdraw = await this.studentContractInstance.withdrawAllResultsFromClassroom(\r\n\t\t\tclassroomAddress,\r\n\t\t\tstudentAddress\r\n\t\t);\r\n\t\treturn withdraw;\r\n\t}\r\n\r\n\tpublic async payEntryPrice() {\r\n\t\tconst tx = await this.studentApplicationContractInstance.payEntryPrice();\r\n\t\treturn tx;\r\n\t}\r\n\r\n\t// Uniswap trades\r\n\r\n\tpublic async uniswapETHForDAI(\r\n\t\tunits: string | number,\r\n\t\taddressReceiver: string,\r\n\t\ttimestampsToWait: number = 60\r\n\t) {\r\n\t\tconst route_buyDai = [environment.WETHAddress, environment.DAIAddress];\r\n\t\tconst val = ethers.utils.parseEther(units.toString());\r\n\t\tconst balanceEther = await this.provider.getBalance(this.getAddress());\r\n\t\tconst etherVal = balanceEther.div(2);\r\n\t\tconst tx = this.UniswapRouter.swapETHForExactTokens(\r\n\t\t\tval,\r\n\t\t\troute_buyDai,\r\n\t\t\taddressReceiver,\r\n\t\t\ttimestampsToWait,\r\n\t\t\t{ value: etherVal }\r\n\t\t);\r\n\t\treturn tx;\r\n\t}\r\n\r\n\tpublic async uniswapDAIForETH(\r\n\t\tunits: string | number,\r\n\t\taddressReceiver: string,\r\n\t\ttimestampsToWait: number = 60\r\n\t) {\r\n\t\tconst route_sellDai = [environment.DAIAddress, environment.WETHAddress];\r\n\t\tconst val = ethers.utils.parseEther(units.toString());\r\n\t\tconst tx = this.UniswapRouter.swapExactTokensForETH(\r\n\t\t\tval,\r\n\t\t\t0,\r\n\t\t\troute_sellDai,\r\n\t\t\taddressReceiver,\r\n\t\t\ttimestampsToWait\r\n\t\t);\r\n\t\treturn tx;\r\n\t}\r\n\r\n\t// Direct contract interation\r\n\r\n\tpublic async balanceOfERC20(addressERC20: string, address: string) {\r\n\t\tconst providerOrSigner = this.useSigner\r\n\t\t\t? this.provider.getSigner()\r\n\t\t\t: this.provider;\r\n\t\tconst erc20 = new ethers.Contract(\r\n\t\t\taddressERC20,\r\n\t\t\tERC20.abi,\r\n\t\t\tproviderOrSigner\r\n\t\t);\r\n\t\treturn await erc20.balanceOf(address);\r\n\t}\r\n\r\n\tpublic async transferERC20(\r\n\t\taddressERC20: string,\r\n\t\taddress: string,\r\n\t\tval: number\r\n\t) {\r\n\t\tconst erc20 = new ethers.Contract(\r\n\t\t\taddressERC20,\r\n\t\t\tERC20.abi,\r\n\t\t\tthis.provider.getSigner()\r\n\t\t);\r\n\t\treturn await erc20.transfer(\r\n\t\t\taddress,\r\n\t\t\tethers.utils.parseEther(val.toString())\r\n\t\t);\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\nimport * as ENSRegistry from '../../../build/contracts/ENSRegistry.json';\r\nimport * as ENSRegistrar from '../../../build/contracts/ENSRegistrar.json';\r\nimport * as ENSReverseRegistrar from '../../../build/contracts/ENSReverseRegistrar.json';\r\nimport * as ENSPublicResolver from '../../../build/contracts/ENSPublicResolver.json';\r\nimport * as ethers from 'ethers';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class ENSService {\r\n\tprovider: any;\r\n\tens: any;\r\n\tdomain = environment.ENSDomain;\r\n\tname = environment.ENSUniversityName;\r\n\tregistrarContract: any;\r\n\treverseRegistrarContract: any;\r\n\treverseResolverContract: any;\r\n\tresolverContract: any;\r\n\taddress: any;\r\n\tnode = ethers.utils.namehash(this.name + this.domain);\r\n\r\n\tconstructor() {}\r\n\r\n\tpublic getNode(name: string): string{\r\n\t\treturn ethers.utils.namehash(name);\r\n\t}\r\n\r\n\tpublic getSubNode(label: string): string{\r\n\t\treturn this.getNode(label + '.' + this.name + this.domain);\r\n\t}\r\n\r\n\tpublic async configureProvider(service, setupAccount = true) {\r\n\t\tthis.provider = service;\r\n\t\tthis.ens = new ethers.Contract(\r\n\t\t\tenvironment.ENSRegistryAddress,\r\n\t\t\tENSRegistry.abi,\r\n\t\t\tsetupAccount ? this.provider.getSigner() : this.provider\r\n\t\t);\r\n\t\tthis.registrarContract = new ethers.Contract(\r\n\t\t\tenvironment.ENSRegistrarAddress,\r\n\t\t\tENSRegistrar.abi,\r\n\t\t\tsetupAccount ? this.provider.getSigner() : this.provider\r\n\t\t);\r\n\t\tthis.reverseRegistrarContract = new ethers.Contract(\r\n\t\t\tenvironment.ENSReverseRegistrarAddress,\r\n\t\t\tENSReverseRegistrar.abi,\r\n\t\t\tsetupAccount ? this.provider.getSigner() : this.provider\r\n\t\t);\r\n\t\tawait this.reverseRegistrarContract.deployed();\r\n\t\tconst reverseResolverAddress = await this.reverseRegistrarContract.defaultResolver();\r\n\t\tthis.reverseResolverContract = new ethers.Contract(\r\n\t\t\treverseResolverAddress,\r\n\t\t\tENSPublicResolver.abi,\r\n\t\t\tsetupAccount ? this.provider.getSigner() : this.provider\r\n\t\t);\r\n\t\tthis.resolverContract = new ethers.Contract(\r\n\t\t\tenvironment.ENSPulbicResolverAddress,\r\n\t\t\tENSPublicResolver.abi,\r\n\t\t\tsetupAccount ? this.provider.getSigner() : this.provider\r\n\t\t);\r\n\t\tawait this.resolverContract.deployed();\r\n\t\tif (setupAccount)\r\n\t\t\tthis.provider.listAccounts().then((addresses) => {\r\n\t\t\t\tthis.address = addresses[0];\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic async registeredTimeToLive(): Promise<Date> {\r\n\t\tconst ttl = await this.registrarContract.expiryTimes(\r\n\t\t\tethers.utils.formatBytes32String(name)\r\n\t\t);\r\n\t\treturn new Date(ttl * 1000);\r\n\t}\r\n\r\n\tpublic async setName(name: string, address: string) {\r\n\t\tawait this.resolverContract.setAddr(\r\n\t\t\tethers.utils.namehash(name + this.domain),\r\n\t\t\taddress\r\n\t\t);\r\n\t}\r\n\r\n\tpublic async setAddr(node: string, address: string) {\r\n\t\tawait this.resolverContract.setAddr(node,\r\n\t\t\taddress\r\n\t\t);\r\n\t}\r\n\r\n\tpublic async registerRecord(label: string, owner: string) {\r\n\t\treturn await this.ens.register(ethers.utils.namehash(label), owner);\r\n\t}\r\n\r\n\tpublic async setSubnodeRecord(label: string, owner: string, resolver = environment.ENSPulbicResolverAddress, ttl = 0, _node = this.node) {\r\n\t\treturn await this.ens.setSubnodeRecord(_node, ethers.utils.formatBytes32String(label), owner, resolver, ttl)\r\n\t}\r\n\r\n\tpublic async hasRecord(node: string): Promise<boolean> {\r\n\t\treturn await this.ens.recordExists(node);\r\n\t}\r\n\r\n\tpublic async lookupAddress(address: string): Promise<string> {\r\n\t\tconst node = await this.reverseRegistrarContract.node(address);\r\n\t\tconst name = await this.reverseResolverContract.name(node);\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic async lookupAddressNode(address: string): Promise<string> {\r\n\t\treturn await this.reverseRegistrarContract.node(address);\r\n\t}\r\n\r\n\tpublic async lookupNodeAddress(node: string): Promise<string> {\r\n\t\treturn await this.resolverContract.addr(node);\r\n\t}\r\n\r\n\tpublic async getResolverContract(node: string, sign: boolean) {\r\n\t\tif (node === this.node) return this.resolverContract;\r\n\t\tconst address = await this.ens.resolver(node);\r\n\t\tconst contract = new ethers.Contract(\r\n\t\t\taddress,\r\n\t\t\tENSPublicResolver.abi,\r\n\t\t\tsign ? this.provider.getSigner() : this.provider\r\n\t\t);\r\n\t\tawait contract.deployed();\r\n\t\treturn contract;\r\n\t}\r\n\r\n\tpublic async setTxRecord(key, text, _node = this.node) {\r\n\t\tconst contract = await this.getResolverContract(_node, true);\r\n\t\treturn await contract.setText(_node, key, text);\r\n\t}\r\n\r\n\tpublic async getTxRecord(_node, key): Promise<string> {\r\n\t\tconst contract = await this.getResolverContract(_node, false);\r\n\t\treturn await contract.text(_node, key);\r\n\t}\r\n\r\n\tpublic async getTxEmail(_node = this.node): Promise<string> {\r\n\t\treturn await this.getTxRecord(_node, 'email');\r\n\t}\r\n\r\n\tpublic async getTxURL(_node = this.node): Promise<string> {\r\n\t\treturn await this.getTxRecord(_node, 'url');\r\n\t}\r\n\r\n\tpublic async getTxAvatar(_node = this.node): Promise<string> {\r\n\t\treturn await this.getTxRecord(_node, 'avatar');\r\n\t}\r\n\r\n\tpublic async getTxDescription(_node = this.node): Promise<string> {\r\n\t\treturn await this.getTxRecord(_node, 'description');\r\n\t}\r\n\r\n\tpublic async getTxNotice(_node = this.node): Promise<string> {\r\n\t\treturn await this.getTxRecord(_node, 'notice');\r\n\t}\r\n\r\n\tpublic async getTxKeywordsString(_node = this.node): Promise<string> {\r\n\t\treturn await this.getTxRecord(_node, 'keywords');\r\n\t}\r\n\r\n\tpublic async getTxKeywordsArray(_node = this.node): Promise<Array<string>> {\r\n\t\tconst val = await this.getTxKeywordsString(_node);\r\n\t\treturn val.split(',');\r\n\t}\r\n\r\n\tpublic async checkENSRecord(_node = this.node): Promise<boolean> {\r\n\t\treturn await this.ens.recordExists(_node);\r\n\t}\r\n\r\n\tpublic async getTTL() {\r\n\t\treturn '';\r\n\t\t//TODO:\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\r\n//import Web3 from 'web3';\r\nimport * as ethers from 'ethers';\r\nimport { environment } from '../../environments/environment';\r\nimport { baseClientService } from './baseClient.service';\r\n\r\nimport * as University from '../../../build/contracts/University.json';\r\nimport * as Classroom from '../../../build/contracts/Classroom.json';\r\n\r\ndeclare let window: any;\r\ndeclare let ethereum: any;\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class InfuraService extends baseClientService {\r\n\tpublic networkName: any;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tconst provider = ethers.getDefaultProvider(environment.network);\r\n\t\tthis.setupProvider(provider);\r\n\t\tconsole.log('Connected to infura');\r\n\t}\r\n\r\n\tshowPortis(){\r\n\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\r\n//import Web3 from 'web3';\r\nimport * as ethers from 'ethers';\r\nimport { environment } from '../../environments/environment';\r\nimport { baseClientService } from './baseClient.service';\r\nimport Web3 from 'web3';\r\n\r\nconst web3 = new Web3(Web3.givenProvider);\r\n\r\ndeclare let window: any;\r\ndeclare let ethereum: any;\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class MetamaskService extends baseClientService {\r\n\tpublic networkName: any;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tconst provider = new ethers.providers.Web3Provider(window.ethereum);\r\n\t\twindow.ethereum.enable();\r\n\t\tthis.useSigner = true;\r\n\t\tthis.setupProvider(provider);\r\n\t\tconsole.log('Connected to metamask');\r\n\t}\r\n\r\n\tshowPortis(){\r\n\r\n\t}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport Portis from '@portis/web3';\r\n//import Web3 from 'web3';\r\nimport * as ethers from 'ethers';\r\nimport { environment } from '../../environments/environment';\r\n\r\nimport * as University from '../../../build/contracts/University.json';\r\nimport { Student } from 'src/models/student.model';\r\nimport { baseClientService } from './baseClient.service';\r\n\r\ndeclare let window: any;\r\ndeclare let ethereum: any;\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class PortisService extends baseClientService {\r\n\tpublic universityName: any;\r\n\tpublic account: any;\r\n\r\n\tpublic email: any;\r\n\tpublic loginAddress: any;\r\n\tpublic students: Student[] = [];\r\n\r\n\tportis = new Portis('2910345a-33c7-46e4-a5d3-6178db3c692d', 'ropsten', {\r\n\t\tscope: ['email'],\r\n\t});\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.useSigner = true;\r\n\t}\r\n\r\n\tasync initPortis() {\r\n\t\tconst provider = new ethers.providers.Web3Provider(\r\n\t\t\tthis.portis.provider\r\n\t\t);\r\n\t\tawait this.portis.provider.enable();\r\n\t\tawait this.setupProvider(provider);\r\n\t\tthis.networkName = await this.provider.getNetwork();\r\n\t\tconst address = await this.getAddress();\r\n\t\tif (address === '') {\r\n\t\t\tconsole.warn('Not Connected!');\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tconsole.log('Connected with Portis!');\r\n\t\t\tthis.portis.onLogout(() => {\r\n\t\t\t\tconsole.log('User logged out');\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t  });\r\n\t\t\tthis.portis.onActiveWalletChanged(walletAddress => {\r\n\t\t\t\tconsole.log('Active wallet address:', walletAddress);\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t  });\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tshowPortis() {\r\n\t\tthis.portis.showPortis();\r\n\t}\r\n}\r\n","<main>\r\n    <section class=\"section section-shaped section-lg\">\r\n        <div class=\"shape shape-style-1 bg-gradient-default\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n        </div>\r\n        <div *ngIf=!globals.selectedStudent class=\"container py-lg-md d-flex\">\r\n            <div class=\"row mb-4\">\r\n                <div class=\"container\">\r\n                    <div class=\"card bg-gradient-success shadow-lg border-0\">\r\n                        <div class=\"p-5\">\r\n                            <div class=\"row align-items-center\">\r\n                                <div class=\"col-lg-8\">\r\n                                    <h4 class=\"text-white\">Connect to your account to begin.</h4>\r\n                                    <p class=\"lead text-white mt-3\">You will need to connect to a wallet service in order to interact with this dApp.</p>\r\n                                </div>\r\n                                <div class=\"col-lg-3 ml-lg-auto\"><a [routerLink]=\"['/']\" class=\"btn btn-lg btn-block btn-white\">CONNECT</a></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=globals.selectedStudent class=\"container py-lg-md d-flex\">\r\n            <div class=\"col\">\r\n                <div class=\"row mb-4\">\r\n                    <div class=\"col-lg-12 mb-4\">\r\n                        <h1 class=\"display-3  text-white\">account\r\n                            <span>{{globals.selectedStudent.name}}</span>\r\n                            <span *ngIf=globals.selectedStudent.metadata.ENSName class=\"text-muted\" style=\"font-size:smaller;\">@{{globals.selectedStudent.metadata.ENSName}}</span>\r\n                        </h1>\r\n                        <h3 class=\"lead  text-white\">{{globals.selectedStudent.metadata.description}}</h3>\r\n                        <p class=\"lead text-white\">Address: {{globals.selectedStudent.address}}</p>\r\n                        <p class=\"lead text-white\">Student Smart Contract: {{globals.selectedStudent.smartContractAddress}}</p>\r\n                        <p class=\"lead text-white\">Score: {{globals.selectedStudent.score}} </p>\r\n                        <div class=\"btn-wrapper\">\r\n                            <a [routerLink]=\"['/']\" class=\"btn btn-white btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                            <a (click)=\"openModal('custom-modal-dai'); txOn();\" class=\"btn btn-info text-white btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-star\"></i></span>\r\n                                <span class=\"btn-inner--text\">Trade DAI</span>\r\n                            </a>\r\n                            <a *ngIf=!globals.selectedStudent.studentENSNameRecord (click)=\"openModal('custom-modal-setup'); txOn();\" class=\"btn btn-success text-white btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-star\"></i></span>\r\n                                <span class=\"btn-inner--text\">Register ENS</span>\r\n                            </a>\r\n                            <a (click)=\"openModal('custom-modal-edit'); txOn();\" class=\"btn btn-primary text-white btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-edit\"></i></span>\r\n                                <span class=\"btn-inner--text\">Edit Profile</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"globals.selectedStudent.hasApplications==true\" class=\"row mb-4\">\r\n                    <div class=\"col-lg-12 mt-4\">\r\n                        <h1 class=\"display-3 text-white\">applications</h1>\r\n                        <table class=\"table table-hover bg-white\" responsive>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">Classroom</th>\r\n                                    <th scope=\"col\"></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody *ngFor=\"let application of globals.selectedStudent.applications\">\r\n                                <tr>\r\n                                    <th scope=\"row\">{{ application }}</th>\r\n                                    <td><a class=\"btn btn-sm btn-default text-white\">Go</a></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"globals.selectedStudent.hasApplications==false\" class=\"row mb-4\">\r\n                    <div class=\"container\">\r\n                        <div class=\"card bg-gradient-success shadow-lg border-0\">\r\n                            <div class=\"p-5\">\r\n                                <div class=\"row align-items-center\">\r\n                                    <div class=\"col-lg-8\">\r\n                                        <h4 class=\"text-white\">Start by choosing the perfect classroom for you.</h4>\r\n                                        <p class=\"lead text-white mt-3\">You will need to connect to a wallet service in order to interact with this dApp.</p>\r\n                                    </div>\r\n                                    <div class=\"col-lg-3 ml-lg-auto\"><a [routerLink]=\"['/']\" fragment=classrooms class=\"btn btn-lg btn-block btn-white\">SELECT CLASSROOM</a></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <jw-modal *ngIf=globals.selectedStudent id=\"custom-modal-edit\">\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Edit Your Profile</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-white\">Here you can change your student name.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjNewName\" #inputObjNewName class=\"form-control\" placeholder=\"New Student Name\" type=\"text\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Updating your account ...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" (click)=\"updateName(inputObjNewName.value)\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Update</span>\r\n                            </a>\r\n                            <a (click)=\"closeModal('custom-modal-edit'); txOff(); refreshAccountInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal *ngIf=globals.selectedStudent id=\"custom-modal-setup\">\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Active Your Student ENS</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-white\">Here you can active your student ENS subdomain.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Registering your ENS subdomain...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> This is a success alert—check it out!\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> This is a danger alert—check it out!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" (click)=\"registerStudentENS()\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Register Subdomain</span>\r\n                            </a>\r\n                            <a (click)=\"closeModal('custom-modal-setup'); txOff(); refreshAccountInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n    <jw-modal *ngIf=globals.selectedStudent id=\"custom-modal-dai\">\r\n        <form role=\"form\">\r\n            <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"card shadow bg-gradient-default border-0\">\r\n                        <div class=\"card-body py-5\">\r\n                            <h3 class=\"text-center text-white\">Buy or Sell DAI</h3>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <h2 class=\"description text-center text-white\">Here you can buy or sell DAI with ETH at Uniswap.</h2>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\" [ngClass]=\"{'focused':focus===true}\">\r\n                                        <div class=\"input-group input-group-alternative mb-3\">\r\n                                            <div class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                                            </div>\r\n                                            <input id=\"inputObjAmount\" #inputObjAmount class=\"form-control\" placeholder=\"Amount\" type=\"number\" (focus)=\"focus=true\" (blur)=\"focus=false\">\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mt-3\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div *ngIf=\"txMode=='preTX'\" class=\"alert alert-neutral\" role=\"alert\">\r\n                                        <strong class=\"text-default\">You need confirm this transaction on your portis wallet!</strong>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='processingTX'\" class=\"alert alert-warning\" role=\"alert\">\r\n                                        <strong>Wait!</strong> Loading your transaction ...\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='successTX'\" class=\"alert alert-success\" role=\"alert\">\r\n                                        <strong>Success!</strong> Transaction Hash {{hashTx}}\r\n                                        <a href=\"https://ropsten.etherscan.io/tx/{{hashTx}}\" target=\"_blank\">See On Etherscan</a>\r\n                                    </div>\r\n                                    <div *ngIf=\"txMode=='failedTX'\" class=\"alert alert-danger\" role=\"alert\">\r\n                                        <strong>Failed!</strong> Transaction didn't complete. Try again!\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-gradient-default\">\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" (click)=\"buyDAI(inputObjAmount.value)\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Buy</span>\r\n                            </a>\r\n                            <a *ngIf=\"txMode=='preTX'\" type=\"submit\" (click)=\"sellDAI(inputObjAmount.value)\" class=\"btn btn-success btn-icon text-white mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-send\"></i></span>\r\n                                <span class=\"btn-inner--text\">Sell</span>\r\n                            </a>\r\n                            <a (click)=\"closeModal('custom-modal-dai'); txOff(); refreshAccountInfo();\" class=\"btn btn-neutral btn-icon mb-3 mb-sm-0\">\r\n                                <span class=\"btn-inner--icon\"><i class=\"fa fa-arrow-left\"></i></span>\r\n                                <span class=\"btn-inner--text\">Back</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </jw-modal>\r\n</main>","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\nimport { ModalService } from '../_modal';\r\nimport { Globals } from '../app.globals';\r\n\r\nimport { PortisService } from '../services/portis.service';\r\nimport { InfuraService } from '../services/infura.service';\r\nimport { ENSService } from '../services/ens.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Student } from 'src/models/student.model';\r\n\r\n@Component({\r\n\tselector: 'app-student',\r\n\ttemplateUrl: './student.component.html',\r\n\tstyleUrls: ['./student.component.css'],\r\n})\r\nexport class StudentComponent implements OnInit {\r\n\tfocus;\r\n\tfocus1;\r\n\r\n\tpublic mode = 'unconnected';\r\n\tpublic form: FormGroup;\r\n\tpublic txMode = 'off';\r\n\tpublic hashTx: any;\r\n\r\n\tconstructor(\r\n\t\tpublic globals: Globals,\r\n\t\tprivate modalService: ModalService,\r\n\t\tpublic portisService: PortisService\r\n\t) { }\r\n\r\n\tasync ngOnInit() {\r\n\t\tif (!this.globals.service) {\r\n\t\t\tthis.globals.service = new InfuraService();\r\n\t\t\tawait this.globals.ensService.configureProvider(\r\n\t\t\t\tthis.globals.service.provider,\r\n\t\t\t\tfalse\r\n\t\t\t);\r\n\t\t\tconsole.log('Connected to infura');\r\n\t\t}\r\n\t\tthis.globals.service.connectStudent().then(\r\n\t\t\t() => this.refreshAccountInfo(),\r\n\t\t\t(err) => {\r\n\t\t\t\treturn console.log(err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\topenModal(id: string) {\r\n\t\tthis.modalService.open(id);\r\n\t}\r\n\r\n\tcloseModal(id: string) {\r\n\t\tthis.modalService.close(id);\r\n\t}\r\n\r\n\ttxOn() {\r\n\t\tthis.txMode = 'preTX';\r\n\t}\r\n\r\n\ttxOff() {\r\n\t\tthis.txMode = 'off';\r\n\t}\r\n\r\n\trefreshAccountInfo() {\r\n\t\tthis.refreshStudentData();\r\n\t\tthis.globals.service.getStudentName().then((val) => {\r\n\t\t\tthis.globals.selectedStudent.name = val;\r\n\t\t\tthis.refreshStudentMetadata();\r\n\t\t});\r\n\t}\r\n\r\n\trefreshStudentData() {\r\n\t\tif (!this.globals.selectedStudent)\r\n\t\t\tthis.globals.selectedStudent = new Student(this.globals, this.globals.ADDR0);\r\n\t\tthis.globals.service.getAddress().then((val) => {\r\n\t\t\tthis.globals.selectedStudent.address = val;\r\n\t\t});\r\n\t\tthis.globals.service.getStudentSmartContract().then((val) => {\r\n\t\t\tthis.globals.selectedStudent.smartContractAddress = val;\r\n\t\t});\r\n\t\tthis.globals.service.getScore().then((val) => {\r\n\t\t\tthis.globals.selectedStudent.score = val;\r\n\t\t});\r\n\t\tthis.globals.selectedStudent.updateApplications().then((val) => {\r\n\t\t\tthis.globals.selectedStudent.hasApplications =\r\n\t\t\t\tthis.globals.selectedStudent.applications.length > 0;\r\n\t\t});\r\n\t}\r\n\r\n\tasync refreshStudentMetadata(student: Student = this.globals.selectedStudent) {\r\n\t\tconst normalName = student.name.toLowerCase().replace(/\\s/g, '');\r\n\t\tconst node = this.globals.ensService.getSubNode(normalName);\r\n\t\tconst record = await this.globals.ensService.hasRecord(node);\r\n\t\tif (!record) return;\r\n\t\tstudent.studentENSNameRecord = true;\r\n\t\tstudent.metadata.ENSName =\r\n\t\t\tnormalName +\r\n\t\t\t'.' +\r\n\t\t\tthis.globals.ensService.name +\r\n\t\t\tthis.globals.ensService.domain;\r\n\t\tstudent.metadata.email = await this.globals.ensService.getTxEmail(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tstudent.metadata.url = await this.globals.ensService.getTxURL(node);\r\n\t\tstudent.metadata.avatar = await this.globals.ensService.getTxAvatar(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tstudent.metadata.description = await this.globals.ensService.getTxDescription(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tstudent.metadata.notice = await this.globals.ensService.getTxNotice(\r\n\t\t\tnode\r\n\t\t);\r\n\r\n\t\tstudent.metadata.keywords = await this.globals.ensService.getTxKeywordsArray(\r\n\t\t\tnode\r\n\t\t);\r\n\t}\r\n\r\n\tasync updateName(newName: string): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tif (newName == '') {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst updateName = await this.globals.service.studentUpdateName(\r\n\t\t\t\tnewName\r\n\t\t\t)\r\n\t\t\tif (updateName == null) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tthis.hashTx = updateName.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync registerStudentENS(): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tthis.txMode = 'processingTX';\r\n\t\tconst normalName = this.globals.selectedStudent.name\r\n\t\t\t.toLowerCase()\r\n\t\t\t.replace(/\\s/g, '');\r\n\t\tconst node = this.globals.ensService.getSubNode(normalName);\r\n\t\tconst hasRecord = await this.globals.ensService.hasRecord(node);\r\n\t\tif (!hasRecord)\r\n\t\t\tawait this.studentClaimSubnode(\r\n\t\t\t\tnormalName,\r\n\t\t\t\tthis.globals.address,\r\n\t\t\t\tthis.globals.selectedStudent.smartContractAddress\r\n\t\t\t);\r\n\t\tconst nodeAddress = await this.globals.ensService.lookupNodeAddress(\r\n\t\t\tnode\r\n\t\t);\r\n\t\tif (nodeAddress === this.globals.ADDR0)\r\n\t\t\tawait this.globals.ensService.setAddr(\r\n\t\t\t\tnode,\r\n\t\t\t\tthis.globals.selectedStudent.smartContractAddress\r\n\t\t\t);\r\n\t\tthis.txMode = 'successTX';\r\n\t}\r\n\r\n\tasync studentClaimSubnode(label, owner, student) {\r\n\t\tconst node = this.globals.ensService.node;\r\n\t\tconst normalName = label.toLowerCase().replace(/\\s/g, '');\r\n\t\tawait this.globals.service.claimSubnodeStudent(\r\n\t\t\tnode,\r\n\t\t\tnormalName,\r\n\t\t\towner,\r\n\t\t\tstudent\r\n\t\t);\r\n\t}\r\n\r\n\tasync setMetadataRecord(type: string, text: string) {\r\n\t\tconst normalName = this.globals.selectedStudent.name\r\n\t\t\t.toLowerCase()\r\n\t\t\t.replace(/\\s/g, '');\r\n\t\tconst node = this.globals.ensService.getSubNode(normalName);\r\n\t\tawait this.globals.ensService.setTxRecord(type, text, node);\r\n\t}\r\n\r\n\tasync updateENSNotice(text: string) {\r\n\t\tawait this.globals.service.setTxRecord(\r\n\t\t\tthis.globals.ensService.node,\r\n\t\t\t'notice',\r\n\t\t\ttext\r\n\t\t);\r\n\t\tawait this.refreshAccountInfo();\r\n\t}\r\n\r\n\tasync updateENSDescription(text: string) {\r\n\t\tawait this.globals.service.setTxRecord(\r\n\t\t\tthis.globals.ensService.node,\r\n\t\t\t'description',\r\n\t\t\ttext\r\n\t\t);\r\n\t\tawait this.refreshAccountInfo();\r\n\t}\r\n\r\n\tasync buyDAI(value: string): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tconst studentAddress = await this.globals.service.getAddress();\r\n\t\tif (value == '') {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst tx = await this.globals.service.uniswapETHForDAI(\r\n\t\t\t\tvalue, studentAddress\r\n\t\t\t)\r\n\t\t\tif (tx == null) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tthis.hashTx = tx.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync sellDAI(value: string): Promise<any> {\r\n\t\tthis.txOn();\r\n\t\tconst studentAddress = await this.globals.service.getAddress();\r\n\t\tif (value == '') {\r\n\t\t\tthis.txMode = 'failedTX';\r\n\t\t} else {\r\n\t\t\tthis.txMode = 'processingTX';\r\n\t\t\tconst tx = await this.globals.service.uniswapDAIForETH(\r\n\t\t\t\tvalue, studentAddress\r\n\t\t\t)\r\n\t\t\tif (tx == null) {\r\n\t\t\t\tthis.txMode = 'failedTX';\r\n\t\t\t} else {\r\n\t\t\t\tthis.hashTx = tx.hash;\r\n\t\t\t\tthis.txMode = 'successTX';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n\tproduction: false,\r\n\tconnectMetamskForTests: false,\r\n\tUniversityAddress: '0xa03E45a84E253aE34C1298615cC3d140Bc69ECc9',\r\n\tInfuraKey: '50d52dadc1054facbb36bd19254da96e',\r\n\tnetwork: 'ropsten',\r\n\tENSRegistryAddress: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\r\n\tENSRegistrarAddress: '0x09B5bd82f3351A4c8437FC6D7772A9E6cd5D25A1', //TestRegistrar\r\n\tENSPulbicResolverAddress: '0x42D63ae25990889E35F215bC95884039Ba354115', //TestResolver\r\n\tENSReverseRegistrarAddress: '0x6F628b68b30Dc3c17f345c9dbBb1E483c2b7aE5c',\r\n\tENSUniversityName: 'university',\r\n\tENSDomain: '.test',\r\n\tWETHAddress: '0xc778417e063141139fce010982780140aa0cd5ab',\r\n\tDAIAddress: '0xf80A32A835F79D7787E8a8ee5721D0fEaFd78108',\r\n\tCompoundDAIAddress: '0x6ce27497a64fffb5517aa4aee908b1e7eb63b9ff',\r\n\tAaveDAIAddress: '0xcB1Fe6F440c49E9290c3eb7f158534c2dC374201',\r\n\tUniswapRouter: '0xf164fC0Ec4E93095b804a4795bBe1e041497b92a',\r\n\tLINKAddress: '0x20fe562d797a42dcb3399062ae9546cd06f63280',\r\n\tChainlinkOracleRandom: '0xc99B3D447826532722E41bc36e644ba3479E4365',\r\n\tChainlinkRequestIdRandom: '0x243e52d19ebc4098bfc30d9d7117b91a00000000000000000000000000000000',\r\n\tChainlinkOraclePaymentRandom: 1,\r\n\tChainlinkOracleTimestamp: '0xc99B3D447826532722E41bc36e644ba3479E4365',\r\n\tChainlinkRequestIdTimestamp: '0x2ebb1c1a4b1e4229adac24ee0b5f784f00000000000000000000000000000000',\r\n\tChainlinkOraclePaymentTimestamp: 1,\r\n\tAaveLendingPoolAddressesProvider : '0x1c8756FD2B28e9426CDBDcC7E3c4d64fa9A54728',\r\n\tDefaultGasRelayHub: \"0xEF46DD512bCD36619a6531Ca84B188b47D85124b\",\r\n\tDefaultTestPaymaster: \"0x663946D7Ea17FEd07BF1420559F9FB73d85B5B03\",\r\n\tDefaultStakeManager: \"0x41c7C7c1Bf501e2F43b51c200FEeEC87540AC925\",\r\n\tUniversityFundAddress: \"0x630991655036A034Ff4eB99daEc449661988404C\",\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","export class Classroom {\r\n\tpublic startDate: Date;\r\n\tpublic finishDate: Date;\r\n\tpublic startDate_StringDate: string;\r\n\tpublic finishDate_StringDate: string;\r\n\tpublic startDate_String: string;\r\n\tpublic finishDate_String: string;\r\n\tdateStringOptions = { year: 'numeric', month: 'long', day: 'numeric' };\r\n\tpublic metadata = {\r\n\t\tENSName: '',\r\n\t\temail: '',\r\n\t\turl: '',\r\n\t\tavatar: '',\r\n\t\tdescription: '',\r\n\t\tnotice: '',\r\n\t\tkeywords: new Array<string>(),\r\n\t\tskylink: '',\r\n\t};\r\n\tpublic funds = { DAI: 0, LINK: 0 };\r\n\tpublic classdata = {\r\n\t\tstudents: 0,\r\n\t\tvalidStudents: 0,\r\n\t\tfundsInvested: 0,\r\n\t\tinvestmentReturns: 0,\r\n\t\tcourseBalance: 0,\r\n\t};\r\n\tpublic params = { compoundApplyPercentage: 50, aaveApplyPercentage: 50 };\r\n\tpublic configs = {\r\n\t\toracleRandom: '',\r\n\t\trequestIdRandom: '',\r\n\t\toraclePaymentRandom: 0,\r\n\t\toracleTimestamp: '',\r\n\t\trequestIdTimestamp: '',\r\n\t\toraclePaymentTimestamp: 0,\r\n\t\tlinkToken: '',\r\n\t\tuniswapDAI: '',\r\n\t\tuniswapLINK: '',\r\n\t\tuniswapRouter: '',\r\n\t\taaveProvider: '',\r\n\t\taaveLendingPool: '',\r\n\t\taaveLendingPoolCore: '',\r\n\t\taTokenDAI: '',\r\n\t};\r\n\tpublic ENSHasNotice = false;\r\n\tpublic state = {\r\n\t\tisClassroomNotOpen: false,\r\n\t\tisClassroomOpen: false,\r\n\t\tisClassroomClosed: false,\r\n\t\tisClassroomActive: false,\r\n\t\tisCourseFinished: false,\r\n\t};\r\n\r\n\tconstructor(\r\n\t\tpublic id: number,\r\n\t\tpublic title: string,\r\n\t\tpublic smartcontract: string,\r\n\t\tpublic startDateTimestamp: number,\r\n\t\tpublic finishDateTimestamp: number,\r\n\t\tpublic duration: number,\r\n\t\tpublic price: number,\r\n\t\tpublic minScore: number,\r\n\t\tpublic cutPrincipal: number,\r\n\t\tpublic cutPool: number,\r\n\t\tpublic openForApplication: Boolean,\r\n\t\tpublic courseEmpty: Boolean,\r\n\t\tpublic classroomActive: Boolean,\r\n\t\tpublic courseFinished: Boolean,\r\n\t\tpublic addressChallenge: string,\r\n\t\tpublic owner: string\r\n\t) {\r\n\t\tthis.refreshInfo();\r\n\t}\r\n\r\n\tpublic setupInfo(\r\n\t\tid_: number,\r\n\t\ttitle_: string,\r\n\t\tsmartcontract_: string,\r\n\t\tstartDateTimestamp_: number,\r\n\t\tfinishDateTimestamp_: number,\r\n\t\tduration_: number,\r\n\t\tprice_: number,\r\n\t\tminScore_: number,\r\n\t\tcutPrincipal_: number,\r\n\t\tcutPool_: number,\r\n\t\topenForApplication_: Boolean,\r\n\t\tcourseEmpty_: Boolean,\r\n\t\tclassroomActive_: Boolean,\r\n\t\tcourseFinished_: Boolean,\r\n\t\taddressChallenge_: string,\r\n\t\towner_: string\r\n\t) {\r\n\t\tthis.id = id_;\r\n\t\tthis.title = title_;\r\n\t\tthis.smartcontract = smartcontract_;\r\n\t\tthis.startDateTimestamp = startDateTimestamp_;\r\n\t\tthis.finishDateTimestamp = finishDateTimestamp_;\r\n\t\tthis.duration = duration_;\r\n\t\tthis.price = price_;\r\n\t\tthis.minScore = minScore_;\r\n\t\tthis.cutPrincipal = cutPrincipal_;\r\n\t\tthis.cutPool = cutPool_;\r\n\t\tthis.openForApplication = openForApplication_;\r\n\t\tthis.courseEmpty = courseEmpty_;\r\n\t\tthis.classroomActive = classroomActive_;\r\n\t\tthis.courseFinished = courseFinished_;\r\n\t\tthis.addressChallenge = addressChallenge_;\r\n\t\tthis.owner = owner_;\r\n\t\tthis.refreshInfo();\r\n\t}\r\n\r\n\tprivate refreshInfo() {\r\n\t\tthis.startDate = new Date(this.startDateTimestamp * 1000);\r\n\t\tthis.finishDate = new Date(this.finishDateTimestamp * 1000);\r\n\t\tthis.startDate_StringDate = this.startDate.toLocaleDateString(\r\n\t\t\t'en-US',\r\n\t\t\tthis.dateStringOptions\r\n\t\t);\r\n\t\tthis.finishDate_StringDate = this.finishDate.toLocaleDateString(\r\n\t\t\t'en-US',\r\n\t\t\tthis.dateStringOptions\r\n\t\t);\r\n\t\tthis.startDate_String = this.startDate.toUTCString();\r\n\t\tthis.finishDate_String = this.finishDate.toUTCString();\r\n\t\tthis.updateState();\r\n\t}\r\n\r\n\tpublic updateState() {\r\n\t\tthis.state.isClassroomNotOpen = false;\r\n\t\tthis.state.isClassroomOpen = false;\r\n\t\tthis.state.isClassroomClosed = false;\r\n\t\tthis.state.isClassroomActive = false;\r\n\t\tthis.state.isCourseFinished = false;\r\n\t\tswitch (this.getState()) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tthis.state.isClassroomNotOpen = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: {\r\n\t\t\t\tthis.state.isClassroomOpen = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\tthis.state.isClassroomClosed = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\tthis.state.isClassroomActive = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 4: {\r\n\t\t\t\tthis.state.isCourseFinished = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getState(): number {\r\n\t\tif (this.courseFinished) return 4;\r\n\t\tif (this.classroomActive) return 3;\r\n\t\tif (!this.openForApplication && !this.courseEmpty) return 2;\r\n\t\tif (this.openForApplication) return 1;\r\n\t\treturn 0;\r\n\t}\r\n}\r\n","export class GenericUser {\r\n    constructor(\r\n        public id: Number,\r\n        public address: String\r\n    ) {}\r\n\r\n}","import { Classroom } from './classroom.model';\r\n\r\nconst date1 = Date.now()/1000;\r\nconst date2 = Date.now()/1000 + 24*60*60*10;\r\nexport const CLASSROOMS: Classroom[] = [\r\n  new Classroom( 1, \"Learn Solidity\", \"smartcontract\", date1 , date2,10, 400, 0, 0.2*1e2, 0.5*1e2, true, true, false, false, \"NONE\", \"\"),\r\n  new Classroom( 2, \"Learn Dapp\", \"smartcontract\", date1, date2,10, 300, 0, 0.2*1e2, 0.5*1e2, true, false, false, false, \"NONE\", \"\"),\r\n  new Classroom( 3, \"Learn Defi\", \"smartcontract\", date1, date2,10, 300, 0, 0.2*1e2, 0.5*1e2, true, false, false, false, \"NONE\", \"\"),\r\n  new Classroom( 4, \"Learn Ethereum\", \"smartcontract\", date1, date2,10, 500, 0, 0.2*1e2, 0.5*1e2, false, true, false, false, \"NONE\", \"\"),\r\n  new Classroom( 5, \"Learn Blockchain\", \"smartcontract\", date1, date2,10, 200, 0, 0.2*1e2, 0.5*1e2, false, false, false, false, \"NONE\", \"\"),\r\n];\r\n","import { StudentApplication } from './studentApplication.model';\r\nimport { Globals } from '../app/app.globals';\r\n\r\nexport class Student {\r\n\tpublic metadata = {\r\n\t\tENSName: '',\r\n\t\temail: '',\r\n\t\turl: '',\r\n\t\tavatar: '',\r\n\t\tdescription: '',\r\n\t\tnotice: '',\r\n\t\tkeywords: new Array<string>(),\r\n\t};\r\n\r\n\tpublic studentENSNameRecord = false;\r\n\r\n\tpublic applications: Array<StudentApplication>;\r\n\r\n\tpublic hasApplications = false;\r\n\tpublic address: string;\r\n\tpublic name: string;\r\n\tpublic score: string;\r\n\tconstructor(public globals: Globals, public smartContractAddress: string) {}\r\n\r\n\tpublic async updateApplications() {\r\n\t\tthis.applications = new Array<StudentApplication>();\r\n\t\tconst apps = await this.globals.service.getApplications();\r\n\t\tapps.forEach((address) => {\r\n\t\t\tlet thisApp = new StudentApplication(\r\n\t\t\t\tthis.globals,\r\n\t\t\t\taddress,\r\n\t\t\t\tthis.smartContractAddress\r\n\t\t\t);\r\n\t\t\tthis.globals.service.connectStudentApplication(address);\r\n\t\t\tthis.globals.service\r\n\t\t\t\t.viewApplicationClassroomAddress()\r\n\t\t\t\t.then((val) => {\r\n\t\t\t\t\tthisApp.address = val;\r\n\t\t\t\t\tthis.applications.push(thisApp);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import { Globals } from '../app/app.globals';\r\nimport { ethers } from 'ethers';\r\n\r\nexport class StudentApplication {\r\n\tpublic state = 0;\r\n\tpublic classroomAddress: string;\r\n\tpublic verifyAnswer = false;\r\n\tpublic prize = 0;\r\n\tpublic principal = 0;\r\n\tpublic funds = 0;\r\n\tpublic material: string;\r\n\tpublic answerAddress: string;\r\n\tpublic correctAnswer: boolean;\r\n\r\n\tconstructor(\r\n\t\tpublic globals: Globals,\r\n\t\tpublic address: string,\r\n\t\tpublic studentAddress: string\r\n\t) {}\r\n\r\n\tpublic connectService() {\r\n\t\tthis.globals.service.connectStudentApplication(this.address);\r\n\t}\r\n\r\n\tpublic isConnected() {\r\n\t\tif (!this.globals.service.studentApplicationContractInstance)\r\n\t\t\treturn false;\r\n\t\tif (\r\n\t\t\tthis.globals.service.studentApplicationContractInstance.address !=\r\n\t\t\tthis.address\r\n\t\t)\r\n\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic async updateState() {\r\n\t\tif (!this.isConnected()) this.connectService();\r\n\t\tthis.verifyAnswer = await this.globals.service.studentApplicationContractInstance.verifyAnswer();\r\n\t\tlet val = await this.globals.service.studentApplicationContractInstance.viewPrincipalReturned();\r\n\t\tthis.principal = Number(ethers.utils.formatEther(val));\r\n\t\tval = await this.globals.service.studentApplicationContractInstance.viewPrizeReturned();\r\n\t\tthis.prize = Number(ethers.utils.formatEther(val));\r\n\t\tthis.funds = this.prize + this.principal;\r\n\t}\r\n}\r\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"]}